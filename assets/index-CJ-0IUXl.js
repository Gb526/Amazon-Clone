function zL(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function _E(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dv={exports:{}},vd={},hv={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $S;function WL(){if($S)return je;$S=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function _(z){return z===null||typeof z!="object"?null:(z=g&&z[g]||z["@@iterator"],typeof z=="function"?z:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,R={};function A(z,ie,Te){this.props=z,this.context=ie,this.refs=R,this.updater=Te||T}A.prototype.isReactComponent={},A.prototype.setState=function(z,ie){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ie,"setState")},A.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function V(){}V.prototype=A.prototype;function L(z,ie,Te){this.props=z,this.context=ie,this.refs=R,this.updater=Te||T}var M=L.prototype=new V;M.constructor=L,I(M,A.prototype),M.isPureReactComponent=!0;var W=Array.isArray,j=Object.prototype.hasOwnProperty,q={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function P(z,ie,Te){var ke,Ve={},$e=null,Qe=null;if(ie!=null)for(ke in ie.ref!==void 0&&(Qe=ie.ref),ie.key!==void 0&&($e=""+ie.key),ie)j.call(ie,ke)&&!D.hasOwnProperty(ke)&&(Ve[ke]=ie[ke]);var qe=arguments.length-2;if(qe===1)Ve.children=Te;else if(1<qe){for(var rt=Array(qe),vt=0;vt<qe;vt++)rt[vt]=arguments[vt+2];Ve.children=rt}if(z&&z.defaultProps)for(ke in qe=z.defaultProps,qe)Ve[ke]===void 0&&(Ve[ke]=qe[ke]);return{$$typeof:n,type:z,key:$e,ref:Qe,props:Ve,_owner:q.current}}function C(z,ie){return{$$typeof:n,type:z.type,key:ie,ref:z.ref,props:z.props,_owner:z._owner}}function E(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function x(z){var ie={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Te){return ie[Te]})}var k=/\/+/g;function O(z,ie){return typeof z=="object"&&z!==null&&z.key!=null?x(""+z.key):ie.toString(36)}function ee(z,ie,Te,ke,Ve){var $e=typeof z;($e==="undefined"||$e==="boolean")&&(z=null);var Qe=!1;if(z===null)Qe=!0;else switch($e){case"string":case"number":Qe=!0;break;case"object":switch(z.$$typeof){case n:case e:Qe=!0}}if(Qe)return Qe=z,Ve=Ve(Qe),z=ke===""?"."+O(Qe,0):ke,W(Ve)?(Te="",z!=null&&(Te=z.replace(k,"$&/")+"/"),ee(Ve,ie,Te,"",function(vt){return vt})):Ve!=null&&(E(Ve)&&(Ve=C(Ve,Te+(!Ve.key||Qe&&Qe.key===Ve.key?"":(""+Ve.key).replace(k,"$&/")+"/")+z)),ie.push(Ve)),1;if(Qe=0,ke=ke===""?".":ke+":",W(z))for(var qe=0;qe<z.length;qe++){$e=z[qe];var rt=ke+O($e,qe);Qe+=ee($e,ie,Te,rt,Ve)}else if(rt=_(z),typeof rt=="function")for(z=rt.call(z),qe=0;!($e=z.next()).done;)$e=$e.value,rt=ke+O($e,qe++),Qe+=ee($e,ie,Te,rt,Ve);else if($e==="object")throw ie=String(z),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.");return Qe}function F(z,ie,Te){if(z==null)return z;var ke=[],Ve=0;return ee(z,ke,"","",function($e){return ie.call(Te,$e,Ve++)}),ke}function me(z){if(z._status===-1){var ie=z._result;ie=ie(),ie.then(function(Te){(z._status===0||z._status===-1)&&(z._status=1,z._result=Te)},function(Te){(z._status===0||z._status===-1)&&(z._status=2,z._result=Te)}),z._status===-1&&(z._status=0,z._result=ie)}if(z._status===1)return z._result.default;throw z._result}var oe={current:null},X={transition:null},pe={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:X,ReactCurrentOwner:q};function he(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:F,forEach:function(z,ie,Te){F(z,function(){ie.apply(this,arguments)},Te)},count:function(z){var ie=0;return F(z,function(){ie++}),ie},toArray:function(z){return F(z,function(ie){return ie})||[]},only:function(z){if(!E(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},je.Component=A,je.Fragment=t,je.Profiler=i,je.PureComponent=L,je.StrictMode=r,je.Suspense=d,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,je.act=he,je.cloneElement=function(z,ie,Te){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var ke=I({},z.props),Ve=z.key,$e=z.ref,Qe=z._owner;if(ie!=null){if(ie.ref!==void 0&&($e=ie.ref,Qe=q.current),ie.key!==void 0&&(Ve=""+ie.key),z.type&&z.type.defaultProps)var qe=z.type.defaultProps;for(rt in ie)j.call(ie,rt)&&!D.hasOwnProperty(rt)&&(ke[rt]=ie[rt]===void 0&&qe!==void 0?qe[rt]:ie[rt])}var rt=arguments.length-2;if(rt===1)ke.children=Te;else if(1<rt){qe=Array(rt);for(var vt=0;vt<rt;vt++)qe[vt]=arguments[vt+2];ke.children=qe}return{$$typeof:n,type:z.type,key:Ve,ref:$e,props:ke,_owner:Qe}},je.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:s,_context:z},z.Consumer=z},je.createElement=P,je.createFactory=function(z){var ie=P.bind(null,z);return ie.type=z,ie},je.createRef=function(){return{current:null}},je.forwardRef=function(z){return{$$typeof:u,render:z}},je.isValidElement=E,je.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:me}},je.memo=function(z,ie){return{$$typeof:h,type:z,compare:ie===void 0?null:ie}},je.startTransition=function(z){var ie=X.transition;X.transition={};try{z()}finally{X.transition=ie}},je.unstable_act=he,je.useCallback=function(z,ie){return oe.current.useCallback(z,ie)},je.useContext=function(z){return oe.current.useContext(z)},je.useDebugValue=function(){},je.useDeferredValue=function(z){return oe.current.useDeferredValue(z)},je.useEffect=function(z,ie){return oe.current.useEffect(z,ie)},je.useId=function(){return oe.current.useId()},je.useImperativeHandle=function(z,ie,Te){return oe.current.useImperativeHandle(z,ie,Te)},je.useInsertionEffect=function(z,ie){return oe.current.useInsertionEffect(z,ie)},je.useLayoutEffect=function(z,ie){return oe.current.useLayoutEffect(z,ie)},je.useMemo=function(z,ie){return oe.current.useMemo(z,ie)},je.useReducer=function(z,ie,Te){return oe.current.useReducer(z,ie,Te)},je.useRef=function(z){return oe.current.useRef(z)},je.useState=function(z){return oe.current.useState(z)},je.useSyncExternalStore=function(z,ie,Te){return oe.current.useSyncExternalStore(z,ie,Te)},je.useTransition=function(){return oe.current.useTransition()},je.version="18.3.1",je}var jS;function Ho(){return jS||(jS=1,hv.exports=WL()),hv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BS;function qL(){if(BS)return vd;BS=1;var n=Ho(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,h){var m,g={},_=null,T=null;h!==void 0&&(_=""+h),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(T=d.ref);for(m in d)r.call(d,m)&&!s.hasOwnProperty(m)&&(g[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)g[m]===void 0&&(g[m]=d[m]);return{$$typeof:e,type:u,key:_,ref:T,props:g,_owner:i.current}}return vd.Fragment=t,vd.jsx=l,vd.jsxs=l,vd}var zS;function HL(){return zS||(zS=1,dv.exports=qL()),dv.exports}var $=HL(),K=Ho();const Ke=_E(K),rw=zL({__proto__:null,default:Ke},[K]);var $p={},fv={exports:{}},Zn={},pv={exports:{}},mv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS;function KL(){return WS||(WS=1,function(n){function e(X,pe){var he=X.length;X.push(pe);e:for(;0<he;){var z=he-1>>>1,ie=X[z];if(0<i(ie,pe))X[z]=pe,X[he]=ie,he=z;else break e}}function t(X){return X.length===0?null:X[0]}function r(X){if(X.length===0)return null;var pe=X[0],he=X.pop();if(he!==pe){X[0]=he;e:for(var z=0,ie=X.length,Te=ie>>>1;z<Te;){var ke=2*(z+1)-1,Ve=X[ke],$e=ke+1,Qe=X[$e];if(0>i(Ve,he))$e<ie&&0>i(Qe,Ve)?(X[z]=Qe,X[$e]=he,z=$e):(X[z]=Ve,X[ke]=he,z=ke);else if($e<ie&&0>i(Qe,he))X[z]=Qe,X[$e]=he,z=$e;else break e}}return pe}function i(X,pe){var he=X.sortIndex-pe.sortIndex;return he!==0?he:X.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],h=[],m=1,g=null,_=3,T=!1,I=!1,R=!1,A=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(X){for(var pe=t(h);pe!==null;){if(pe.callback===null)r(h);else if(pe.startTime<=X)r(h),pe.sortIndex=pe.expirationTime,e(d,pe);else break;pe=t(h)}}function W(X){if(R=!1,M(X),!I)if(t(d)!==null)I=!0,me(j);else{var pe=t(h);pe!==null&&oe(W,pe.startTime-X)}}function j(X,pe){I=!1,R&&(R=!1,V(P),P=-1),T=!0;var he=_;try{for(M(pe),g=t(d);g!==null&&(!(g.expirationTime>pe)||X&&!x());){var z=g.callback;if(typeof z=="function"){g.callback=null,_=g.priorityLevel;var ie=z(g.expirationTime<=pe);pe=n.unstable_now(),typeof ie=="function"?g.callback=ie:g===t(d)&&r(d),M(pe)}else r(d);g=t(d)}if(g!==null)var Te=!0;else{var ke=t(h);ke!==null&&oe(W,ke.startTime-pe),Te=!1}return Te}finally{g=null,_=he,T=!1}}var q=!1,D=null,P=-1,C=5,E=-1;function x(){return!(n.unstable_now()-E<C)}function k(){if(D!==null){var X=n.unstable_now();E=X;var pe=!0;try{pe=D(!0,X)}finally{pe?O():(q=!1,D=null)}}else q=!1}var O;if(typeof L=="function")O=function(){L(k)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,F=ee.port2;ee.port1.onmessage=k,O=function(){F.postMessage(null)}}else O=function(){A(k,0)};function me(X){D=X,q||(q=!0,O())}function oe(X,pe){P=A(function(){X(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_continueExecution=function(){I||T||(I=!0,me(j))},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(X){switch(_){case 1:case 2:case 3:var pe=3;break;default:pe=_}var he=_;_=pe;try{return X()}finally{_=he}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(X,pe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var he=_;_=X;try{return pe()}finally{_=he}},n.unstable_scheduleCallback=function(X,pe,he){var z=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?z+he:z):he=z,X){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=he+ie,X={id:m++,callback:pe,priorityLevel:X,startTime:he,expirationTime:ie,sortIndex:-1},he>z?(X.sortIndex=he,e(h,X),t(d)===null&&X===t(h)&&(R?(V(P),P=-1):R=!0,oe(W,he-z))):(X.sortIndex=ie,e(d,X),I||T||(I=!0,me(j))),X},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(X){var pe=_;return function(){var he=_;_=pe;try{return X.apply(this,arguments)}finally{_=he}}}}(mv)),mv}var qS;function GL(){return qS||(qS=1,pv.exports=KL()),pv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HS;function QL(){if(HS)return Zn;HS=1;var n=Ho(),e=GL();function t(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(i[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function _(o){return d.call(g,o)?!0:d.call(m,o)?!1:h.test(o)?g[o]=!0:(m[o]=!0,!1)}function T(o,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function I(o,a,c,p){if(a===null||typeof a>"u"||T(o,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function R(o,a,c,p,y,w,b){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=o,this.type=a,this.sanitizeURL=w,this.removeEmptyString=b}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){A[o]=new R(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];A[a]=new R(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){A[o]=new R(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){A[o]=new R(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){A[o]=new R(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){A[o]=new R(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){A[o]=new R(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){A[o]=new R(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){A[o]=new R(o,5,!1,o.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function L(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(V,L);A[a]=new R(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(V,L);A[a]=new R(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(V,L);A[a]=new R(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){A[o]=new R(o,1,!1,o.toLowerCase(),null,!1,!1)}),A.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){A[o]=new R(o,1,!1,o.toLowerCase(),null,!0,!0)});function M(o,a,c,p){var y=A.hasOwnProperty(a)?A[a]:null;(y!==null?y.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(I(a,c,y,p)&&(c=null),p||y===null?_(a)&&(c===null?o.removeAttribute(a):o.setAttribute(a,""+c)):y.mustUseProperty?o[y.propertyName]=c===null?y.type===3?!1:"":c:(a=y.attributeName,p=y.attributeNamespace,c===null?o.removeAttribute(a):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,p?o.setAttributeNS(p,a,c):o.setAttribute(a,c))))}var W=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),q=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),X=Symbol.iterator;function pe(o){return o===null||typeof o!="object"?null:(o=X&&o[X]||o["@@iterator"],typeof o=="function"?o:null)}var he=Object.assign,z;function ie(o){if(z===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);z=a&&a[1]||""}return`
`+z+o}var Te=!1;function ke(o,a){if(!o||Te)return"";Te=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Z){var p=Z}Reflect.construct(o,[],a)}else{try{a.call()}catch(Z){p=Z}o.call(a.prototype)}else{try{throw Error()}catch(Z){p=Z}o()}}catch(Z){if(Z&&p&&typeof Z.stack=="string"){for(var y=Z.stack.split(`
`),w=p.stack.split(`
`),b=y.length-1,U=w.length-1;1<=b&&0<=U&&y[b]!==w[U];)U--;for(;1<=b&&0<=U;b--,U--)if(y[b]!==w[U]){if(b!==1||U!==1)do if(b--,U--,0>U||y[b]!==w[U]){var B=`
`+y[b].replace(" at new "," at ");return o.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",o.displayName)),B}while(1<=b&&0<=U);break}}}finally{Te=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?ie(o):""}function Ve(o){switch(o.tag){case 5:return ie(o.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 2:case 15:return o=ke(o.type,!1),o;case 11:return o=ke(o.type.render,!1),o;case 1:return o=ke(o.type,!0),o;default:return""}}function $e(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case D:return"Fragment";case q:return"Portal";case C:return"Profiler";case P:return"StrictMode";case O:return"Suspense";case ee:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case x:return(o.displayName||"Context")+".Consumer";case E:return(o._context.displayName||"Context")+".Provider";case k:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case F:return a=o.displayName||null,a!==null?a:$e(o.type)||"Memo";case me:a=o._payload,o=o._init;try{return $e(o(a))}catch{}}return null}function Qe(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $e(a);case 8:return a===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function qe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function rt(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function vt(o){var a=rt(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),p=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,w=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return y.call(this)},set:function(b){p=""+b,w.call(this,b)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(b){p=""+b},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function ln(o){o._valueTracker||(o._valueTracker=vt(o))}function it(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return o&&(p=rt(o)?o.checked?"true":"false":o.value),o=p,o!==c?(a.setValue(o),!0):!1}function mt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Zt(o,a){var c=a.checked;return he({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function Wr(o,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=qe(a.value!=null?a.value:c),o._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Ar(o,a){a=a.checked,a!=null&&M(o,"checked",a,!1)}function Pr(o,a){Ar(o,a);var c=qe(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(p==="submit"||p==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?qn(o,a.type,c):a.hasOwnProperty("defaultValue")&&qn(o,a.type,qe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function Wn(o,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,c||a===o.value||(o.value=a),o.defaultValue=a}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function qn(o,a,c){(a!=="number"||mt(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var or=Array.isArray;function ts(o,a,c,p){if(o=o.options,a){a={};for(var y=0;y<c.length;y++)a["$"+c[y]]=!0;for(c=0;c<o.length;c++)y=a.hasOwnProperty("$"+o[c].value),o[c].selected!==y&&(o[c].selected=y),y&&p&&(o[c].defaultSelected=!0)}else{for(c=""+qe(c),a=null,y=0;y<o.length;y++){if(o[y].value===c){o[y].selected=!0,p&&(o[y].defaultSelected=!0);return}a!==null||o[y].disabled||(a=o[y])}a!==null&&(a.selected=!0)}}function Pc(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return he({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function pl(o,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(or(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}o._wrapperState={initialValue:qe(c)}}function ml(o,a){var c=qe(a.value),p=qe(a.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),a.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),p!=null&&(o.defaultValue=""+p)}function bc(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function en(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tn(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?en(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var ns,Cc=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,y){MSApp.execUnsafeLocalFunction(function(){return o(a,c,p,y)})}:o}(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ns.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function Ws(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ra=["Webkit","ms","Moz","O"];Object.keys(na).forEach(function(o){ra.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),na[a]=na[o]})});function kc(o,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||na.hasOwnProperty(o)&&na[o]?(""+a).trim():a+"px"}function xc(o,a){o=o.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,y=kc(c,a[c],p);c==="float"&&(c="cssFloat"),p?o.setProperty(c,y):o[c]=y}}var Oc=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nc(o,a){if(a){if(Oc[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Dc(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ia=null;function gl(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yl=null,br=null,mi=null;function _l(o){if(o=id(o)){if(typeof yl!="function")throw Error(t(280));var a=o.stateNode;a&&(a=tp(a),yl(o.stateNode,o.type,a))}}function gi(o){br?mi?mi.push(o):mi=[o]:br=o}function Lc(){if(br){var o=br,a=mi;if(mi=br=null,_l(o),a)for(o=0;o<a.length;o++)_l(a[o])}}function sa(o,a){return o(a)}function Vc(){}var rs=!1;function Mc(o,a,c){if(rs)return o(a,c);rs=!0;try{return sa(o,a,c)}finally{rs=!1,(br!==null||mi!==null)&&(Vc(),Lc())}}function $t(o,a){var c=o.stateNode;if(c===null)return null;var p=tp(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var vl=!1;if(u)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){vl=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{vl=!1}function oa(o,a,c,p,y,w,b,U,B){var Z=Array.prototype.slice.call(arguments,3);try{a.apply(c,Z)}catch(ce){this.onError(ce)}}var aa=!1,wl=null,Hr=!1,Fc=null,Uy={onError:function(o){aa=!0,wl=o}};function El(o,a,c,p,y,w,b,U,B){aa=!1,wl=null,oa.apply(Uy,arguments)}function Af(o,a,c,p,y,w,b,U,B){if(El.apply(this,arguments),aa){if(aa){var Z=wl;aa=!1,wl=null}else throw Error(t(198));Hr||(Hr=!0,Fc=Z)}}function Kr(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function la(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function Gr(o){if(Kr(o)!==o)throw Error(t(188))}function Pf(o){var a=o.alternate;if(!a){if(a=Kr(o),a===null)throw Error(t(188));return a!==o?null:o}for(var c=o,p=a;;){var y=c.return;if(y===null)break;var w=y.alternate;if(w===null){if(p=y.return,p!==null){c=p;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===c)return Gr(y),o;if(w===p)return Gr(y),a;w=w.sibling}throw Error(t(188))}if(c.return!==p.return)c=y,p=w;else{for(var b=!1,U=y.child;U;){if(U===c){b=!0,c=y,p=w;break}if(U===p){b=!0,p=y,c=w;break}U=U.sibling}if(!b){for(U=w.child;U;){if(U===c){b=!0,c=w,p=y;break}if(U===p){b=!0,p=w,c=y;break}U=U.sibling}if(!b)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?o:a}function Uc(o){return o=Pf(o),o!==null?Il(o):null}function Il(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=Il(o);if(a!==null)return a;o=o.sibling}return null}var Tl=e.unstable_scheduleCallback,$c=e.unstable_cancelCallback,bf=e.unstable_shouldYield,$y=e.unstable_requestPaint,ht=e.unstable_now,Cf=e.unstable_getCurrentPriorityLevel,ua=e.unstable_ImmediatePriority,qs=e.unstable_UserBlockingPriority,Cr=e.unstable_NormalPriority,jc=e.unstable_LowPriority,kf=e.unstable_IdlePriority,ca=null,ar=null;function xf(o){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(ca,o,void 0,(o.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:Nf,Bc=Math.log,Of=Math.LN2;function Nf(o){return o>>>=0,o===0?32:31-(Bc(o)/Of|0)|0}var Sl=64,Rl=4194304;function Hs(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function da(o,a){var c=o.pendingLanes;if(c===0)return 0;var p=0,y=o.suspendedLanes,w=o.pingedLanes,b=c&268435455;if(b!==0){var U=b&~y;U!==0?p=Hs(U):(w&=b,w!==0&&(p=Hs(w)))}else b=c&~y,b!==0?p=Hs(b):w!==0&&(p=Hs(w));if(p===0)return 0;if(a!==0&&a!==p&&(a&y)===0&&(y=p&-p,w=a&-a,y>=w||y===16&&(w&4194240)!==0))return a;if((p&4)!==0&&(p|=c&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=p;0<a;)c=31-Vn(a),y=1<<c,p|=o[c],a&=~y;return p}function jy(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function is(o,a){for(var c=o.suspendedLanes,p=o.pingedLanes,y=o.expirationTimes,w=o.pendingLanes;0<w;){var b=31-Vn(w),U=1<<b,B=y[b];B===-1?((U&c)===0||(U&p)!==0)&&(y[b]=jy(U,a)):B<=a&&(o.expiredLanes|=U),w&=~U}}function lr(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function ha(){var o=Sl;return Sl<<=1,(Sl&4194240)===0&&(Sl=64),o}function Ks(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function Gs(o,a,c){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-Vn(a),o[a]=c}function ut(o,a){var c=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var p=o.eventTimes;for(o=o.expirationTimes;0<c;){var y=31-Vn(c),w=1<<y;a[y]=0,p[y]=-1,o[y]=-1,c&=~w}}function Qs(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var p=31-Vn(c),y=1<<p;y&a|o[p]&a&&(o[p]|=a),c&=~y}}var He=0;function Ys(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Df,Al,Lf,Vf,Mf,zc=!1,yi=[],yn=null,Qr=null,Yr=null,Js=new Map,kr=new Map,_i=[],By="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ff(o,a){switch(o){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Js.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":kr.delete(a.pointerId)}}function Hn(o,a,c,p,y,w){return o===null||o.nativeEvent!==w?(o={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[y]},a!==null&&(a=id(a),a!==null&&Al(a)),o):(o.eventSystemFlags|=p,a=o.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),o)}function zy(o,a,c,p,y){switch(a){case"focusin":return yn=Hn(yn,o,a,c,p,y),!0;case"dragenter":return Qr=Hn(Qr,o,a,c,p,y),!0;case"mouseover":return Yr=Hn(Yr,o,a,c,p,y),!0;case"pointerover":var w=y.pointerId;return Js.set(w,Hn(Js.get(w)||null,o,a,c,p,y)),!0;case"gotpointercapture":return w=y.pointerId,kr.set(w,Hn(kr.get(w)||null,o,a,c,p,y)),!0}return!1}function Uf(o){var a=ya(o.target);if(a!==null){var c=Kr(a);if(c!==null){if(a=c.tag,a===13){if(a=la(c),a!==null){o.blockedOn=a,Mf(o.priority,function(){Lf(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ss(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=Pl(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var p=new c.constructor(c.type,c);ia=p,c.target.dispatchEvent(p),ia=null}else return a=id(c),a!==null&&Al(a),o.blockedOn=c,!1;a.shift()}return!0}function fa(o,a,c){ss(o)&&c.delete(a)}function $f(){zc=!1,yn!==null&&ss(yn)&&(yn=null),Qr!==null&&ss(Qr)&&(Qr=null),Yr!==null&&ss(Yr)&&(Yr=null),Js.forEach(fa),kr.forEach(fa)}function Jr(o,a){o.blockedOn===a&&(o.blockedOn=null,zc||(zc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$f)))}function Xr(o){function a(y){return Jr(y,o)}if(0<yi.length){Jr(yi[0],o);for(var c=1;c<yi.length;c++){var p=yi[c];p.blockedOn===o&&(p.blockedOn=null)}}for(yn!==null&&Jr(yn,o),Qr!==null&&Jr(Qr,o),Yr!==null&&Jr(Yr,o),Js.forEach(a),kr.forEach(a),c=0;c<_i.length;c++)p=_i[c],p.blockedOn===o&&(p.blockedOn=null);for(;0<_i.length&&(c=_i[0],c.blockedOn===null);)Uf(c),c.blockedOn===null&&_i.shift()}var os=W.ReactCurrentBatchConfig,Xs=!0;function wt(o,a,c,p){var y=He,w=os.transition;os.transition=null;try{He=1,Wc(o,a,c,p)}finally{He=y,os.transition=w}}function Wy(o,a,c,p){var y=He,w=os.transition;os.transition=null;try{He=4,Wc(o,a,c,p)}finally{He=y,os.transition=w}}function Wc(o,a,c,p){if(Xs){var y=Pl(o,a,c,p);if(y===null)t_(o,a,p,pa,c),Ff(o,p);else if(zy(y,o,a,c,p))p.stopPropagation();else if(Ff(o,p),a&4&&-1<By.indexOf(o)){for(;y!==null;){var w=id(y);if(w!==null&&Df(w),w=Pl(o,a,c,p),w===null&&t_(o,a,p,pa,c),w===y)break;y=w}y!==null&&p.stopPropagation()}else t_(o,a,p,null,c)}}var pa=null;function Pl(o,a,c,p){if(pa=null,o=gl(p),o=ya(o),o!==null)if(a=Kr(o),a===null)o=null;else if(c=a.tag,c===13){if(o=la(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return pa=o,null}function qc(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cf()){case ua:return 1;case qs:return 4;case Cr:case jc:return 16;case kf:return 536870912;default:return 16}default:return 16}}var ur=null,bl=null,Kn=null;function Hc(){if(Kn)return Kn;var o,a=bl,c=a.length,p,y="value"in ur?ur.value:ur.textContent,w=y.length;for(o=0;o<c&&a[o]===y[o];o++);var b=c-o;for(p=1;p<=b&&a[c-p]===y[w-p];p++);return Kn=y.slice(o,1<p?1-p:void 0)}function Cl(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function vi(){return!0}function Kc(){return!1}function _n(o){function a(c,p,y,w,b){this._reactName=c,this._targetInst=y,this.type=p,this.nativeEvent=w,this.target=b,this.currentTarget=null;for(var U in o)o.hasOwnProperty(U)&&(c=o[U],this[U]=c?c(w):w[U]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?vi:Kc,this.isPropagationStopped=Kc,this}return he(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),a}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=_n(Zr),wi=he({},Zr,{view:0,detail:0}),qy=_n(wi),xl,as,Zs,ma=he({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ei,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Zs&&(Zs&&o.type==="mousemove"?(xl=o.screenX-Zs.screenX,as=o.screenY-Zs.screenY):as=xl=0,Zs=o),xl)},movementY:function(o){return"movementY"in o?o.movementY:as}}),Ol=_n(ma),Gc=he({},ma,{dataTransfer:0}),jf=_n(Gc),Nl=he({},wi,{relatedTarget:0}),Dl=_n(Nl),Bf=he({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),ls=_n(Bf),zf=he({},Zr,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Wf=_n(zf),qf=he({},Zr,{data:0}),Qc=_n(qf),Ll={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kf(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=Hf[o])?!!a[o]:!1}function Ei(){return Kf}var f=he({},wi,{key:function(o){if(o.key){var a=Ll[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=Cl(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Mn[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ei,charCode:function(o){return o.type==="keypress"?Cl(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Cl(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),v=_n(f),S=he({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N=_n(S),Q=he({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ei}),ne=_n(Q),ye=he({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),st=_n(ye),nn=he({},ma,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ye=_n(nn),un=[9,13,27,32],Ht=u&&"CompositionEvent"in window,xr=null;u&&"documentMode"in document&&(xr=document.documentMode);var cr=u&&"TextEvent"in window&&!xr,ga=u&&(!Ht||xr&&8<xr&&11>=xr),Vl=" ",DI=!1;function LI(o,a){switch(o){case"keyup":return un.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VI(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ml=!1;function $D(o,a){switch(o){case"compositionend":return VI(a);case"keypress":return a.which!==32?null:(DI=!0,Vl);case"textInput":return o=a.data,o===Vl&&DI?null:o;default:return null}}function jD(o,a){if(Ml)return o==="compositionend"||!Ht&&LI(o,a)?(o=Hc(),Kn=bl=ur=null,Ml=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ga&&a.locale!=="ko"?null:a.data;default:return null}}var BD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MI(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!BD[o.type]:a==="textarea"}function FI(o,a,c,p){gi(p),a=Xf(a,"onChange"),0<a.length&&(c=new kl("onChange","change",null,c,p),o.push({event:c,listeners:a}))}var Yc=null,Jc=null;function zD(o){nT(o,0)}function Gf(o){var a=Bl(o);if(it(a))return o}function WD(o,a){if(o==="change")return a}var UI=!1;if(u){var Hy;if(u){var Ky="oninput"in document;if(!Ky){var $I=document.createElement("div");$I.setAttribute("oninput","return;"),Ky=typeof $I.oninput=="function"}Hy=Ky}else Hy=!1;UI=Hy&&(!document.documentMode||9<document.documentMode)}function jI(){Yc&&(Yc.detachEvent("onpropertychange",BI),Jc=Yc=null)}function BI(o){if(o.propertyName==="value"&&Gf(Jc)){var a=[];FI(a,Jc,o,gl(o)),Mc(zD,a)}}function qD(o,a,c){o==="focusin"?(jI(),Yc=a,Jc=c,Yc.attachEvent("onpropertychange",BI)):o==="focusout"&&jI()}function HD(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Gf(Jc)}function KD(o,a){if(o==="click")return Gf(a)}function GD(o,a){if(o==="input"||o==="change")return Gf(a)}function QD(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var ei=typeof Object.is=="function"?Object.is:QD;function Xc(o,a){if(ei(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var y=c[p];if(!d.call(a,y)||!ei(o[y],a[y]))return!1}return!0}function zI(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function WI(o,a){var c=zI(o);o=0;for(var p;c;){if(c.nodeType===3){if(p=o+c.textContent.length,o<=a&&p>=a)return{node:c,offset:a-o};o=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=zI(c)}}function qI(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?qI(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function HI(){for(var o=window,a=mt();a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=mt(o.document)}return a}function Gy(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function YD(o){var a=HI(),c=o.focusedElem,p=o.selectionRange;if(a!==c&&c&&c.ownerDocument&&qI(c.ownerDocument.documentElement,c)){if(p!==null&&Gy(c)){if(a=p.start,o=p.end,o===void 0&&(o=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(o,c.value.length);else if(o=(a=c.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var y=c.textContent.length,w=Math.min(p.start,y);p=p.end===void 0?w:Math.min(p.end,y),!o.extend&&w>p&&(y=p,p=w,w=y),y=WI(c,w);var b=WI(c,p);y&&b&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==b.node||o.focusOffset!==b.offset)&&(a=a.createRange(),a.setStart(y.node,y.offset),o.removeAllRanges(),w>p?(o.addRange(a),o.extend(b.node,b.offset)):(a.setEnd(b.node,b.offset),o.addRange(a)))}}for(a=[],o=c;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)o=a[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var JD=u&&"documentMode"in document&&11>=document.documentMode,Fl=null,Qy=null,Zc=null,Yy=!1;function KI(o,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Yy||Fl==null||Fl!==mt(p)||(p=Fl,"selectionStart"in p&&Gy(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Zc&&Xc(Zc,p)||(Zc=p,p=Xf(Qy,"onSelect"),0<p.length&&(a=new kl("onSelect","select",null,a,c),o.push({event:a,listeners:p}),a.target=Fl)))}function Qf(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var Ul={animationend:Qf("Animation","AnimationEnd"),animationiteration:Qf("Animation","AnimationIteration"),animationstart:Qf("Animation","AnimationStart"),transitionend:Qf("Transition","TransitionEnd")},Jy={},GI={};u&&(GI=document.createElement("div").style,"AnimationEvent"in window||(delete Ul.animationend.animation,delete Ul.animationiteration.animation,delete Ul.animationstart.animation),"TransitionEvent"in window||delete Ul.transitionend.transition);function Yf(o){if(Jy[o])return Jy[o];if(!Ul[o])return o;var a=Ul[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in GI)return Jy[o]=a[c];return o}var QI=Yf("animationend"),YI=Yf("animationiteration"),JI=Yf("animationstart"),XI=Yf("transitionend"),ZI=new Map,eT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eo(o,a){ZI.set(o,a),s(a,[o])}for(var Xy=0;Xy<eT.length;Xy++){var Zy=eT[Xy],XD=Zy.toLowerCase(),ZD=Zy[0].toUpperCase()+Zy.slice(1);eo(XD,"on"+ZD)}eo(QI,"onAnimationEnd"),eo(YI,"onAnimationIteration"),eo(JI,"onAnimationStart"),eo("dblclick","onDoubleClick"),eo("focusin","onFocus"),eo("focusout","onBlur"),eo(XI,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eL=new Set("cancel close invalid load scroll toggle".split(" ").concat(ed));function tT(o,a,c){var p=o.type||"unknown-event";o.currentTarget=c,Af(p,a,void 0,o),o.currentTarget=null}function nT(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var p=o[c],y=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var b=p.length-1;0<=b;b--){var U=p[b],B=U.instance,Z=U.currentTarget;if(U=U.listener,B!==w&&y.isPropagationStopped())break e;tT(y,U,Z),w=B}else for(b=0;b<p.length;b++){if(U=p[b],B=U.instance,Z=U.currentTarget,U=U.listener,B!==w&&y.isPropagationStopped())break e;tT(y,U,Z),w=B}}}if(Hr)throw o=Fc,Hr=!1,Fc=null,o}function gt(o,a){var c=a[a_];c===void 0&&(c=a[a_]=new Set);var p=o+"__bubble";c.has(p)||(rT(a,o,2,!1),c.add(p))}function e_(o,a,c){var p=0;a&&(p|=4),rT(c,o,p,a)}var Jf="_reactListening"+Math.random().toString(36).slice(2);function td(o){if(!o[Jf]){o[Jf]=!0,r.forEach(function(c){c!=="selectionchange"&&(eL.has(c)||e_(c,!1,o),e_(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[Jf]||(a[Jf]=!0,e_("selectionchange",!1,a))}}function rT(o,a,c,p){switch(qc(a)){case 1:var y=wt;break;case 4:y=Wy;break;default:y=Wc}c=y.bind(null,a,c,o),y=void 0,!vl||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),p?y!==void 0?o.addEventListener(a,c,{capture:!0,passive:y}):o.addEventListener(a,c,!0):y!==void 0?o.addEventListener(a,c,{passive:y}):o.addEventListener(a,c,!1)}function t_(o,a,c,p,y){var w=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var b=p.tag;if(b===3||b===4){var U=p.stateNode.containerInfo;if(U===y||U.nodeType===8&&U.parentNode===y)break;if(b===4)for(b=p.return;b!==null;){var B=b.tag;if((B===3||B===4)&&(B=b.stateNode.containerInfo,B===y||B.nodeType===8&&B.parentNode===y))return;b=b.return}for(;U!==null;){if(b=ya(U),b===null)return;if(B=b.tag,B===5||B===6){p=w=b;continue e}U=U.parentNode}}p=p.return}Mc(function(){var Z=w,ce=gl(c),fe=[];e:{var le=ZI.get(o);if(le!==void 0){var we=kl,Se=o;switch(o){case"keypress":if(Cl(c)===0)break e;case"keydown":case"keyup":we=v;break;case"focusin":Se="focus",we=Dl;break;case"focusout":Se="blur",we=Dl;break;case"beforeblur":case"afterblur":we=Dl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=jf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=ne;break;case QI:case YI:case JI:we=ls;break;case XI:we=st;break;case"scroll":we=qy;break;case"wheel":we=Ye;break;case"copy":case"cut":case"paste":we=Wf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=N}var Ae=(a&4)!==0,jt=!Ae&&o==="scroll",Y=Ae?le!==null?le+"Capture":null:le;Ae=[];for(var H=Z,J;H!==null;){J=H;var ge=J.stateNode;if(J.tag===5&&ge!==null&&(J=ge,Y!==null&&(ge=$t(H,Y),ge!=null&&Ae.push(nd(H,ge,J)))),jt)break;H=H.return}0<Ae.length&&(le=new we(le,Se,null,c,ce),fe.push({event:le,listeners:Ae}))}}if((a&7)===0){e:{if(le=o==="mouseover"||o==="pointerover",we=o==="mouseout"||o==="pointerout",le&&c!==ia&&(Se=c.relatedTarget||c.fromElement)&&(ya(Se)||Se[us]))break e;if((we||le)&&(le=ce.window===ce?ce:(le=ce.ownerDocument)?le.defaultView||le.parentWindow:window,we?(Se=c.relatedTarget||c.toElement,we=Z,Se=Se?ya(Se):null,Se!==null&&(jt=Kr(Se),Se!==jt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(we=null,Se=Z),we!==Se)){if(Ae=Ol,ge="onMouseLeave",Y="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&(Ae=N,ge="onPointerLeave",Y="onPointerEnter",H="pointer"),jt=we==null?le:Bl(we),J=Se==null?le:Bl(Se),le=new Ae(ge,H+"leave",we,c,ce),le.target=jt,le.relatedTarget=J,ge=null,ya(ce)===Z&&(Ae=new Ae(Y,H+"enter",Se,c,ce),Ae.target=J,Ae.relatedTarget=jt,ge=Ae),jt=ge,we&&Se)t:{for(Ae=we,Y=Se,H=0,J=Ae;J;J=$l(J))H++;for(J=0,ge=Y;ge;ge=$l(ge))J++;for(;0<H-J;)Ae=$l(Ae),H--;for(;0<J-H;)Y=$l(Y),J--;for(;H--;){if(Ae===Y||Y!==null&&Ae===Y.alternate)break t;Ae=$l(Ae),Y=$l(Y)}Ae=null}else Ae=null;we!==null&&iT(fe,le,we,Ae,!1),Se!==null&&jt!==null&&iT(fe,jt,Se,Ae,!0)}}e:{if(le=Z?Bl(Z):window,we=le.nodeName&&le.nodeName.toLowerCase(),we==="select"||we==="input"&&le.type==="file")var Pe=WD;else if(MI(le))if(UI)Pe=GD;else{Pe=HD;var xe=qD}else(we=le.nodeName)&&we.toLowerCase()==="input"&&(le.type==="checkbox"||le.type==="radio")&&(Pe=KD);if(Pe&&(Pe=Pe(o,Z))){FI(fe,Pe,c,ce);break e}xe&&xe(o,le,Z),o==="focusout"&&(xe=le._wrapperState)&&xe.controlled&&le.type==="number"&&qn(le,"number",le.value)}switch(xe=Z?Bl(Z):window,o){case"focusin":(MI(xe)||xe.contentEditable==="true")&&(Fl=xe,Qy=Z,Zc=null);break;case"focusout":Zc=Qy=Fl=null;break;case"mousedown":Yy=!0;break;case"contextmenu":case"mouseup":case"dragend":Yy=!1,KI(fe,c,ce);break;case"selectionchange":if(JD)break;case"keydown":case"keyup":KI(fe,c,ce)}var Oe;if(Ht)e:{switch(o){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Ml?LI(o,c)&&(De="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(De="onCompositionStart");De&&(ga&&c.locale!=="ko"&&(Ml||De!=="onCompositionStart"?De==="onCompositionEnd"&&Ml&&(Oe=Hc()):(ur=ce,bl="value"in ur?ur.value:ur.textContent,Ml=!0)),xe=Xf(Z,De),0<xe.length&&(De=new Qc(De,o,null,c,ce),fe.push({event:De,listeners:xe}),Oe?De.data=Oe:(Oe=VI(c),Oe!==null&&(De.data=Oe)))),(Oe=cr?$D(o,c):jD(o,c))&&(Z=Xf(Z,"onBeforeInput"),0<Z.length&&(ce=new Qc("onBeforeInput","beforeinput",null,c,ce),fe.push({event:ce,listeners:Z}),ce.data=Oe))}nT(fe,a)})}function nd(o,a,c){return{instance:o,listener:a,currentTarget:c}}function Xf(o,a){for(var c=a+"Capture",p=[];o!==null;){var y=o,w=y.stateNode;y.tag===5&&w!==null&&(y=w,w=$t(o,c),w!=null&&p.unshift(nd(o,w,y)),w=$t(o,a),w!=null&&p.push(nd(o,w,y))),o=o.return}return p}function $l(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function iT(o,a,c,p,y){for(var w=a._reactName,b=[];c!==null&&c!==p;){var U=c,B=U.alternate,Z=U.stateNode;if(B!==null&&B===p)break;U.tag===5&&Z!==null&&(U=Z,y?(B=$t(c,w),B!=null&&b.unshift(nd(c,B,U))):y||(B=$t(c,w),B!=null&&b.push(nd(c,B,U)))),c=c.return}b.length!==0&&o.push({event:a,listeners:b})}var tL=/\r\n?/g,nL=/\u0000|\uFFFD/g;function sT(o){return(typeof o=="string"?o:""+o).replace(tL,`
`).replace(nL,"")}function Zf(o,a,c){if(a=sT(a),sT(o)!==a&&c)throw Error(t(425))}function ep(){}var n_=null,r_=null;function i_(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var s_=typeof setTimeout=="function"?setTimeout:void 0,rL=typeof clearTimeout=="function"?clearTimeout:void 0,oT=typeof Promise=="function"?Promise:void 0,iL=typeof queueMicrotask=="function"?queueMicrotask:typeof oT<"u"?function(o){return oT.resolve(null).then(o).catch(sL)}:s_;function sL(o){setTimeout(function(){throw o})}function o_(o,a){var c=a,p=0;do{var y=c.nextSibling;if(o.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(p===0){o.removeChild(y),Xr(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=y}while(c);Xr(a)}function to(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function aT(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return o;a--}else c==="/$"&&a++}o=o.previousSibling}return null}var jl=Math.random().toString(36).slice(2),Ii="__reactFiber$"+jl,rd="__reactProps$"+jl,us="__reactContainer$"+jl,a_="__reactEvents$"+jl,oL="__reactListeners$"+jl,aL="__reactHandles$"+jl;function ya(o){var a=o[Ii];if(a)return a;for(var c=o.parentNode;c;){if(a=c[us]||c[Ii]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=aT(o);o!==null;){if(c=o[Ii])return c;o=aT(o)}return a}o=c,c=o.parentNode}return null}function id(o){return o=o[Ii]||o[us],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Bl(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function tp(o){return o[rd]||null}var l_=[],zl=-1;function no(o){return{current:o}}function yt(o){0>zl||(o.current=l_[zl],l_[zl]=null,zl--)}function ft(o,a){zl++,l_[zl]=o.current,o.current=a}var ro={},An=no(ro),Gn=no(!1),_a=ro;function Wl(o,a){var c=o.type.contextTypes;if(!c)return ro;var p=o.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var y={},w;for(w in c)y[w]=a[w];return p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=y),y}function Qn(o){return o=o.childContextTypes,o!=null}function np(){yt(Gn),yt(An)}function lT(o,a,c){if(An.current!==ro)throw Error(t(168));ft(An,a),ft(Gn,c)}function uT(o,a,c){var p=o.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var y in p)if(!(y in a))throw Error(t(108,Qe(o)||"Unknown",y));return he({},c,p)}function rp(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ro,_a=An.current,ft(An,o),ft(Gn,Gn.current),!0}function cT(o,a,c){var p=o.stateNode;if(!p)throw Error(t(169));c?(o=uT(o,a,_a),p.__reactInternalMemoizedMergedChildContext=o,yt(Gn),yt(An),ft(An,o)):yt(Gn),ft(Gn,c)}var cs=null,ip=!1,u_=!1;function dT(o){cs===null?cs=[o]:cs.push(o)}function lL(o){ip=!0,dT(o)}function io(){if(!u_&&cs!==null){u_=!0;var o=0,a=He;try{var c=cs;for(He=1;o<c.length;o++){var p=c[o];do p=p(!0);while(p!==null)}cs=null,ip=!1}catch(y){throw cs!==null&&(cs=cs.slice(o+1)),Tl(ua,io),y}finally{He=a,u_=!1}}return null}var ql=[],Hl=0,sp=null,op=0,Or=[],Nr=0,va=null,ds=1,hs="";function wa(o,a){ql[Hl++]=op,ql[Hl++]=sp,sp=o,op=a}function hT(o,a,c){Or[Nr++]=ds,Or[Nr++]=hs,Or[Nr++]=va,va=o;var p=ds;o=hs;var y=32-Vn(p)-1;p&=~(1<<y),c+=1;var w=32-Vn(a)+y;if(30<w){var b=y-y%5;w=(p&(1<<b)-1).toString(32),p>>=b,y-=b,ds=1<<32-Vn(a)+y|c<<y|p,hs=w+o}else ds=1<<w|c<<y|p,hs=o}function c_(o){o.return!==null&&(wa(o,1),hT(o,1,0))}function d_(o){for(;o===sp;)sp=ql[--Hl],ql[Hl]=null,op=ql[--Hl],ql[Hl]=null;for(;o===va;)va=Or[--Nr],Or[Nr]=null,hs=Or[--Nr],Or[Nr]=null,ds=Or[--Nr],Or[Nr]=null}var dr=null,hr=null,Et=!1,ti=null;function fT(o,a){var c=Mr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=o,a=o.deletions,a===null?(o.deletions=[c],o.flags|=16):a.push(c)}function pT(o,a){switch(o.tag){case 5:var c=o.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,dr=o,hr=to(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,dr=o,hr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=va!==null?{id:ds,overflow:hs}:null,o.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Mr(18,null,null,0),c.stateNode=a,c.return=o,o.child=c,dr=o,hr=null,!0):!1;default:return!1}}function h_(o){return(o.mode&1)!==0&&(o.flags&128)===0}function f_(o){if(Et){var a=hr;if(a){var c=a;if(!pT(o,a)){if(h_(o))throw Error(t(418));a=to(c.nextSibling);var p=dr;a&&pT(o,a)?fT(p,c):(o.flags=o.flags&-4097|2,Et=!1,dr=o)}}else{if(h_(o))throw Error(t(418));o.flags=o.flags&-4097|2,Et=!1,dr=o}}}function mT(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;dr=o}function ap(o){if(o!==dr)return!1;if(!Et)return mT(o),Et=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!i_(o.type,o.memoizedProps)),a&&(a=hr)){if(h_(o))throw gT(),Error(t(418));for(;a;)fT(o,a),a=to(a.nextSibling)}if(mT(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(a===0){hr=to(o.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}o=o.nextSibling}hr=null}}else hr=dr?to(o.stateNode.nextSibling):null;return!0}function gT(){for(var o=hr;o;)o=to(o.nextSibling)}function Kl(){hr=dr=null,Et=!1}function p_(o){ti===null?ti=[o]:ti.push(o)}var uL=W.ReactCurrentBatchConfig;function sd(o,a,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,o));var y=p,w=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(b){var U=y.refs;b===null?delete U[w]:U[w]=b},a._stringRef=w,a)}if(typeof o!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,o))}return o}function lp(o,a){throw o=Object.prototype.toString.call(a),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function yT(o){var a=o._init;return a(o._payload)}function _T(o){function a(Y,H){if(o){var J=Y.deletions;J===null?(Y.deletions=[H],Y.flags|=16):J.push(H)}}function c(Y,H){if(!o)return null;for(;H!==null;)a(Y,H),H=H.sibling;return null}function p(Y,H){for(Y=new Map;H!==null;)H.key!==null?Y.set(H.key,H):Y.set(H.index,H),H=H.sibling;return Y}function y(Y,H){return Y=fo(Y,H),Y.index=0,Y.sibling=null,Y}function w(Y,H,J){return Y.index=J,o?(J=Y.alternate,J!==null?(J=J.index,J<H?(Y.flags|=2,H):J):(Y.flags|=2,H)):(Y.flags|=1048576,H)}function b(Y){return o&&Y.alternate===null&&(Y.flags|=2),Y}function U(Y,H,J,ge){return H===null||H.tag!==6?(H=sv(J,Y.mode,ge),H.return=Y,H):(H=y(H,J),H.return=Y,H)}function B(Y,H,J,ge){var Pe=J.type;return Pe===D?ce(Y,H,J.props.children,ge,J.key):H!==null&&(H.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===me&&yT(Pe)===H.type)?(ge=y(H,J.props),ge.ref=sd(Y,H,J),ge.return=Y,ge):(ge=Op(J.type,J.key,J.props,null,Y.mode,ge),ge.ref=sd(Y,H,J),ge.return=Y,ge)}function Z(Y,H,J,ge){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=ov(J,Y.mode,ge),H.return=Y,H):(H=y(H,J.children||[]),H.return=Y,H)}function ce(Y,H,J,ge,Pe){return H===null||H.tag!==7?(H=ba(J,Y.mode,ge,Pe),H.return=Y,H):(H=y(H,J),H.return=Y,H)}function fe(Y,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=sv(""+H,Y.mode,J),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case j:return J=Op(H.type,H.key,H.props,null,Y.mode,J),J.ref=sd(Y,null,H),J.return=Y,J;case q:return H=ov(H,Y.mode,J),H.return=Y,H;case me:var ge=H._init;return fe(Y,ge(H._payload),J)}if(or(H)||pe(H))return H=ba(H,Y.mode,J,null),H.return=Y,H;lp(Y,H)}return null}function le(Y,H,J,ge){var Pe=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Pe!==null?null:U(Y,H,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case j:return J.key===Pe?B(Y,H,J,ge):null;case q:return J.key===Pe?Z(Y,H,J,ge):null;case me:return Pe=J._init,le(Y,H,Pe(J._payload),ge)}if(or(J)||pe(J))return Pe!==null?null:ce(Y,H,J,ge,null);lp(Y,J)}return null}function we(Y,H,J,ge,Pe){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return Y=Y.get(J)||null,U(H,Y,""+ge,Pe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case j:return Y=Y.get(ge.key===null?J:ge.key)||null,B(H,Y,ge,Pe);case q:return Y=Y.get(ge.key===null?J:ge.key)||null,Z(H,Y,ge,Pe);case me:var xe=ge._init;return we(Y,H,J,xe(ge._payload),Pe)}if(or(ge)||pe(ge))return Y=Y.get(J)||null,ce(H,Y,ge,Pe,null);lp(H,ge)}return null}function Se(Y,H,J,ge){for(var Pe=null,xe=null,Oe=H,De=H=0,hn=null;Oe!==null&&De<J.length;De++){Oe.index>De?(hn=Oe,Oe=null):hn=Oe.sibling;var Ze=le(Y,Oe,J[De],ge);if(Ze===null){Oe===null&&(Oe=hn);break}o&&Oe&&Ze.alternate===null&&a(Y,Oe),H=w(Ze,H,De),xe===null?Pe=Ze:xe.sibling=Ze,xe=Ze,Oe=hn}if(De===J.length)return c(Y,Oe),Et&&wa(Y,De),Pe;if(Oe===null){for(;De<J.length;De++)Oe=fe(Y,J[De],ge),Oe!==null&&(H=w(Oe,H,De),xe===null?Pe=Oe:xe.sibling=Oe,xe=Oe);return Et&&wa(Y,De),Pe}for(Oe=p(Y,Oe);De<J.length;De++)hn=we(Oe,Y,De,J[De],ge),hn!==null&&(o&&hn.alternate!==null&&Oe.delete(hn.key===null?De:hn.key),H=w(hn,H,De),xe===null?Pe=hn:xe.sibling=hn,xe=hn);return o&&Oe.forEach(function(po){return a(Y,po)}),Et&&wa(Y,De),Pe}function Ae(Y,H,J,ge){var Pe=pe(J);if(typeof Pe!="function")throw Error(t(150));if(J=Pe.call(J),J==null)throw Error(t(151));for(var xe=Pe=null,Oe=H,De=H=0,hn=null,Ze=J.next();Oe!==null&&!Ze.done;De++,Ze=J.next()){Oe.index>De?(hn=Oe,Oe=null):hn=Oe.sibling;var po=le(Y,Oe,Ze.value,ge);if(po===null){Oe===null&&(Oe=hn);break}o&&Oe&&po.alternate===null&&a(Y,Oe),H=w(po,H,De),xe===null?Pe=po:xe.sibling=po,xe=po,Oe=hn}if(Ze.done)return c(Y,Oe),Et&&wa(Y,De),Pe;if(Oe===null){for(;!Ze.done;De++,Ze=J.next())Ze=fe(Y,Ze.value,ge),Ze!==null&&(H=w(Ze,H,De),xe===null?Pe=Ze:xe.sibling=Ze,xe=Ze);return Et&&wa(Y,De),Pe}for(Oe=p(Y,Oe);!Ze.done;De++,Ze=J.next())Ze=we(Oe,Y,De,Ze.value,ge),Ze!==null&&(o&&Ze.alternate!==null&&Oe.delete(Ze.key===null?De:Ze.key),H=w(Ze,H,De),xe===null?Pe=Ze:xe.sibling=Ze,xe=Ze);return o&&Oe.forEach(function(BL){return a(Y,BL)}),Et&&wa(Y,De),Pe}function jt(Y,H,J,ge){if(typeof J=="object"&&J!==null&&J.type===D&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case j:e:{for(var Pe=J.key,xe=H;xe!==null;){if(xe.key===Pe){if(Pe=J.type,Pe===D){if(xe.tag===7){c(Y,xe.sibling),H=y(xe,J.props.children),H.return=Y,Y=H;break e}}else if(xe.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===me&&yT(Pe)===xe.type){c(Y,xe.sibling),H=y(xe,J.props),H.ref=sd(Y,xe,J),H.return=Y,Y=H;break e}c(Y,xe);break}else a(Y,xe);xe=xe.sibling}J.type===D?(H=ba(J.props.children,Y.mode,ge,J.key),H.return=Y,Y=H):(ge=Op(J.type,J.key,J.props,null,Y.mode,ge),ge.ref=sd(Y,H,J),ge.return=Y,Y=ge)}return b(Y);case q:e:{for(xe=J.key;H!==null;){if(H.key===xe)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){c(Y,H.sibling),H=y(H,J.children||[]),H.return=Y,Y=H;break e}else{c(Y,H);break}else a(Y,H);H=H.sibling}H=ov(J,Y.mode,ge),H.return=Y,Y=H}return b(Y);case me:return xe=J._init,jt(Y,H,xe(J._payload),ge)}if(or(J))return Se(Y,H,J,ge);if(pe(J))return Ae(Y,H,J,ge);lp(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(c(Y,H.sibling),H=y(H,J),H.return=Y,Y=H):(c(Y,H),H=sv(J,Y.mode,ge),H.return=Y,Y=H),b(Y)):c(Y,H)}return jt}var Gl=_T(!0),vT=_T(!1),up=no(null),cp=null,Ql=null,m_=null;function g_(){m_=Ql=cp=null}function y_(o){var a=up.current;yt(up),o._currentValue=a}function __(o,a,c){for(;o!==null;){var p=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),o===c)break;o=o.return}}function Yl(o,a){cp=o,m_=Ql=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(Yn=!0),o.firstContext=null)}function Dr(o){var a=o._currentValue;if(m_!==o)if(o={context:o,memoizedValue:a,next:null},Ql===null){if(cp===null)throw Error(t(308));Ql=o,cp.dependencies={lanes:0,firstContext:o}}else Ql=Ql.next=o;return a}var Ea=null;function v_(o){Ea===null?Ea=[o]:Ea.push(o)}function wT(o,a,c,p){var y=a.interleaved;return y===null?(c.next=c,v_(a)):(c.next=y.next,y.next=c),a.interleaved=c,fs(o,p)}function fs(o,a){o.lanes|=a;var c=o.alternate;for(c!==null&&(c.lanes|=a),c=o,o=o.return;o!==null;)o.childLanes|=a,c=o.alternate,c!==null&&(c.childLanes|=a),c=o,o=o.return;return c.tag===3?c.stateNode:null}var so=!1;function w_(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ET(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ps(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function oo(o,a,c){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(Xe&2)!==0){var y=p.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),p.pending=a,fs(o,c)}return y=p.interleaved,y===null?(a.next=a,v_(p)):(a.next=y.next,y.next=a),p.interleaved=a,fs(o,c)}function dp(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,Qs(o,c)}}function IT(o,a){var c=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var y=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var b={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?y=w=b:w=w.next=b,c=c.next}while(c!==null);w===null?y=w=a:w=w.next=a}else y=w=a;c={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:p.shared,effects:p.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}function hp(o,a,c,p){var y=o.updateQueue;so=!1;var w=y.firstBaseUpdate,b=y.lastBaseUpdate,U=y.shared.pending;if(U!==null){y.shared.pending=null;var B=U,Z=B.next;B.next=null,b===null?w=Z:b.next=Z,b=B;var ce=o.alternate;ce!==null&&(ce=ce.updateQueue,U=ce.lastBaseUpdate,U!==b&&(U===null?ce.firstBaseUpdate=Z:U.next=Z,ce.lastBaseUpdate=B))}if(w!==null){var fe=y.baseState;b=0,ce=Z=B=null,U=w;do{var le=U.lane,we=U.eventTime;if((p&le)===le){ce!==null&&(ce=ce.next={eventTime:we,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Se=o,Ae=U;switch(le=a,we=c,Ae.tag){case 1:if(Se=Ae.payload,typeof Se=="function"){fe=Se.call(we,fe,le);break e}fe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ae.payload,le=typeof Se=="function"?Se.call(we,fe,le):Se,le==null)break e;fe=he({},fe,le);break e;case 2:so=!0}}U.callback!==null&&U.lane!==0&&(o.flags|=64,le=y.effects,le===null?y.effects=[U]:le.push(U))}else we={eventTime:we,lane:le,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ce===null?(Z=ce=we,B=fe):ce=ce.next=we,b|=le;if(U=U.next,U===null){if(U=y.shared.pending,U===null)break;le=U,U=le.next,le.next=null,y.lastBaseUpdate=le,y.shared.pending=null}}while(!0);if(ce===null&&(B=fe),y.baseState=B,y.firstBaseUpdate=Z,y.lastBaseUpdate=ce,a=y.shared.interleaved,a!==null){y=a;do b|=y.lane,y=y.next;while(y!==a)}else w===null&&(y.shared.lanes=0);Sa|=b,o.lanes=b,o.memoizedState=fe}}function TT(o,a,c){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var p=o[a],y=p.callback;if(y!==null){if(p.callback=null,p=c,typeof y!="function")throw Error(t(191,y));y.call(p)}}}var od={},Ti=no(od),ad=no(od),ld=no(od);function Ia(o){if(o===od)throw Error(t(174));return o}function E_(o,a){switch(ft(ld,a),ft(ad,o),ft(Ti,od),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:tn(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=tn(a,o)}yt(Ti),ft(Ti,a)}function Jl(){yt(Ti),yt(ad),yt(ld)}function ST(o){Ia(ld.current);var a=Ia(Ti.current),c=tn(a,o.type);a!==c&&(ft(ad,o),ft(Ti,c))}function I_(o){ad.current===o&&(yt(Ti),yt(ad))}var bt=no(0);function fp(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var T_=[];function S_(){for(var o=0;o<T_.length;o++)T_[o]._workInProgressVersionPrimary=null;T_.length=0}var pp=W.ReactCurrentDispatcher,R_=W.ReactCurrentBatchConfig,Ta=0,Ct=null,rn=null,cn=null,mp=!1,ud=!1,cd=0,cL=0;function Pn(){throw Error(t(321))}function A_(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!ei(o[c],a[c]))return!1;return!0}function P_(o,a,c,p,y,w){if(Ta=w,Ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,pp.current=o===null||o.memoizedState===null?pL:mL,o=c(p,y),ud){w=0;do{if(ud=!1,cd=0,25<=w)throw Error(t(301));w+=1,cn=rn=null,a.updateQueue=null,pp.current=gL,o=c(p,y)}while(ud)}if(pp.current=_p,a=rn!==null&&rn.next!==null,Ta=0,cn=rn=Ct=null,mp=!1,a)throw Error(t(300));return o}function b_(){var o=cd!==0;return cd=0,o}function Si(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?Ct.memoizedState=cn=o:cn=cn.next=o,cn}function Lr(){if(rn===null){var o=Ct.alternate;o=o!==null?o.memoizedState:null}else o=rn.next;var a=cn===null?Ct.memoizedState:cn.next;if(a!==null)cn=a,rn=o;else{if(o===null)throw Error(t(310));rn=o,o={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},cn===null?Ct.memoizedState=cn=o:cn=cn.next=o}return cn}function dd(o,a){return typeof a=="function"?a(o):a}function C_(o){var a=Lr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=rn,y=p.baseQueue,w=c.pending;if(w!==null){if(y!==null){var b=y.next;y.next=w.next,w.next=b}p.baseQueue=y=w,c.pending=null}if(y!==null){w=y.next,p=p.baseState;var U=b=null,B=null,Z=w;do{var ce=Z.lane;if((Ta&ce)===ce)B!==null&&(B=B.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),p=Z.hasEagerState?Z.eagerState:o(p,Z.action);else{var fe={lane:ce,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};B===null?(U=B=fe,b=p):B=B.next=fe,Ct.lanes|=ce,Sa|=ce}Z=Z.next}while(Z!==null&&Z!==w);B===null?b=p:B.next=U,ei(p,a.memoizedState)||(Yn=!0),a.memoizedState=p,a.baseState=b,a.baseQueue=B,c.lastRenderedState=p}if(o=c.interleaved,o!==null){y=o;do w=y.lane,Ct.lanes|=w,Sa|=w,y=y.next;while(y!==o)}else y===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function k_(o){var a=Lr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var p=c.dispatch,y=c.pending,w=a.memoizedState;if(y!==null){c.pending=null;var b=y=y.next;do w=o(w,b.action),b=b.next;while(b!==y);ei(w,a.memoizedState)||(Yn=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),c.lastRenderedState=w}return[w,p]}function RT(){}function AT(o,a){var c=Ct,p=Lr(),y=a(),w=!ei(p.memoizedState,y);if(w&&(p.memoizedState=y,Yn=!0),p=p.queue,x_(CT.bind(null,c,p,o),[o]),p.getSnapshot!==a||w||cn!==null&&cn.memoizedState.tag&1){if(c.flags|=2048,hd(9,bT.bind(null,c,p,y,a),void 0,null),dn===null)throw Error(t(349));(Ta&30)!==0||PT(c,a,y)}return y}function PT(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=Ct.updateQueue,a===null?(a={lastEffect:null,stores:null},Ct.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function bT(o,a,c,p){a.value=c,a.getSnapshot=p,kT(a)&&xT(o)}function CT(o,a,c){return c(function(){kT(a)&&xT(o)})}function kT(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!ei(o,c)}catch{return!0}}function xT(o){var a=fs(o,1);a!==null&&si(a,o,1,-1)}function OT(o){var a=Si();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dd,lastRenderedState:o},a.queue=o,o=o.dispatch=fL.bind(null,Ct,o),[a.memoizedState,o]}function hd(o,a,c,p){return o={tag:o,create:a,destroy:c,deps:p,next:null},a=Ct.updateQueue,a===null?(a={lastEffect:null,stores:null},Ct.updateQueue=a,a.lastEffect=o.next=o):(c=a.lastEffect,c===null?a.lastEffect=o.next=o:(p=c.next,c.next=o,o.next=p,a.lastEffect=o)),o}function NT(){return Lr().memoizedState}function gp(o,a,c,p){var y=Si();Ct.flags|=o,y.memoizedState=hd(1|a,c,void 0,p===void 0?null:p)}function yp(o,a,c,p){var y=Lr();p=p===void 0?null:p;var w=void 0;if(rn!==null){var b=rn.memoizedState;if(w=b.destroy,p!==null&&A_(p,b.deps)){y.memoizedState=hd(a,c,w,p);return}}Ct.flags|=o,y.memoizedState=hd(1|a,c,w,p)}function DT(o,a){return gp(8390656,8,o,a)}function x_(o,a){return yp(2048,8,o,a)}function LT(o,a){return yp(4,2,o,a)}function VT(o,a){return yp(4,4,o,a)}function MT(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function FT(o,a,c){return c=c!=null?c.concat([o]):null,yp(4,4,MT.bind(null,a,o),c)}function O_(){}function UT(o,a){var c=Lr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&A_(a,p[1])?p[0]:(c.memoizedState=[o,a],o)}function $T(o,a){var c=Lr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&A_(a,p[1])?p[0]:(o=o(),c.memoizedState=[o,a],o)}function jT(o,a,c){return(Ta&21)===0?(o.baseState&&(o.baseState=!1,Yn=!0),o.memoizedState=c):(ei(c,a)||(c=ha(),Ct.lanes|=c,Sa|=c,o.baseState=!0),a)}function dL(o,a){var c=He;He=c!==0&&4>c?c:4,o(!0);var p=R_.transition;R_.transition={};try{o(!1),a()}finally{He=c,R_.transition=p}}function BT(){return Lr().memoizedState}function hL(o,a,c){var p=co(o);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},zT(o))WT(a,c);else if(c=wT(o,a,c,p),c!==null){var y=Un();si(c,o,p,y),qT(c,a,p)}}function fL(o,a,c){var p=co(o),y={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(zT(o))WT(a,y);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var b=a.lastRenderedState,U=w(b,c);if(y.hasEagerState=!0,y.eagerState=U,ei(U,b)){var B=a.interleaved;B===null?(y.next=y,v_(a)):(y.next=B.next,B.next=y),a.interleaved=y;return}}catch{}finally{}c=wT(o,a,y,p),c!==null&&(y=Un(),si(c,o,p,y),qT(c,a,p))}}function zT(o){var a=o.alternate;return o===Ct||a!==null&&a===Ct}function WT(o,a){ud=mp=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function qT(o,a,c){if((c&4194240)!==0){var p=a.lanes;p&=o.pendingLanes,c|=p,a.lanes=c,Qs(o,c)}}var _p={readContext:Dr,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useInsertionEffect:Pn,useLayoutEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useMutableSource:Pn,useSyncExternalStore:Pn,useId:Pn,unstable_isNewReconciler:!1},pL={readContext:Dr,useCallback:function(o,a){return Si().memoizedState=[o,a===void 0?null:a],o},useContext:Dr,useEffect:DT,useImperativeHandle:function(o,a,c){return c=c!=null?c.concat([o]):null,gp(4194308,4,MT.bind(null,a,o),c)},useLayoutEffect:function(o,a){return gp(4194308,4,o,a)},useInsertionEffect:function(o,a){return gp(4,2,o,a)},useMemo:function(o,a){var c=Si();return a=a===void 0?null:a,o=o(),c.memoizedState=[o,a],o},useReducer:function(o,a,c){var p=Si();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},p.queue=o,o=o.dispatch=hL.bind(null,Ct,o),[p.memoizedState,o]},useRef:function(o){var a=Si();return o={current:o},a.memoizedState=o},useState:OT,useDebugValue:O_,useDeferredValue:function(o){return Si().memoizedState=o},useTransition:function(){var o=OT(!1),a=o[0];return o=dL.bind(null,o[1]),Si().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,c){var p=Ct,y=Si();if(Et){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),dn===null)throw Error(t(349));(Ta&30)!==0||PT(p,a,c)}y.memoizedState=c;var w={value:c,getSnapshot:a};return y.queue=w,DT(CT.bind(null,p,w,o),[o]),p.flags|=2048,hd(9,bT.bind(null,p,w,c,a),void 0,null),c},useId:function(){var o=Si(),a=dn.identifierPrefix;if(Et){var c=hs,p=ds;c=(p&~(1<<32-Vn(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=cd++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=cL++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},mL={readContext:Dr,useCallback:UT,useContext:Dr,useEffect:x_,useImperativeHandle:FT,useInsertionEffect:LT,useLayoutEffect:VT,useMemo:$T,useReducer:C_,useRef:NT,useState:function(){return C_(dd)},useDebugValue:O_,useDeferredValue:function(o){var a=Lr();return jT(a,rn.memoizedState,o)},useTransition:function(){var o=C_(dd)[0],a=Lr().memoizedState;return[o,a]},useMutableSource:RT,useSyncExternalStore:AT,useId:BT,unstable_isNewReconciler:!1},gL={readContext:Dr,useCallback:UT,useContext:Dr,useEffect:x_,useImperativeHandle:FT,useInsertionEffect:LT,useLayoutEffect:VT,useMemo:$T,useReducer:k_,useRef:NT,useState:function(){return k_(dd)},useDebugValue:O_,useDeferredValue:function(o){var a=Lr();return rn===null?a.memoizedState=o:jT(a,rn.memoizedState,o)},useTransition:function(){var o=k_(dd)[0],a=Lr().memoizedState;return[o,a]},useMutableSource:RT,useSyncExternalStore:AT,useId:BT,unstable_isNewReconciler:!1};function ni(o,a){if(o&&o.defaultProps){a=he({},a),o=o.defaultProps;for(var c in o)a[c]===void 0&&(a[c]=o[c]);return a}return a}function N_(o,a,c,p){a=o.memoizedState,c=c(p,a),c=c==null?a:he({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var vp={isMounted:function(o){return(o=o._reactInternals)?Kr(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var p=Un(),y=co(o),w=ps(p,y);w.payload=a,c!=null&&(w.callback=c),a=oo(o,w,y),a!==null&&(si(a,o,y,p),dp(a,o,y))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var p=Un(),y=co(o),w=ps(p,y);w.tag=1,w.payload=a,c!=null&&(w.callback=c),a=oo(o,w,y),a!==null&&(si(a,o,y,p),dp(a,o,y))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=Un(),p=co(o),y=ps(c,p);y.tag=2,a!=null&&(y.callback=a),a=oo(o,y,p),a!==null&&(si(a,o,p,c),dp(a,o,p))}};function HT(o,a,c,p,y,w,b){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,w,b):a.prototype&&a.prototype.isPureReactComponent?!Xc(c,p)||!Xc(y,w):!0}function KT(o,a,c){var p=!1,y=ro,w=a.contextType;return typeof w=="object"&&w!==null?w=Dr(w):(y=Qn(a)?_a:An.current,p=a.contextTypes,w=(p=p!=null)?Wl(o,y):ro),a=new a(c,w),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=vp,o.stateNode=a,a._reactInternals=o,p&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=w),a}function GT(o,a,c,p){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==o&&vp.enqueueReplaceState(a,a.state,null)}function D_(o,a,c,p){var y=o.stateNode;y.props=c,y.state=o.memoizedState,y.refs={},w_(o);var w=a.contextType;typeof w=="object"&&w!==null?y.context=Dr(w):(w=Qn(a)?_a:An.current,y.context=Wl(o,w)),y.state=o.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(N_(o,a,w,c),y.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(a=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),a!==y.state&&vp.enqueueReplaceState(y,y.state,null),hp(o,c,y,p),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function Xl(o,a){try{var c="",p=a;do c+=Ve(p),p=p.return;while(p);var y=c}catch(w){y=`
Error generating stack: `+w.message+`
`+w.stack}return{value:o,source:a,stack:y,digest:null}}function L_(o,a,c){return{value:o,source:null,stack:c??null,digest:a??null}}function V_(o,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var yL=typeof WeakMap=="function"?WeakMap:Map;function QT(o,a,c){c=ps(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){Ap||(Ap=!0,J_=p),V_(o,a)},c}function YT(o,a,c){c=ps(-1,c),c.tag=3;var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=a.value;c.payload=function(){return p(y)},c.callback=function(){V_(o,a)}}var w=o.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){V_(o,a),typeof p!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var b=a.stack;this.componentDidCatch(a.value,{componentStack:b!==null?b:""})}),c}function JT(o,a,c){var p=o.pingCache;if(p===null){p=o.pingCache=new yL;var y=new Set;p.set(a,y)}else y=p.get(a),y===void 0&&(y=new Set,p.set(a,y));y.has(c)||(y.add(c),o=xL.bind(null,o,a,c),a.then(o,o))}function XT(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function ZT(o,a,c,p,y){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=ps(-1,1),a.tag=2,oo(c,a,1))),c.lanes|=1),o):(o.flags|=65536,o.lanes=y,o)}var _L=W.ReactCurrentOwner,Yn=!1;function Fn(o,a,c,p){a.child=o===null?vT(a,null,c,p):Gl(a,o.child,c,p)}function eS(o,a,c,p,y){c=c.render;var w=a.ref;return Yl(a,y),p=P_(o,a,c,p,w,y),c=b_(),o!==null&&!Yn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,ms(o,a,y)):(Et&&c&&c_(a),a.flags|=1,Fn(o,a,p,y),a.child)}function tS(o,a,c,p,y){if(o===null){var w=c.type;return typeof w=="function"&&!iv(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=w,nS(o,a,w,p,y)):(o=Op(c.type,null,p,a,a.mode,y),o.ref=a.ref,o.return=a,a.child=o)}if(w=o.child,(o.lanes&y)===0){var b=w.memoizedProps;if(c=c.compare,c=c!==null?c:Xc,c(b,p)&&o.ref===a.ref)return ms(o,a,y)}return a.flags|=1,o=fo(w,p),o.ref=a.ref,o.return=a,a.child=o}function nS(o,a,c,p,y){if(o!==null){var w=o.memoizedProps;if(Xc(w,p)&&o.ref===a.ref)if(Yn=!1,a.pendingProps=p=w,(o.lanes&y)!==0)(o.flags&131072)!==0&&(Yn=!0);else return a.lanes=o.lanes,ms(o,a,y)}return M_(o,a,c,p,y)}function rS(o,a,c){var p=a.pendingProps,y=p.children,w=o!==null?o.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(eu,fr),fr|=c;else{if((c&1073741824)===0)return o=w!==null?w.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,ft(eu,fr),fr|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:c,ft(eu,fr),fr|=p}else w!==null?(p=w.baseLanes|c,a.memoizedState=null):p=c,ft(eu,fr),fr|=p;return Fn(o,a,y,c),a.child}function iS(o,a){var c=a.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function M_(o,a,c,p,y){var w=Qn(c)?_a:An.current;return w=Wl(a,w),Yl(a,y),c=P_(o,a,c,p,w,y),p=b_(),o!==null&&!Yn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~y,ms(o,a,y)):(Et&&p&&c_(a),a.flags|=1,Fn(o,a,c,y),a.child)}function sS(o,a,c,p,y){if(Qn(c)){var w=!0;rp(a)}else w=!1;if(Yl(a,y),a.stateNode===null)Ep(o,a),KT(a,c,p),D_(a,c,p,y),p=!0;else if(o===null){var b=a.stateNode,U=a.memoizedProps;b.props=U;var B=b.context,Z=c.contextType;typeof Z=="object"&&Z!==null?Z=Dr(Z):(Z=Qn(c)?_a:An.current,Z=Wl(a,Z));var ce=c.getDerivedStateFromProps,fe=typeof ce=="function"||typeof b.getSnapshotBeforeUpdate=="function";fe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(U!==p||B!==Z)&&GT(a,b,p,Z),so=!1;var le=a.memoizedState;b.state=le,hp(a,p,b,y),B=a.memoizedState,U!==p||le!==B||Gn.current||so?(typeof ce=="function"&&(N_(a,c,ce,p),B=a.memoizedState),(U=so||HT(a,c,U,p,le,B,Z))?(fe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=B),b.props=p,b.state=B,b.context=Z,p=U):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{b=a.stateNode,ET(o,a),U=a.memoizedProps,Z=a.type===a.elementType?U:ni(a.type,U),b.props=Z,fe=a.pendingProps,le=b.context,B=c.contextType,typeof B=="object"&&B!==null?B=Dr(B):(B=Qn(c)?_a:An.current,B=Wl(a,B));var we=c.getDerivedStateFromProps;(ce=typeof we=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(U!==fe||le!==B)&&GT(a,b,p,B),so=!1,le=a.memoizedState,b.state=le,hp(a,p,b,y);var Se=a.memoizedState;U!==fe||le!==Se||Gn.current||so?(typeof we=="function"&&(N_(a,c,we,p),Se=a.memoizedState),(Z=so||HT(a,c,Z,p,le,Se,B)||!1)?(ce||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(p,Se,B),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(p,Se,B)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||U===o.memoizedProps&&le===o.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&le===o.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Se),b.props=p,b.state=Se,b.context=B,p=Z):(typeof b.componentDidUpdate!="function"||U===o.memoizedProps&&le===o.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||U===o.memoizedProps&&le===o.memoizedState||(a.flags|=1024),p=!1)}return F_(o,a,c,p,w,y)}function F_(o,a,c,p,y,w){iS(o,a);var b=(a.flags&128)!==0;if(!p&&!b)return y&&cT(a,c,!1),ms(o,a,w);p=a.stateNode,_L.current=a;var U=b&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,o!==null&&b?(a.child=Gl(a,o.child,null,w),a.child=Gl(a,null,U,w)):Fn(o,a,U,w),a.memoizedState=p.state,y&&cT(a,c,!0),a.child}function oS(o){var a=o.stateNode;a.pendingContext?lT(o,a.pendingContext,a.pendingContext!==a.context):a.context&&lT(o,a.context,!1),E_(o,a.containerInfo)}function aS(o,a,c,p,y){return Kl(),p_(y),a.flags|=256,Fn(o,a,c,p),a.child}var U_={dehydrated:null,treeContext:null,retryLane:0};function $_(o){return{baseLanes:o,cachePool:null,transitions:null}}function lS(o,a,c){var p=a.pendingProps,y=bt.current,w=!1,b=(a.flags&128)!==0,U;if((U=b)||(U=o!==null&&o.memoizedState===null?!1:(y&2)!==0),U?(w=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),ft(bt,y&1),o===null)return f_(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(b=p.children,o=p.fallback,w?(p=a.mode,w=a.child,b={mode:"hidden",children:b},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=b):w=Np(b,p,0,null),o=ba(o,p,c,null),w.return=a,o.return=a,w.sibling=o,a.child=w,a.child.memoizedState=$_(c),a.memoizedState=U_,o):j_(a,b));if(y=o.memoizedState,y!==null&&(U=y.dehydrated,U!==null))return vL(o,a,b,p,U,y,c);if(w){w=p.fallback,b=a.mode,y=o.child,U=y.sibling;var B={mode:"hidden",children:p.children};return(b&1)===0&&a.child!==y?(p=a.child,p.childLanes=0,p.pendingProps=B,a.deletions=null):(p=fo(y,B),p.subtreeFlags=y.subtreeFlags&14680064),U!==null?w=fo(U,w):(w=ba(w,b,c,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,b=o.child.memoizedState,b=b===null?$_(c):{baseLanes:b.baseLanes|c,cachePool:null,transitions:b.transitions},w.memoizedState=b,w.childLanes=o.childLanes&~c,a.memoizedState=U_,p}return w=o.child,o=w.sibling,p=fo(w,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=c),p.return=a,p.sibling=null,o!==null&&(c=a.deletions,c===null?(a.deletions=[o],a.flags|=16):c.push(o)),a.child=p,a.memoizedState=null,p}function j_(o,a){return a=Np({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function wp(o,a,c,p){return p!==null&&p_(p),Gl(a,o.child,null,c),o=j_(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function vL(o,a,c,p,y,w,b){if(c)return a.flags&256?(a.flags&=-257,p=L_(Error(t(422))),wp(o,a,b,p)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(w=p.fallback,y=a.mode,p=Np({mode:"visible",children:p.children},y,0,null),w=ba(w,y,b,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,(a.mode&1)!==0&&Gl(a,o.child,null,b),a.child.memoizedState=$_(b),a.memoizedState=U_,w);if((a.mode&1)===0)return wp(o,a,b,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var U=p.dgst;return p=U,w=Error(t(419)),p=L_(w,p,void 0),wp(o,a,b,p)}if(U=(b&o.childLanes)!==0,Yn||U){if(p=dn,p!==null){switch(b&-b){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|b))!==0?0:y,y!==0&&y!==w.retryLane&&(w.retryLane=y,fs(o,y),si(p,o,y,-1))}return rv(),p=L_(Error(t(421))),wp(o,a,b,p)}return y.data==="$?"?(a.flags|=128,a.child=o.child,a=OL.bind(null,o),y._reactRetry=a,null):(o=w.treeContext,hr=to(y.nextSibling),dr=a,Et=!0,ti=null,o!==null&&(Or[Nr++]=ds,Or[Nr++]=hs,Or[Nr++]=va,ds=o.id,hs=o.overflow,va=a),a=j_(a,p.children),a.flags|=4096,a)}function uS(o,a,c){o.lanes|=a;var p=o.alternate;p!==null&&(p.lanes|=a),__(o.return,a,c)}function B_(o,a,c,p,y){var w=o.memoizedState;w===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:y}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=c,w.tailMode=y)}function cS(o,a,c){var p=a.pendingProps,y=p.revealOrder,w=p.tail;if(Fn(o,a,p.children,c),p=bt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&uS(o,c,a);else if(o.tag===19)uS(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}p&=1}if(ft(bt,p),(a.mode&1)===0)a.memoizedState=null;else switch(y){case"forwards":for(c=a.child,y=null;c!==null;)o=c.alternate,o!==null&&fp(o)===null&&(y=c),c=c.sibling;c=y,c===null?(y=a.child,a.child=null):(y=c.sibling,c.sibling=null),B_(a,!1,y,c,w);break;case"backwards":for(c=null,y=a.child,a.child=null;y!==null;){if(o=y.alternate,o!==null&&fp(o)===null){a.child=y;break}o=y.sibling,y.sibling=c,c=y,y=o}B_(a,!0,c,null,w);break;case"together":B_(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ep(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function ms(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),Sa|=a.lanes,(c&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(t(153));if(a.child!==null){for(o=a.child,c=fo(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=fo(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function wL(o,a,c){switch(a.tag){case 3:oS(a),Kl();break;case 5:ST(a);break;case 1:Qn(a.type)&&rp(a);break;case 4:E_(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,y=a.memoizedProps.value;ft(up,p._currentValue),p._currentValue=y;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(ft(bt,bt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?lS(o,a,c):(ft(bt,bt.current&1),o=ms(o,a,c),o!==null?o.sibling:null);ft(bt,bt.current&1);break;case 19:if(p=(c&a.childLanes)!==0,(o.flags&128)!==0){if(p)return cS(o,a,c);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ft(bt,bt.current),p)break;return null;case 22:case 23:return a.lanes=0,rS(o,a,c)}return ms(o,a,c)}var dS,z_,hS,fS;dS=function(o,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},z_=function(){},hS=function(o,a,c,p){var y=o.memoizedProps;if(y!==p){o=a.stateNode,Ia(Ti.current);var w=null;switch(c){case"input":y=Zt(o,y),p=Zt(o,p),w=[];break;case"select":y=he({},y,{value:void 0}),p=he({},p,{value:void 0}),w=[];break;case"textarea":y=Pc(o,y),p=Pc(o,p),w=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(o.onclick=ep)}Nc(c,p);var b;c=null;for(Z in y)if(!p.hasOwnProperty(Z)&&y.hasOwnProperty(Z)&&y[Z]!=null)if(Z==="style"){var U=y[Z];for(b in U)U.hasOwnProperty(b)&&(c||(c={}),c[b]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(i.hasOwnProperty(Z)?w||(w=[]):(w=w||[]).push(Z,null));for(Z in p){var B=p[Z];if(U=y!=null?y[Z]:void 0,p.hasOwnProperty(Z)&&B!==U&&(B!=null||U!=null))if(Z==="style")if(U){for(b in U)!U.hasOwnProperty(b)||B&&B.hasOwnProperty(b)||(c||(c={}),c[b]="");for(b in B)B.hasOwnProperty(b)&&U[b]!==B[b]&&(c||(c={}),c[b]=B[b])}else c||(w||(w=[]),w.push(Z,c)),c=B;else Z==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,U=U?U.__html:void 0,B!=null&&U!==B&&(w=w||[]).push(Z,B)):Z==="children"?typeof B!="string"&&typeof B!="number"||(w=w||[]).push(Z,""+B):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(i.hasOwnProperty(Z)?(B!=null&&Z==="onScroll"&&gt("scroll",o),w||U===B||(w=[])):(w=w||[]).push(Z,B))}c&&(w=w||[]).push("style",c);var Z=w;(a.updateQueue=Z)&&(a.flags|=4)}},fS=function(o,a,c,p){c!==p&&(a.flags|=4)};function fd(o,a){if(!Et)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function bn(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,p=0;if(a)for(var y=o.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)c|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=p,o.childLanes=c,a}function EL(o,a,c){var p=a.pendingProps;switch(d_(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(a),null;case 1:return Qn(a.type)&&np(),bn(a),null;case 3:return p=a.stateNode,Jl(),yt(Gn),yt(An),S_(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(o===null||o.child===null)&&(ap(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ti!==null&&(ev(ti),ti=null))),z_(o,a),bn(a),null;case 5:I_(a);var y=Ia(ld.current);if(c=a.type,o!==null&&a.stateNode!=null)hS(o,a,c,p,y),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return bn(a),null}if(o=Ia(Ti.current),ap(a)){p=a.stateNode,c=a.type;var w=a.memoizedProps;switch(p[Ii]=a,p[rd]=w,o=(a.mode&1)!==0,c){case"dialog":gt("cancel",p),gt("close",p);break;case"iframe":case"object":case"embed":gt("load",p);break;case"video":case"audio":for(y=0;y<ed.length;y++)gt(ed[y],p);break;case"source":gt("error",p);break;case"img":case"image":case"link":gt("error",p),gt("load",p);break;case"details":gt("toggle",p);break;case"input":Wr(p,w),gt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},gt("invalid",p);break;case"textarea":pl(p,w),gt("invalid",p)}Nc(c,w),y=null;for(var b in w)if(w.hasOwnProperty(b)){var U=w[b];b==="children"?typeof U=="string"?p.textContent!==U&&(w.suppressHydrationWarning!==!0&&Zf(p.textContent,U,o),y=["children",U]):typeof U=="number"&&p.textContent!==""+U&&(w.suppressHydrationWarning!==!0&&Zf(p.textContent,U,o),y=["children",""+U]):i.hasOwnProperty(b)&&U!=null&&b==="onScroll"&&gt("scroll",p)}switch(c){case"input":ln(p),Wn(p,w,!0);break;case"textarea":ln(p),bc(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=ep)}p=y,a.updateQueue=p,p!==null&&(a.flags|=4)}else{b=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=en(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=b.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof p.is=="string"?o=b.createElement(c,{is:p.is}):(o=b.createElement(c),c==="select"&&(b=o,p.multiple?b.multiple=!0:p.size&&(b.size=p.size))):o=b.createElementNS(o,c),o[Ii]=a,o[rd]=p,dS(o,a,!1,!1),a.stateNode=o;e:{switch(b=Dc(c,p),c){case"dialog":gt("cancel",o),gt("close",o),y=p;break;case"iframe":case"object":case"embed":gt("load",o),y=p;break;case"video":case"audio":for(y=0;y<ed.length;y++)gt(ed[y],o);y=p;break;case"source":gt("error",o),y=p;break;case"img":case"image":case"link":gt("error",o),gt("load",o),y=p;break;case"details":gt("toggle",o),y=p;break;case"input":Wr(o,p),y=Zt(o,p),gt("invalid",o);break;case"option":y=p;break;case"select":o._wrapperState={wasMultiple:!!p.multiple},y=he({},p,{value:void 0}),gt("invalid",o);break;case"textarea":pl(o,p),y=Pc(o,p),gt("invalid",o);break;default:y=p}Nc(c,y),U=y;for(w in U)if(U.hasOwnProperty(w)){var B=U[w];w==="style"?xc(o,B):w==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Cc(o,B)):w==="children"?typeof B=="string"?(c!=="textarea"||B!=="")&&Ws(o,B):typeof B=="number"&&Ws(o,""+B):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(i.hasOwnProperty(w)?B!=null&&w==="onScroll"&&gt("scroll",o):B!=null&&M(o,w,B,b))}switch(c){case"input":ln(o),Wn(o,p,!1);break;case"textarea":ln(o),bc(o);break;case"option":p.value!=null&&o.setAttribute("value",""+qe(p.value));break;case"select":o.multiple=!!p.multiple,w=p.value,w!=null?ts(o,!!p.multiple,w,!1):p.defaultValue!=null&&ts(o,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=ep)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return bn(a),null;case 6:if(o&&a.stateNode!=null)fS(o,a,o.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=Ia(ld.current),Ia(Ti.current),ap(a)){if(p=a.stateNode,c=a.memoizedProps,p[Ii]=a,(w=p.nodeValue!==c)&&(o=dr,o!==null))switch(o.tag){case 3:Zf(p.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Zf(p.nodeValue,c,(o.mode&1)!==0)}w&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Ii]=a,a.stateNode=p}return bn(a),null;case 13:if(yt(bt),p=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Et&&hr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)gT(),Kl(),a.flags|=98560,w=!1;else if(w=ap(a),p!==null&&p.dehydrated!==null){if(o===null){if(!w)throw Error(t(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(t(317));w[Ii]=a}else Kl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;bn(a),w=!1}else ti!==null&&(ev(ti),ti=null),w=!0;if(!w)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(p=p!==null,p!==(o!==null&&o.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(bt.current&1)!==0?sn===0&&(sn=3):rv())),a.updateQueue!==null&&(a.flags|=4),bn(a),null);case 4:return Jl(),z_(o,a),o===null&&td(a.stateNode.containerInfo),bn(a),null;case 10:return y_(a.type._context),bn(a),null;case 17:return Qn(a.type)&&np(),bn(a),null;case 19:if(yt(bt),w=a.memoizedState,w===null)return bn(a),null;if(p=(a.flags&128)!==0,b=w.rendering,b===null)if(p)fd(w,!1);else{if(sn!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(b=fp(o),b!==null){for(a.flags|=128,fd(w,!1),p=b.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)w=c,o=p,w.flags&=14680066,b=w.alternate,b===null?(w.childLanes=0,w.lanes=o,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=b.childLanes,w.lanes=b.lanes,w.child=b.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=b.memoizedProps,w.memoizedState=b.memoizedState,w.updateQueue=b.updateQueue,w.type=b.type,o=b.dependencies,w.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return ft(bt,bt.current&1|2),a.child}o=o.sibling}w.tail!==null&&ht()>tu&&(a.flags|=128,p=!0,fd(w,!1),a.lanes=4194304)}else{if(!p)if(o=fp(b),o!==null){if(a.flags|=128,p=!0,c=o.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),fd(w,!0),w.tail===null&&w.tailMode==="hidden"&&!b.alternate&&!Et)return bn(a),null}else 2*ht()-w.renderingStartTime>tu&&c!==1073741824&&(a.flags|=128,p=!0,fd(w,!1),a.lanes=4194304);w.isBackwards?(b.sibling=a.child,a.child=b):(c=w.last,c!==null?c.sibling=b:a.child=b,w.last=b)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=ht(),a.sibling=null,c=bt.current,ft(bt,p?c&1|2:c&1),a):(bn(a),null);case 22:case 23:return nv(),p=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(fr&1073741824)!==0&&(bn(a),a.subtreeFlags&6&&(a.flags|=8192)):bn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function IL(o,a){switch(d_(a),a.tag){case 1:return Qn(a.type)&&np(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Jl(),yt(Gn),yt(An),S_(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return I_(a),null;case 13:if(yt(bt),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Kl()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return yt(bt),null;case 4:return Jl(),null;case 10:return y_(a.type._context),null;case 22:case 23:return nv(),null;case 24:return null;default:return null}}var Ip=!1,Cn=!1,TL=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Zl(o,a){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Dt(o,a,p)}else c.current=null}function W_(o,a,c){try{c()}catch(p){Dt(o,a,p)}}var pS=!1;function SL(o,a){if(n_=Xs,o=HI(),Gy(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var y=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var b=0,U=-1,B=-1,Z=0,ce=0,fe=o,le=null;t:for(;;){for(var we;fe!==c||y!==0&&fe.nodeType!==3||(U=b+y),fe!==w||p!==0&&fe.nodeType!==3||(B=b+p),fe.nodeType===3&&(b+=fe.nodeValue.length),(we=fe.firstChild)!==null;)le=fe,fe=we;for(;;){if(fe===o)break t;if(le===c&&++Z===y&&(U=b),le===w&&++ce===p&&(B=b),(we=fe.nextSibling)!==null)break;fe=le,le=fe.parentNode}fe=we}c=U===-1||B===-1?null:{start:U,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(r_={focusedElem:o,selectionRange:c},Xs=!1,Ie=a;Ie!==null;)if(a=Ie,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Ie=o;else for(;Ie!==null;){a=Ie;try{var Se=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ae=Se.memoizedProps,jt=Se.memoizedState,Y=a.stateNode,H=Y.getSnapshotBeforeUpdate(a.elementType===a.type?Ae:ni(a.type,Ae),jt);Y.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ge){Dt(a,a.return,ge)}if(o=a.sibling,o!==null){o.return=a.return,Ie=o;break}Ie=a.return}return Se=pS,pS=!1,Se}function pd(o,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&o)===o){var w=y.destroy;y.destroy=void 0,w!==void 0&&W_(a,c,w)}y=y.next}while(y!==p)}}function Tp(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function q_(o){var a=o.ref;if(a!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof a=="function"?a(o):a.current=o}}function mS(o){var a=o.alternate;a!==null&&(o.alternate=null,mS(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Ii],delete a[rd],delete a[a_],delete a[oL],delete a[aL])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function gS(o){return o.tag===5||o.tag===3||o.tag===4}function yS(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||gS(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function H_(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=ep));else if(p!==4&&(o=o.child,o!==null))for(H_(o,a,c),o=o.sibling;o!==null;)H_(o,a,c),o=o.sibling}function K_(o,a,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(p!==4&&(o=o.child,o!==null))for(K_(o,a,c),o=o.sibling;o!==null;)K_(o,a,c),o=o.sibling}var vn=null,ri=!1;function ao(o,a,c){for(c=c.child;c!==null;)_S(o,a,c),c=c.sibling}function _S(o,a,c){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(ca,c)}catch{}switch(c.tag){case 5:Cn||Zl(c,a);case 6:var p=vn,y=ri;vn=null,ao(o,a,c),vn=p,ri=y,vn!==null&&(ri?(o=vn,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):vn.removeChild(c.stateNode));break;case 18:vn!==null&&(ri?(o=vn,c=c.stateNode,o.nodeType===8?o_(o.parentNode,c):o.nodeType===1&&o_(o,c),Xr(o)):o_(vn,c.stateNode));break;case 4:p=vn,y=ri,vn=c.stateNode.containerInfo,ri=!0,ao(o,a,c),vn=p,ri=y;break;case 0:case 11:case 14:case 15:if(!Cn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var w=y,b=w.destroy;w=w.tag,b!==void 0&&((w&2)!==0||(w&4)!==0)&&W_(c,a,b),y=y.next}while(y!==p)}ao(o,a,c);break;case 1:if(!Cn&&(Zl(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(U){Dt(c,a,U)}ao(o,a,c);break;case 21:ao(o,a,c);break;case 22:c.mode&1?(Cn=(p=Cn)||c.memoizedState!==null,ao(o,a,c),Cn=p):ao(o,a,c);break;default:ao(o,a,c)}}function vS(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new TL),a.forEach(function(p){var y=NL.bind(null,o,p);c.has(p)||(c.add(p),p.then(y,y))})}}function ii(o,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var y=c[p];try{var w=o,b=a,U=b;e:for(;U!==null;){switch(U.tag){case 5:vn=U.stateNode,ri=!1;break e;case 3:vn=U.stateNode.containerInfo,ri=!0;break e;case 4:vn=U.stateNode.containerInfo,ri=!0;break e}U=U.return}if(vn===null)throw Error(t(160));_S(w,b,y),vn=null,ri=!1;var B=y.alternate;B!==null&&(B.return=null),y.return=null}catch(Z){Dt(y,a,Z)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)wS(a,o),a=a.sibling}function wS(o,a){var c=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ii(a,o),Ri(o),p&4){try{pd(3,o,o.return),Tp(3,o)}catch(Ae){Dt(o,o.return,Ae)}try{pd(5,o,o.return)}catch(Ae){Dt(o,o.return,Ae)}}break;case 1:ii(a,o),Ri(o),p&512&&c!==null&&Zl(c,c.return);break;case 5:if(ii(a,o),Ri(o),p&512&&c!==null&&Zl(c,c.return),o.flags&32){var y=o.stateNode;try{Ws(y,"")}catch(Ae){Dt(o,o.return,Ae)}}if(p&4&&(y=o.stateNode,y!=null)){var w=o.memoizedProps,b=c!==null?c.memoizedProps:w,U=o.type,B=o.updateQueue;if(o.updateQueue=null,B!==null)try{U==="input"&&w.type==="radio"&&w.name!=null&&Ar(y,w),Dc(U,b);var Z=Dc(U,w);for(b=0;b<B.length;b+=2){var ce=B[b],fe=B[b+1];ce==="style"?xc(y,fe):ce==="dangerouslySetInnerHTML"?Cc(y,fe):ce==="children"?Ws(y,fe):M(y,ce,fe,Z)}switch(U){case"input":Pr(y,w);break;case"textarea":ml(y,w);break;case"select":var le=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!w.multiple;var we=w.value;we!=null?ts(y,!!w.multiple,we,!1):le!==!!w.multiple&&(w.defaultValue!=null?ts(y,!!w.multiple,w.defaultValue,!0):ts(y,!!w.multiple,w.multiple?[]:"",!1))}y[rd]=w}catch(Ae){Dt(o,o.return,Ae)}}break;case 6:if(ii(a,o),Ri(o),p&4){if(o.stateNode===null)throw Error(t(162));y=o.stateNode,w=o.memoizedProps;try{y.nodeValue=w}catch(Ae){Dt(o,o.return,Ae)}}break;case 3:if(ii(a,o),Ri(o),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Xr(a.containerInfo)}catch(Ae){Dt(o,o.return,Ae)}break;case 4:ii(a,o),Ri(o);break;case 13:ii(a,o),Ri(o),y=o.child,y.flags&8192&&(w=y.memoizedState!==null,y.stateNode.isHidden=w,!w||y.alternate!==null&&y.alternate.memoizedState!==null||(Y_=ht())),p&4&&vS(o);break;case 22:if(ce=c!==null&&c.memoizedState!==null,o.mode&1?(Cn=(Z=Cn)||ce,ii(a,o),Cn=Z):ii(a,o),Ri(o),p&8192){if(Z=o.memoizedState!==null,(o.stateNode.isHidden=Z)&&!ce&&(o.mode&1)!==0)for(Ie=o,ce=o.child;ce!==null;){for(fe=Ie=ce;Ie!==null;){switch(le=Ie,we=le.child,le.tag){case 0:case 11:case 14:case 15:pd(4,le,le.return);break;case 1:Zl(le,le.return);var Se=le.stateNode;if(typeof Se.componentWillUnmount=="function"){p=le,c=le.return;try{a=p,Se.props=a.memoizedProps,Se.state=a.memoizedState,Se.componentWillUnmount()}catch(Ae){Dt(p,c,Ae)}}break;case 5:Zl(le,le.return);break;case 22:if(le.memoizedState!==null){TS(fe);continue}}we!==null?(we.return=le,Ie=we):TS(fe)}ce=ce.sibling}e:for(ce=null,fe=o;;){if(fe.tag===5){if(ce===null){ce=fe;try{y=fe.stateNode,Z?(w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(U=fe.stateNode,B=fe.memoizedProps.style,b=B!=null&&B.hasOwnProperty("display")?B.display:null,U.style.display=kc("display",b))}catch(Ae){Dt(o,o.return,Ae)}}}else if(fe.tag===6){if(ce===null)try{fe.stateNode.nodeValue=Z?"":fe.memoizedProps}catch(Ae){Dt(o,o.return,Ae)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===o)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===o)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===o)break e;ce===fe&&(ce=null),fe=fe.return}ce===fe&&(ce=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:ii(a,o),Ri(o),p&4&&vS(o);break;case 21:break;default:ii(a,o),Ri(o)}}function Ri(o){var a=o.flags;if(a&2){try{e:{for(var c=o.return;c!==null;){if(gS(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Ws(y,""),p.flags&=-33);var w=yS(o);K_(o,w,y);break;case 3:case 4:var b=p.stateNode.containerInfo,U=yS(o);H_(o,U,b);break;default:throw Error(t(161))}}catch(B){Dt(o,o.return,B)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function RL(o,a,c){Ie=o,ES(o)}function ES(o,a,c){for(var p=(o.mode&1)!==0;Ie!==null;){var y=Ie,w=y.child;if(y.tag===22&&p){var b=y.memoizedState!==null||Ip;if(!b){var U=y.alternate,B=U!==null&&U.memoizedState!==null||Cn;U=Ip;var Z=Cn;if(Ip=b,(Cn=B)&&!Z)for(Ie=y;Ie!==null;)b=Ie,B=b.child,b.tag===22&&b.memoizedState!==null?SS(y):B!==null?(B.return=b,Ie=B):SS(y);for(;w!==null;)Ie=w,ES(w),w=w.sibling;Ie=y,Ip=U,Cn=Z}IS(o)}else(y.subtreeFlags&8772)!==0&&w!==null?(w.return=y,Ie=w):IS(o)}}function IS(o){for(;Ie!==null;){var a=Ie;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Cn||Tp(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Cn)if(c===null)p.componentDidMount();else{var y=a.elementType===a.type?c.memoizedProps:ni(a.type,c.memoizedProps);p.componentDidUpdate(y,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&TT(a,w,p);break;case 3:var b=a.updateQueue;if(b!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}TT(a,b,c)}break;case 5:var U=a.stateNode;if(c===null&&a.flags&4){c=U;var B=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&c.focus();break;case"img":B.src&&(c.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Z=a.alternate;if(Z!==null){var ce=Z.memoizedState;if(ce!==null){var fe=ce.dehydrated;fe!==null&&Xr(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Cn||a.flags&512&&q_(a)}catch(le){Dt(a,a.return,le)}}if(a===o){Ie=null;break}if(c=a.sibling,c!==null){c.return=a.return,Ie=c;break}Ie=a.return}}function TS(o){for(;Ie!==null;){var a=Ie;if(a===o){Ie=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Ie=c;break}Ie=a.return}}function SS(o){for(;Ie!==null;){var a=Ie;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Tp(4,a)}catch(B){Dt(a,c,B)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var y=a.return;try{p.componentDidMount()}catch(B){Dt(a,y,B)}}var w=a.return;try{q_(a)}catch(B){Dt(a,w,B)}break;case 5:var b=a.return;try{q_(a)}catch(B){Dt(a,b,B)}}}catch(B){Dt(a,a.return,B)}if(a===o){Ie=null;break}var U=a.sibling;if(U!==null){U.return=a.return,Ie=U;break}Ie=a.return}}var AL=Math.ceil,Sp=W.ReactCurrentDispatcher,G_=W.ReactCurrentOwner,Vr=W.ReactCurrentBatchConfig,Xe=0,dn=null,Kt=null,wn=0,fr=0,eu=no(0),sn=0,md=null,Sa=0,Rp=0,Q_=0,gd=null,Jn=null,Y_=0,tu=1/0,gs=null,Ap=!1,J_=null,lo=null,Pp=!1,uo=null,bp=0,yd=0,X_=null,Cp=-1,kp=0;function Un(){return(Xe&6)!==0?ht():Cp!==-1?Cp:Cp=ht()}function co(o){return(o.mode&1)===0?1:(Xe&2)!==0&&wn!==0?wn&-wn:uL.transition!==null?(kp===0&&(kp=ha()),kp):(o=He,o!==0||(o=window.event,o=o===void 0?16:qc(o.type)),o)}function si(o,a,c,p){if(50<yd)throw yd=0,X_=null,Error(t(185));Gs(o,c,p),((Xe&2)===0||o!==dn)&&(o===dn&&((Xe&2)===0&&(Rp|=c),sn===4&&ho(o,wn)),Xn(o,p),c===1&&Xe===0&&(a.mode&1)===0&&(tu=ht()+500,ip&&io()))}function Xn(o,a){var c=o.callbackNode;is(o,a);var p=da(o,o===dn?wn:0);if(p===0)c!==null&&$c(c),o.callbackNode=null,o.callbackPriority=0;else if(a=p&-p,o.callbackPriority!==a){if(c!=null&&$c(c),a===1)o.tag===0?lL(AS.bind(null,o)):dT(AS.bind(null,o)),iL(function(){(Xe&6)===0&&io()}),c=null;else{switch(Ys(p)){case 1:c=ua;break;case 4:c=qs;break;case 16:c=Cr;break;case 536870912:c=kf;break;default:c=Cr}c=DS(c,RS.bind(null,o))}o.callbackPriority=a,o.callbackNode=c}}function RS(o,a){if(Cp=-1,kp=0,(Xe&6)!==0)throw Error(t(327));var c=o.callbackNode;if(nu()&&o.callbackNode!==c)return null;var p=da(o,o===dn?wn:0);if(p===0)return null;if((p&30)!==0||(p&o.expiredLanes)!==0||a)a=xp(o,p);else{a=p;var y=Xe;Xe|=2;var w=bS();(dn!==o||wn!==a)&&(gs=null,tu=ht()+500,Aa(o,a));do try{CL();break}catch(U){PS(o,U)}while(!0);g_(),Sp.current=w,Xe=y,Kt!==null?a=0:(dn=null,wn=0,a=sn)}if(a!==0){if(a===2&&(y=lr(o),y!==0&&(p=y,a=Z_(o,y))),a===1)throw c=md,Aa(o,0),ho(o,p),Xn(o,ht()),c;if(a===6)ho(o,p);else{if(y=o.current.alternate,(p&30)===0&&!PL(y)&&(a=xp(o,p),a===2&&(w=lr(o),w!==0&&(p=w,a=Z_(o,w))),a===1))throw c=md,Aa(o,0),ho(o,p),Xn(o,ht()),c;switch(o.finishedWork=y,o.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:Pa(o,Jn,gs);break;case 3:if(ho(o,p),(p&130023424)===p&&(a=Y_+500-ht(),10<a)){if(da(o,0)!==0)break;if(y=o.suspendedLanes,(y&p)!==p){Un(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=s_(Pa.bind(null,o,Jn,gs),a);break}Pa(o,Jn,gs);break;case 4:if(ho(o,p),(p&4194240)===p)break;for(a=o.eventTimes,y=-1;0<p;){var b=31-Vn(p);w=1<<b,b=a[b],b>y&&(y=b),p&=~w}if(p=y,p=ht()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*AL(p/1960))-p,10<p){o.timeoutHandle=s_(Pa.bind(null,o,Jn,gs),p);break}Pa(o,Jn,gs);break;case 5:Pa(o,Jn,gs);break;default:throw Error(t(329))}}}return Xn(o,ht()),o.callbackNode===c?RS.bind(null,o):null}function Z_(o,a){var c=gd;return o.current.memoizedState.isDehydrated&&(Aa(o,a).flags|=256),o=xp(o,a),o!==2&&(a=Jn,Jn=c,a!==null&&ev(a)),o}function ev(o){Jn===null?Jn=o:Jn.push.apply(Jn,o)}function PL(o){for(var a=o;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var y=c[p],w=y.getSnapshot;y=y.value;try{if(!ei(w(),y))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ho(o,a){for(a&=~Q_,a&=~Rp,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var c=31-Vn(a),p=1<<c;o[c]=-1,a&=~p}}function AS(o){if((Xe&6)!==0)throw Error(t(327));nu();var a=da(o,0);if((a&1)===0)return Xn(o,ht()),null;var c=xp(o,a);if(o.tag!==0&&c===2){var p=lr(o);p!==0&&(a=p,c=Z_(o,p))}if(c===1)throw c=md,Aa(o,0),ho(o,a),Xn(o,ht()),c;if(c===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,Pa(o,Jn,gs),Xn(o,ht()),null}function tv(o,a){var c=Xe;Xe|=1;try{return o(a)}finally{Xe=c,Xe===0&&(tu=ht()+500,ip&&io())}}function Ra(o){uo!==null&&uo.tag===0&&(Xe&6)===0&&nu();var a=Xe;Xe|=1;var c=Vr.transition,p=He;try{if(Vr.transition=null,He=1,o)return o()}finally{He=p,Vr.transition=c,Xe=a,(Xe&6)===0&&io()}}function nv(){fr=eu.current,yt(eu)}function Aa(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,rL(c)),Kt!==null)for(c=Kt.return;c!==null;){var p=c;switch(d_(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&np();break;case 3:Jl(),yt(Gn),yt(An),S_();break;case 5:I_(p);break;case 4:Jl();break;case 13:yt(bt);break;case 19:yt(bt);break;case 10:y_(p.type._context);break;case 22:case 23:nv()}c=c.return}if(dn=o,Kt=o=fo(o.current,null),wn=fr=a,sn=0,md=null,Q_=Rp=Sa=0,Jn=gd=null,Ea!==null){for(a=0;a<Ea.length;a++)if(c=Ea[a],p=c.interleaved,p!==null){c.interleaved=null;var y=p.next,w=c.pending;if(w!==null){var b=w.next;w.next=y,p.next=b}c.pending=p}Ea=null}return o}function PS(o,a){do{var c=Kt;try{if(g_(),pp.current=_p,mp){for(var p=Ct.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}mp=!1}if(Ta=0,cn=rn=Ct=null,ud=!1,cd=0,G_.current=null,c===null||c.return===null){sn=1,md=a,Kt=null;break}e:{var w=o,b=c.return,U=c,B=a;if(a=wn,U.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Z=B,ce=U,fe=ce.tag;if((ce.mode&1)===0&&(fe===0||fe===11||fe===15)){var le=ce.alternate;le?(ce.updateQueue=le.updateQueue,ce.memoizedState=le.memoizedState,ce.lanes=le.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var we=XT(b);if(we!==null){we.flags&=-257,ZT(we,b,U,w,a),we.mode&1&&JT(w,Z,a),a=we,B=Z;var Se=a.updateQueue;if(Se===null){var Ae=new Set;Ae.add(B),a.updateQueue=Ae}else Se.add(B);break e}else{if((a&1)===0){JT(w,Z,a),rv();break e}B=Error(t(426))}}else if(Et&&U.mode&1){var jt=XT(b);if(jt!==null){(jt.flags&65536)===0&&(jt.flags|=256),ZT(jt,b,U,w,a),p_(Xl(B,U));break e}}w=B=Xl(B,U),sn!==4&&(sn=2),gd===null?gd=[w]:gd.push(w),w=b;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var Y=QT(w,B,a);IT(w,Y);break e;case 1:U=B;var H=w.type,J=w.stateNode;if((w.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(lo===null||!lo.has(J)))){w.flags|=65536,a&=-a,w.lanes|=a;var ge=YT(w,U,a);IT(w,ge);break e}}w=w.return}while(w!==null)}kS(c)}catch(Pe){a=Pe,Kt===c&&c!==null&&(Kt=c=c.return);continue}break}while(!0)}function bS(){var o=Sp.current;return Sp.current=_p,o===null?_p:o}function rv(){(sn===0||sn===3||sn===2)&&(sn=4),dn===null||(Sa&268435455)===0&&(Rp&268435455)===0||ho(dn,wn)}function xp(o,a){var c=Xe;Xe|=2;var p=bS();(dn!==o||wn!==a)&&(gs=null,Aa(o,a));do try{bL();break}catch(y){PS(o,y)}while(!0);if(g_(),Xe=c,Sp.current=p,Kt!==null)throw Error(t(261));return dn=null,wn=0,sn}function bL(){for(;Kt!==null;)CS(Kt)}function CL(){for(;Kt!==null&&!bf();)CS(Kt)}function CS(o){var a=NS(o.alternate,o,fr);o.memoizedProps=o.pendingProps,a===null?kS(o):Kt=a,G_.current=null}function kS(o){var a=o;do{var c=a.alternate;if(o=a.return,(a.flags&32768)===0){if(c=EL(c,a,fr),c!==null){Kt=c;return}}else{if(c=IL(c,a),c!==null){c.flags&=32767,Kt=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{sn=6,Kt=null;return}}if(a=a.sibling,a!==null){Kt=a;return}Kt=a=o}while(a!==null);sn===0&&(sn=5)}function Pa(o,a,c){var p=He,y=Vr.transition;try{Vr.transition=null,He=1,kL(o,a,c,p)}finally{Vr.transition=y,He=p}return null}function kL(o,a,c,p){do nu();while(uo!==null);if((Xe&6)!==0)throw Error(t(327));c=o.finishedWork;var y=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var w=c.lanes|c.childLanes;if(ut(o,w),o===dn&&(Kt=dn=null,wn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Pp||(Pp=!0,DS(Cr,function(){return nu(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=Vr.transition,Vr.transition=null;var b=He;He=1;var U=Xe;Xe|=4,G_.current=null,SL(o,c),wS(c,o),YD(r_),Xs=!!n_,r_=n_=null,o.current=c,RL(c),$y(),Xe=U,He=b,Vr.transition=w}else o.current=c;if(Pp&&(Pp=!1,uo=o,bp=y),w=o.pendingLanes,w===0&&(lo=null),xf(c.stateNode),Xn(o,ht()),a!==null)for(p=o.onRecoverableError,c=0;c<a.length;c++)y=a[c],p(y.value,{componentStack:y.stack,digest:y.digest});if(Ap)throw Ap=!1,o=J_,J_=null,o;return(bp&1)!==0&&o.tag!==0&&nu(),w=o.pendingLanes,(w&1)!==0?o===X_?yd++:(yd=0,X_=o):yd=0,io(),null}function nu(){if(uo!==null){var o=Ys(bp),a=Vr.transition,c=He;try{if(Vr.transition=null,He=16>o?16:o,uo===null)var p=!1;else{if(o=uo,uo=null,bp=0,(Xe&6)!==0)throw Error(t(331));var y=Xe;for(Xe|=4,Ie=o.current;Ie!==null;){var w=Ie,b=w.child;if((Ie.flags&16)!==0){var U=w.deletions;if(U!==null){for(var B=0;B<U.length;B++){var Z=U[B];for(Ie=Z;Ie!==null;){var ce=Ie;switch(ce.tag){case 0:case 11:case 15:pd(8,ce,w)}var fe=ce.child;if(fe!==null)fe.return=ce,Ie=fe;else for(;Ie!==null;){ce=Ie;var le=ce.sibling,we=ce.return;if(mS(ce),ce===Z){Ie=null;break}if(le!==null){le.return=we,Ie=le;break}Ie=we}}}var Se=w.alternate;if(Se!==null){var Ae=Se.child;if(Ae!==null){Se.child=null;do{var jt=Ae.sibling;Ae.sibling=null,Ae=jt}while(Ae!==null)}}Ie=w}}if((w.subtreeFlags&2064)!==0&&b!==null)b.return=w,Ie=b;else e:for(;Ie!==null;){if(w=Ie,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:pd(9,w,w.return)}var Y=w.sibling;if(Y!==null){Y.return=w.return,Ie=Y;break e}Ie=w.return}}var H=o.current;for(Ie=H;Ie!==null;){b=Ie;var J=b.child;if((b.subtreeFlags&2064)!==0&&J!==null)J.return=b,Ie=J;else e:for(b=H;Ie!==null;){if(U=Ie,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:Tp(9,U)}}catch(Pe){Dt(U,U.return,Pe)}if(U===b){Ie=null;break e}var ge=U.sibling;if(ge!==null){ge.return=U.return,Ie=ge;break e}Ie=U.return}}if(Xe=y,io(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(ca,o)}catch{}p=!0}return p}finally{He=c,Vr.transition=a}}return!1}function xS(o,a,c){a=Xl(c,a),a=QT(o,a,1),o=oo(o,a,1),a=Un(),o!==null&&(Gs(o,1,a),Xn(o,a))}function Dt(o,a,c){if(o.tag===3)xS(o,o,c);else for(;a!==null;){if(a.tag===3){xS(a,o,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(lo===null||!lo.has(p))){o=Xl(c,o),o=YT(a,o,1),a=oo(a,o,1),o=Un(),a!==null&&(Gs(a,1,o),Xn(a,o));break}}a=a.return}}function xL(o,a,c){var p=o.pingCache;p!==null&&p.delete(a),a=Un(),o.pingedLanes|=o.suspendedLanes&c,dn===o&&(wn&c)===c&&(sn===4||sn===3&&(wn&130023424)===wn&&500>ht()-Y_?Aa(o,0):Q_|=c),Xn(o,a)}function OS(o,a){a===0&&((o.mode&1)===0?a=1:(a=Rl,Rl<<=1,(Rl&130023424)===0&&(Rl=4194304)));var c=Un();o=fs(o,a),o!==null&&(Gs(o,a,c),Xn(o,c))}function OL(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),OS(o,c)}function NL(o,a){var c=0;switch(o.tag){case 13:var p=o.stateNode,y=o.memoizedState;y!==null&&(c=y.retryLane);break;case 19:p=o.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),OS(o,c)}var NS;NS=function(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps||Gn.current)Yn=!0;else{if((o.lanes&c)===0&&(a.flags&128)===0)return Yn=!1,wL(o,a,c);Yn=(o.flags&131072)!==0}else Yn=!1,Et&&(a.flags&1048576)!==0&&hT(a,op,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Ep(o,a),o=a.pendingProps;var y=Wl(a,An.current);Yl(a,c),y=P_(null,a,p,o,y,c);var w=b_();return a.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Qn(p)?(w=!0,rp(a)):w=!1,a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,w_(a),y.updater=vp,a.stateNode=y,y._reactInternals=a,D_(a,p,o,c),a=F_(null,a,p,!0,w,c)):(a.tag=0,Et&&w&&c_(a),Fn(null,a,y,c),a=a.child),a;case 16:p=a.elementType;e:{switch(Ep(o,a),o=a.pendingProps,y=p._init,p=y(p._payload),a.type=p,y=a.tag=LL(p),o=ni(p,o),y){case 0:a=M_(null,a,p,o,c);break e;case 1:a=sS(null,a,p,o,c);break e;case 11:a=eS(null,a,p,o,c);break e;case 14:a=tS(null,a,p,ni(p.type,o),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:ni(p,y),M_(o,a,p,y,c);case 1:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:ni(p,y),sS(o,a,p,y,c);case 3:e:{if(oS(a),o===null)throw Error(t(387));p=a.pendingProps,w=a.memoizedState,y=w.element,ET(o,a),hp(a,p,null,c);var b=a.memoizedState;if(p=b.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){y=Xl(Error(t(423)),a),a=aS(o,a,p,c,y);break e}else if(p!==y){y=Xl(Error(t(424)),a),a=aS(o,a,p,c,y);break e}else for(hr=to(a.stateNode.containerInfo.firstChild),dr=a,Et=!0,ti=null,c=vT(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Kl(),p===y){a=ms(o,a,c);break e}Fn(o,a,p,c)}a=a.child}return a;case 5:return ST(a),o===null&&f_(a),p=a.type,y=a.pendingProps,w=o!==null?o.memoizedProps:null,b=y.children,i_(p,y)?b=null:w!==null&&i_(p,w)&&(a.flags|=32),iS(o,a),Fn(o,a,b,c),a.child;case 6:return o===null&&f_(a),null;case 13:return lS(o,a,c);case 4:return E_(a,a.stateNode.containerInfo),p=a.pendingProps,o===null?a.child=Gl(a,null,p,c):Fn(o,a,p,c),a.child;case 11:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:ni(p,y),eS(o,a,p,y,c);case 7:return Fn(o,a,a.pendingProps,c),a.child;case 8:return Fn(o,a,a.pendingProps.children,c),a.child;case 12:return Fn(o,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,y=a.pendingProps,w=a.memoizedProps,b=y.value,ft(up,p._currentValue),p._currentValue=b,w!==null)if(ei(w.value,b)){if(w.children===y.children&&!Gn.current){a=ms(o,a,c);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var U=w.dependencies;if(U!==null){b=w.child;for(var B=U.firstContext;B!==null;){if(B.context===p){if(w.tag===1){B=ps(-1,c&-c),B.tag=2;var Z=w.updateQueue;if(Z!==null){Z=Z.shared;var ce=Z.pending;ce===null?B.next=B:(B.next=ce.next,ce.next=B),Z.pending=B}}w.lanes|=c,B=w.alternate,B!==null&&(B.lanes|=c),__(w.return,c,a),U.lanes|=c;break}B=B.next}}else if(w.tag===10)b=w.type===a.type?null:w.child;else if(w.tag===18){if(b=w.return,b===null)throw Error(t(341));b.lanes|=c,U=b.alternate,U!==null&&(U.lanes|=c),__(b,c,a),b=w.sibling}else b=w.child;if(b!==null)b.return=w;else for(b=w;b!==null;){if(b===a){b=null;break}if(w=b.sibling,w!==null){w.return=b.return,b=w;break}b=b.return}w=b}Fn(o,a,y.children,c),a=a.child}return a;case 9:return y=a.type,p=a.pendingProps.children,Yl(a,c),y=Dr(y),p=p(y),a.flags|=1,Fn(o,a,p,c),a.child;case 14:return p=a.type,y=ni(p,a.pendingProps),y=ni(p.type,y),tS(o,a,p,y,c);case 15:return nS(o,a,a.type,a.pendingProps,c);case 17:return p=a.type,y=a.pendingProps,y=a.elementType===p?y:ni(p,y),Ep(o,a),a.tag=1,Qn(p)?(o=!0,rp(a)):o=!1,Yl(a,c),KT(a,p,y),D_(a,p,y,c),F_(null,a,p,!0,o,c);case 19:return cS(o,a,c);case 22:return rS(o,a,c)}throw Error(t(156,a.tag))};function DS(o,a){return Tl(o,a)}function DL(o,a,c,p){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(o,a,c,p){return new DL(o,a,c,p)}function iv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function LL(o){if(typeof o=="function")return iv(o)?1:0;if(o!=null){if(o=o.$$typeof,o===k)return 11;if(o===F)return 14}return 2}function fo(o,a){var c=o.alternate;return c===null?(c=Mr(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function Op(o,a,c,p,y,w){var b=2;if(p=o,typeof o=="function")iv(o)&&(b=1);else if(typeof o=="string")b=5;else e:switch(o){case D:return ba(c.children,y,w,a);case P:b=8,y|=8;break;case C:return o=Mr(12,c,a,y|2),o.elementType=C,o.lanes=w,o;case O:return o=Mr(13,c,a,y),o.elementType=O,o.lanes=w,o;case ee:return o=Mr(19,c,a,y),o.elementType=ee,o.lanes=w,o;case oe:return Np(c,y,w,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case E:b=10;break e;case x:b=9;break e;case k:b=11;break e;case F:b=14;break e;case me:b=16,p=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return a=Mr(b,c,a,y),a.elementType=o,a.type=p,a.lanes=w,a}function ba(o,a,c,p){return o=Mr(7,o,p,a),o.lanes=c,o}function Np(o,a,c,p){return o=Mr(22,o,p,a),o.elementType=oe,o.lanes=c,o.stateNode={isHidden:!1},o}function sv(o,a,c){return o=Mr(6,o,null,a),o.lanes=c,o}function ov(o,a,c){return a=Mr(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function VL(o,a,c,p,y){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ks(0),this.expirationTimes=Ks(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ks(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function av(o,a,c,p,y,w,b,U,B){return o=new VL(o,a,c,U,B),a===1?(a=1,w===!0&&(a|=8)):a=0,w=Mr(3,null,null,a),o.current=w,w.stateNode=o,w.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},w_(w),o}function ML(o,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:q,key:p==null?null:""+p,children:o,containerInfo:a,implementation:c}}function LS(o){if(!o)return ro;o=o._reactInternals;e:{if(Kr(o)!==o||o.tag!==1)throw Error(t(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Qn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(o.tag===1){var c=o.type;if(Qn(c))return uT(o,c,a)}return a}function VS(o,a,c,p,y,w,b,U,B){return o=av(c,p,!0,o,y,w,b,U,B),o.context=LS(null),c=o.current,p=Un(),y=co(c),w=ps(p,y),w.callback=a??null,oo(c,w,y),o.current.lanes=y,Gs(o,y,p),Xn(o,p),o}function Dp(o,a,c,p){var y=a.current,w=Un(),b=co(y);return c=LS(c),a.context===null?a.context=c:a.pendingContext=c,a=ps(w,b),a.payload={element:o},p=p===void 0?null:p,p!==null&&(a.callback=p),o=oo(y,a,b),o!==null&&(si(o,y,b,w),dp(o,y,b)),b}function Lp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function MS(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function lv(o,a){MS(o,a),(o=o.alternate)&&MS(o,a)}function FL(){return null}var FS=typeof reportError=="function"?reportError:function(o){console.error(o)};function uv(o){this._internalRoot=o}Vp.prototype.render=uv.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(t(409));Dp(o,a,null,null)},Vp.prototype.unmount=uv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Ra(function(){Dp(null,o,null,null)}),a[us]=null}};function Vp(o){this._internalRoot=o}Vp.prototype.unstable_scheduleHydration=function(o){if(o){var a=Vf();o={blockedOn:null,target:o,priority:a};for(var c=0;c<_i.length&&a!==0&&a<_i[c].priority;c++);_i.splice(c,0,o),c===0&&Uf(o)}};function cv(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Mp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function US(){}function UL(o,a,c,p,y){if(y){if(typeof p=="function"){var w=p;p=function(){var Z=Lp(b);w.call(Z)}}var b=VS(a,p,o,0,null,!1,!1,"",US);return o._reactRootContainer=b,o[us]=b.current,td(o.nodeType===8?o.parentNode:o),Ra(),b}for(;y=o.lastChild;)o.removeChild(y);if(typeof p=="function"){var U=p;p=function(){var Z=Lp(B);U.call(Z)}}var B=av(o,0,!1,null,null,!1,!1,"",US);return o._reactRootContainer=B,o[us]=B.current,td(o.nodeType===8?o.parentNode:o),Ra(function(){Dp(a,B,c,p)}),B}function Fp(o,a,c,p,y){var w=c._reactRootContainer;if(w){var b=w;if(typeof y=="function"){var U=y;y=function(){var B=Lp(b);U.call(B)}}Dp(a,b,o,y)}else b=UL(c,a,o,y,p);return Lp(b)}Df=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var c=Hs(a.pendingLanes);c!==0&&(Qs(a,c|1),Xn(a,ht()),(Xe&6)===0&&(tu=ht()+500,io()))}break;case 13:Ra(function(){var p=fs(o,1);if(p!==null){var y=Un();si(p,o,1,y)}}),lv(o,1)}},Al=function(o){if(o.tag===13){var a=fs(o,134217728);if(a!==null){var c=Un();si(a,o,134217728,c)}lv(o,134217728)}},Lf=function(o){if(o.tag===13){var a=co(o),c=fs(o,a);if(c!==null){var p=Un();si(c,o,a,p)}lv(o,a)}},Vf=function(){return He},Mf=function(o,a){var c=He;try{return He=o,a()}finally{He=c}},yl=function(o,a,c){switch(a){case"input":if(Pr(o,c),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==o&&p.form===o.form){var y=tp(p);if(!y)throw Error(t(90));it(p),Pr(p,y)}}}break;case"textarea":ml(o,c);break;case"select":a=c.value,a!=null&&ts(o,!!c.multiple,a,!1)}},sa=tv,Vc=Ra;var $L={usingClientEntryPoint:!1,Events:[id,Bl,tp,gi,Lc,tv]},_d={findFiberByHostInstance:ya,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jL={bundleType:_d.bundleType,version:_d.version,rendererPackageName:_d.rendererPackageName,rendererConfig:_d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Uc(o),o===null?null:o.stateNode},findFiberByHostInstance:_d.findFiberByHostInstance||FL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Up=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Up.isDisabled&&Up.supportsFiber)try{ca=Up.inject(jL),ar=Up}catch{}}return Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$L,Zn.createPortal=function(o,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cv(a))throw Error(t(200));return ML(o,a,null,c)},Zn.createRoot=function(o,a){if(!cv(o))throw Error(t(299));var c=!1,p="",y=FS;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(y=a.onRecoverableError)),a=av(o,1,!1,null,null,c,!1,p,y),o[us]=a.current,td(o.nodeType===8?o.parentNode:o),new uv(a)},Zn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=Uc(a),o=o===null?null:o.stateNode,o},Zn.flushSync=function(o){return Ra(o)},Zn.hydrate=function(o,a,c){if(!Mp(a))throw Error(t(200));return Fp(null,o,a,!0,c)},Zn.hydrateRoot=function(o,a,c){if(!cv(o))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,y=!1,w="",b=FS;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(b=c.onRecoverableError)),a=VS(a,null,o,1,c??null,y,!1,w,b),o[us]=a.current,td(o),p)for(o=0;o<p.length;o++)c=p[o],y=c._getVersion,y=y(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,y]:a.mutableSourceEagerHydrationData.push(c,y);return new Vp(a)},Zn.render=function(o,a,c){if(!Mp(a))throw Error(t(200));return Fp(null,o,a,!1,c)},Zn.unmountComponentAtNode=function(o){if(!Mp(o))throw Error(t(40));return o._reactRootContainer?(Ra(function(){Fp(null,null,o,!1,function(){o._reactRootContainer=null,o[us]=null})}),!0):!1},Zn.unstable_batchedUpdates=tv,Zn.unstable_renderSubtreeIntoContainer=function(o,a,c,p){if(!Mp(c))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return Fp(o,a,c,!1,p)},Zn.version="18.3.1-next-f1338f8080-20240426",Zn}var KS;function YL(){if(KS)return fv.exports;KS=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),fv.exports=QL(),fv.exports}var GS;function JL(){if(GS)return $p;GS=1;var n=YL();return $p.createRoot=n.createRoot,$p.hydrateRoot=n.hydrateRoot,$p}var XL=JL(),Qb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},QS=Ke.createContext&&Ke.createContext(Qb),ZL=["attr","size","title"];function eV(n,e){if(n==null)return{};var t=tV(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function tV(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Lm(){return Lm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Lm.apply(this,arguments)}function YS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Vm(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YS(Object(t),!0).forEach(function(r){nV(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):YS(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function nV(n,e,t){return e=rV(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rV(n){var e=iV(n,"string");return typeof e=="symbol"?e:e+""}function iV(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Yb(n){return n&&n.map((e,t)=>Ke.createElement(e.tag,Vm({key:t},e.attr),Yb(e.child)))}function oc(n){return e=>Ke.createElement(sV,Lm({attr:Vm({},n.attr)},e),Yb(n.child))}function sV(n){var e=t=>{var{attr:r,size:i,title:s}=n,l=eV(n,ZL),u=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Ke.createElement("svg",Lm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:Vm(Vm({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),s&&Ke.createElement("title",null,s),n.children)};return QS!==void 0?Ke.createElement(QS.Consumer,null,t=>e(t)):e(Qb)}function oV(n){return oc({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(n)}function aV(n){return oc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}function lV(n){return oc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(n)}const uV="_header__container_h0mdj_13",cV="_logo__container_h0mdj_33",dV="_fixed_h0mdj_45",hV="_language_h0mdj_69",fV="_delivery_h0mdj_97",pV="_search_h0mdj_137",mV="_cart_h0mdj_233",gV="_order__container_h0mdj_257",yV="_lower__container_h0mdj_287",vs={header__container:uV,logo__container:cV,fixed:dV,language:hV,delivery:fV,search:pV,cart:mV,order__container:gV,lower__container:yV};function _V(n){return oc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(n)}function vV(){return $.jsx("div",{className:vs.lower__container,children:$.jsxs("ul",{children:[$.jsxs("li",{children:[$.jsx(_V,{}),$.jsx("p",{children:"All"})]}),$.jsx("li",{children:"Today's Deal"}),$.jsx("li",{children:"Customer Service"}),$.jsx("li",{children:"Registry"}),$.jsx("li",{children:"Gift Cards"}),$.jsx("li",{children:"Sell"})]})})}var wd={},JS;function wV(){if(JS)return wd;JS=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.parse=l,wd.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function l(_,T){const I=new s,R=_.length;if(R<2)return I;const A=(T==null?void 0:T.decode)||m;let V=0;do{const L=_.indexOf("=",V);if(L===-1)break;const M=_.indexOf(";",V),W=M===-1?R:M;if(L>W){V=_.lastIndexOf(";",L-1)+1;continue}const j=u(_,V,L),q=d(_,L,j),D=_.slice(j,q);if(I[D]===void 0){let P=u(_,L+1,W),C=d(_,W,P);const E=A(_.slice(P,C));I[D]=E}V=W+1}while(V<R);return I}function u(_,T,I){do{const R=_.charCodeAt(T);if(R!==32&&R!==9)return T}while(++T<I);return I}function d(_,T,I){for(;T>I;){const R=_.charCodeAt(--T);if(R!==32&&R!==9)return T+1}return I}function h(_,T,I){const R=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const A=R(T);if(!e.test(A))throw new TypeError(`argument val is invalid: ${T}`);let V=_+"="+A;if(!I)return V;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);V+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);V+="; Domain="+I.domain}if(I.path){if(!r.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);V+="; Path="+I.path}if(I.expires){if(!g(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);V+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(V+="; HttpOnly"),I.secure&&(V+="; Secure"),I.partitioned&&(V+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return V}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function g(_){return i.call(_)==="[object Date]"}return wd}wV();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var XS="popstate";function EV(n={}){function e(r,i){let{pathname:s,search:l,hash:u}=r.location;return iw("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:ph(i)}return TV(e,t,null,n)}function xt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Hi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IV(){return Math.random().toString(36).substring(2,10)}function ZS(n,e){return{usr:n.state,key:n.key,idx:e}}function iw(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ac(e):e,state:t,key:e&&e.key||r||IV()}}function ph({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ac(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function TV(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,u="POP",d=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function g(){u="POP";let A=m(),V=A==null?null:A-h;h=A,d&&d({action:u,location:R.location,delta:V})}function _(A,V){u="PUSH";let L=iw(R.location,A,V);h=m()+1;let M=ZS(L,h),W=R.createHref(L);try{l.pushState(M,"",W)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(W)}s&&d&&d({action:u,location:R.location,delta:1})}function T(A,V){u="REPLACE";let L=iw(R.location,A,V);h=m();let M=ZS(L,h),W=R.createHref(L);l.replaceState(M,"",W),s&&d&&d({action:u,location:R.location,delta:0})}function I(A){let V=i.location.origin!=="null"?i.location.origin:i.location.href,L=typeof A=="string"?A:ph(A);return L=L.replace(/ $/,"%20"),xt(V,`No window.location.(origin|href) available to create URL for href: ${L}`),new URL(L,V)}let R={get action(){return u},get location(){return n(i,l)},listen(A){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(XS,g),d=A,()=>{i.removeEventListener(XS,g),d=null}},createHref(A){return e(i,A)},createURL:I,encodeLocation(A){let V=I(A);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:_,replace:T,go(A){return l.go(A)}};return R}function Jb(n,e,t="/"){return SV(n,e,t,!1)}function SV(n,e,t,r){let i=typeof e=="string"?ac(e):e,s=Oo(i.pathname||"/",t);if(s==null)return null;let l=Xb(n);RV(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=VV(s);u=DV(l[d],h,r)}return u}function Xb(n,e=[],t=[],r=""){let i=(s,l,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(xt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=Ps([r,d.relativePath]),m=t.concat(d);s.children&&s.children.length>0&&(xt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Xb(s.children,e,m,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:OV(h,s.index),routesMeta:m})};return n.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,l);else for(let d of Zb(s.path))i(s,l,d)}),e}function Zb(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=Zb(r.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function RV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:NV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var AV=/^:[\w-]+$/,PV=3,bV=2,CV=1,kV=10,xV=-2,eR=n=>n==="*";function OV(n,e){let t=n.split("/"),r=t.length;return t.some(eR)&&(r+=xV),e&&(r+=bV),t.filter(i=>!eR(i)).reduce((i,s)=>i+(AV.test(s)?PV:s===""?CV:kV),r)}function NV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function DV(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",g=Mm({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),_=d.route;if(!g&&h&&t&&!r[r.length-1].route.index&&(g=Mm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!g)return null;Object.assign(i,g.params),l.push({params:i,pathname:Ps([s,g.pathname]),pathnameBase:$V(Ps([s,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(s=Ps([s,g.pathnameBase]))}return l}function Mm(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=LV(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:g},_)=>{if(m==="*"){let I=u[_]||"";l=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const T=u[_];return g&&!T?h[m]=void 0:h[m]=(T||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:n}}function LV(n,e=!1,t=!0){Hi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function VV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Oo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function MV(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?ac(n):n;return{pathname:t?t.startsWith("/")?t:FV(t,e):e,search:jV(r),hash:BV(i)}}function FV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function gv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function eC(n){let e=UV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function tC(n,e,t,r=!1){let i;typeof n=="string"?i=ac(n):(i={...n},xt(!i.pathname||!i.pathname.includes("?"),gv("?","pathname","search",i)),xt(!i.pathname||!i.pathname.includes("#"),gv("#","pathname","hash",i)),xt(!i.search||!i.search.includes("#"),gv("#","search","hash",i)));let s=n===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=t;else{let g=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),g-=1;i.pathname=_.join("/")}u=g>=0?e[g]:"/"}let d=MV(i,u),h=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var Ps=n=>n.join("/").replace(/\/\/+/g,"/"),$V=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),jV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,BV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function zV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var nC=["POST","PUT","PATCH","DELETE"];new Set(nC);var WV=["GET",...nC];new Set(WV);var lc=K.createContext(null);lc.displayName="DataRouter";var Rg=K.createContext(null);Rg.displayName="DataRouterState";var rC=K.createContext({isTransitioning:!1});rC.displayName="ViewTransition";var qV=K.createContext(new Map);qV.displayName="Fetchers";var HV=K.createContext(null);HV.displayName="Await";var Xi=K.createContext(null);Xi.displayName="Navigation";var Wh=K.createContext(null);Wh.displayName="Location";var Zi=K.createContext({outlet:null,matches:[],isDataRoute:!1});Zi.displayName="Route";var vE=K.createContext(null);vE.displayName="RouteError";function KV(n,{relative:e}={}){xt(qh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=K.useContext(Xi),{hash:i,pathname:s,search:l}=Hh(n,{relative:e}),u=s;return t!=="/"&&(u=s==="/"?t:Ps([t,s])),r.createHref({pathname:u,search:l,hash:i})}function qh(){return K.useContext(Wh)!=null}function Ko(){return xt(qh(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Wh).location}var iC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sC(n){K.useContext(Xi).static||K.useLayoutEffect(n)}function Ag(){let{isDataRoute:n}=K.useContext(Zi);return n?oM():GV()}function GV(){xt(qh(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(lc),{basename:e,navigator:t}=K.useContext(Xi),{matches:r}=K.useContext(Zi),{pathname:i}=Ko(),s=JSON.stringify(eC(r)),l=K.useRef(!1);return sC(()=>{l.current=!0}),K.useCallback((d,h={})=>{if(Hi(l.current,iC),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=tC(d,JSON.parse(s),i,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ps([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,s,i,n])}K.createContext(null);function oC(){let{matches:n}=K.useContext(Zi),e=n[n.length-1];return e?e.params:{}}function Hh(n,{relative:e}={}){let{matches:t}=K.useContext(Zi),{pathname:r}=Ko(),i=JSON.stringify(eC(t));return K.useMemo(()=>tC(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function QV(n,e){return aC(n,e)}function aC(n,e,t,r){var L;xt(qh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=K.useContext(Xi),{matches:l}=K.useContext(Zi),u=l[l.length-1],d=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let M=g&&g.path||"";lC(h,!g||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let _=Ko(),T;if(e){let M=typeof e=="string"?ac(e):e;xt(m==="/"||((L=M.pathname)==null?void 0:L.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),T=M}else T=_;let I=T.pathname||"/",R=I;if(m!=="/"){let M=m.replace(/^\//,"").split("/");R="/"+I.replace(/^\//,"").split("/").slice(M.length).join("/")}let A=!s&&t&&t.matches&&t.matches.length>0?t.matches:Jb(n,{pathname:R});Hi(g||A!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Hi(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=eM(A&&A.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:Ps([m,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:Ps([m,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,t,r);return e&&V?K.createElement(Wh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},V):V}function YV(){let n=sM(),e=zV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:s},"ErrorBoundary")," or"," ",K.createElement("code",{style:s},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:i},t):null,l)}var JV=K.createElement(YV,null),XV=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(Zi.Provider,{value:this.props.routeContext},K.createElement(vE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZV({routeContext:n,match:e,children:t}){let r=K.useContext(lc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Zi.Provider,{value:n},t)}function eM(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let d=i.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);xt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:g}=t,_=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||_){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,m)=>{let g,_=!1,T=null,I=null;t&&(g=s&&h.route.id?s[h.route.id]:void 0,T=h.route.errorElement||JV,l&&(u<0&&m===0?(lC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,I=null):u===m&&(_=!0,I=h.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,m+1)),A=()=>{let V;return g?V=T:_?V=I:h.route.Component?V=K.createElement(h.route.Component,null):h.route.element?V=h.route.element:V=d,K.createElement(ZV,{match:h,routeContext:{outlet:d,matches:R,isDataRoute:t!=null},children:V})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?K.createElement(XV,{location:t.location,revalidation:t.revalidation,component:T,error:g,children:A(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):A()},null)}function wE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tM(n){let e=K.useContext(lc);return xt(e,wE(n)),e}function nM(n){let e=K.useContext(Rg);return xt(e,wE(n)),e}function rM(n){let e=K.useContext(Zi);return xt(e,wE(n)),e}function EE(n){let e=rM(n),t=e.matches[e.matches.length-1];return xt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function iM(){return EE("useRouteId")}function sM(){var r;let n=K.useContext(vE),e=nM("useRouteError"),t=EE("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function oM(){let{router:n}=tM("useNavigate"),e=EE("useNavigate"),t=K.useRef(!1);return sC(()=>{t.current=!0}),K.useCallback(async(i,s={})=>{Hi(t.current,iC),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var tR={};function lC(n,e,t){!e&&!tR[n]&&(tR[n]=!0,Hi(!1,t))}K.memo(aM);function aM({routes:n,future:e,state:t}){return aC(n,void 0,t,e)}function Eo(n){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lM({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){xt(!qh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=K.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof t=="string"&&(t=ac(t));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:_="default"}=t,T=K.useMemo(()=>{let I=Oo(d,l);return I==null?null:{location:{pathname:I,search:h,hash:m,state:g,key:_},navigationType:r}},[l,d,h,m,g,_,r]);return Hi(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:K.createElement(Xi.Provider,{value:u},K.createElement(Wh.Provider,{children:e,value:T}))}function uM({children:n,location:e}){return QV(sw(n),e)}function sw(n,e=[]){let t=[];return K.Children.forEach(n,(r,i)=>{if(!K.isValidElement(r))return;let s=[...e,i];if(r.type===K.Fragment){t.push.apply(t,sw(r.props.children,s));return}xt(r.type===Eo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=sw(r.props.children,s)),t.push(l)}),t}var sm="get",om="application/x-www-form-urlencoded";function Pg(n){return n!=null&&typeof n.tagName=="string"}function cM(n){return Pg(n)&&n.tagName.toLowerCase()==="button"}function dM(n){return Pg(n)&&n.tagName.toLowerCase()==="form"}function hM(n){return Pg(n)&&n.tagName.toLowerCase()==="input"}function fM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function pM(n,e){return n.button===0&&(!e||e==="_self")&&!fM(n)}var jp=null;function mM(){if(jp===null)try{new FormData(document.createElement("form"),0),jp=!1}catch{jp=!0}return jp}var gM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yv(n){return n!=null&&!gM.has(n)?(Hi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${om}"`),null):n}function yM(n,e){let t,r,i,s,l;if(dM(n)){let u=n.getAttribute("action");r=u?Oo(u,e):null,t=n.getAttribute("method")||sm,i=yv(n.getAttribute("enctype"))||om,s=new FormData(n)}else if(cM(n)||hM(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?Oo(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||sm,i=yv(n.getAttribute("formenctype"))||yv(u.getAttribute("enctype"))||om,s=new FormData(u,n),!mM()){let{name:h,type:m,value:g}=n;if(m==="image"){let _=h?`${h}.`:"";s.append(`${_}x`,"0"),s.append(`${_}y`,"0")}else h&&s.append(h,g)}}else{if(Pg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=sm,r=null,i=om,l=n}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:l}}function IE(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function _M(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function wM(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await _M(s,t);return l.links?l.links():[]}return[]}));return SM(r.flat(1).filter(vM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function nR(n,e,t,r,i,s){let l=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,u=(d,h)=>{var m;return t[h].pathname!==d.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==d.params["*"]};return s==="assets"?e.filter((d,h)=>l(d,h)||u(d,h)):s==="data"?e.filter((d,h)=>{var g;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,h)||u(d,h))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function EM(n,e,{includeHydrateFallback:t}={}){return IM(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function IM(n){return[...new Set(n)]}function TM(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function SM(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(TM(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function RM(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function AM(){let n=K.useContext(lc);return IE(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function PM(){let n=K.useContext(Rg);return IE(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var TE=K.createContext(void 0);TE.displayName="FrameworkContext";function uC(){let n=K.useContext(TE);return IE(n,"You must render this element inside a <HydratedRouter> element"),n}function bM(n,e){let t=K.useContext(TE),[r,i]=K.useState(!1),[s,l]=K.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=e,_=K.useRef(null);K.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let R=V=>{V.forEach(L=>{l(L.isIntersecting)})},A=new IntersectionObserver(R,{threshold:.5});return _.current&&A.observe(_.current),()=>{A.disconnect()}}},[n]),K.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let T=()=>{i(!0)},I=()=>{i(!1),l(!1)};return t?n!=="intent"?[s,_,{}]:[s,_,{onFocus:Ed(u,T),onBlur:Ed(d,I),onMouseEnter:Ed(h,T),onMouseLeave:Ed(m,I),onTouchStart:Ed(g,T)}]:[!1,_,{}]}function Ed(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function CM({page:n,...e}){let{router:t}=AM(),r=K.useMemo(()=>Jb(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?K.createElement(xM,{page:n,matches:r,...e}):null}function kM(n){let{manifest:e,routeModules:t}=uC(),[r,i]=K.useState([]);return K.useEffect(()=>{let s=!1;return wM(n,e,t).then(l=>{s||i(l)}),()=>{s=!0}},[n,e,t]),r}function xM({page:n,matches:e,...t}){let r=Ko(),{manifest:i,routeModules:s}=uC(),{loaderData:l,matches:u}=PM(),d=K.useMemo(()=>nR(n,e,u,i,r,"data"),[n,e,u,i,r]),h=K.useMemo(()=>nR(n,e,u,i,r,"assets"),[n,e,u,i,r]),m=K.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let T=new Set,I=!1;if(e.forEach(A=>{var L;let V=i.routes[A.route.id];!V||!V.hasLoader||(!d.some(M=>M.route.id===A.route.id)&&A.route.id in l&&((L=s[A.route.id])!=null&&L.shouldRevalidate)||V.hasClientLoader?I=!0:T.add(A.route.id))}),T.size===0)return[];let R=RM(n);return I&&T.size>0&&R.searchParams.set("_routes",e.filter(A=>T.has(A.route.id)).map(A=>A.route.id).join(",")),[R.pathname+R.search]},[l,r,i,d,e,n,s]),g=K.useMemo(()=>EM(h,i),[h,i]),_=kM(h);return K.createElement(K.Fragment,null,m.map(T=>K.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),g.map(T=>K.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),_.map(({key:T,link:I})=>K.createElement("link",{key:T,...I})))}function OM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var cC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cC&&(window.__reactRouterVersion="7.2.0")}catch{}function NM({basename:n,children:e,window:t}){let r=K.useRef();r.current==null&&(r.current=EV({window:t,v5Compat:!0}));let i=r.current,[s,l]=K.useState({action:i.action,location:i.location}),u=K.useCallback(d=>{K.startTransition(()=>l(d))},[l]);return K.useLayoutEffect(()=>i.listen(u),[i,u]),K.createElement(lM,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var dC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,li=K.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:u,target:d,to:h,preventScrollReset:m,viewTransition:g,..._},T){let{basename:I}=K.useContext(Xi),R=typeof h=="string"&&dC.test(h),A,V=!1;if(typeof h=="string"&&R&&(A=h,cC))try{let C=new URL(window.location.href),E=h.startsWith("//")?new URL(C.protocol+h):new URL(h),x=Oo(E.pathname,I);E.origin===C.origin&&x!=null?h=x+E.search+E.hash:V=!0}catch{Hi(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=KV(h,{relative:i}),[M,W,j]=bM(r,_),q=MM(h,{replace:l,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:g});function D(C){e&&e(C),C.defaultPrevented||q(C)}let P=K.createElement("a",{..._,...j,href:A||L,onClick:V||s?e:D,ref:OM(T,W),target:d,"data-discover":!R&&t==="render"?"true":void 0});return M&&!R?K.createElement(K.Fragment,null,P,K.createElement(CM,{page:L})):P});li.displayName="Link";var DM=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:u,children:d,...h},m){let g=Hh(l,{relative:h.relative}),_=Ko(),T=K.useContext(Rg),{navigator:I,basename:R}=K.useContext(Xi),A=T!=null&&BM(g)&&u===!0,V=I.encodeLocation?I.encodeLocation(g).pathname:g.pathname,L=_.pathname,M=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(L=L.toLowerCase(),M=M?M.toLowerCase():null,V=V.toLowerCase()),M&&R&&(M=Oo(M,R)||M);const W=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let j=L===V||!i&&L.startsWith(V)&&L.charAt(W)==="/",q=M!=null&&(M===V||!i&&M.startsWith(V)&&M.charAt(V.length)==="/"),D={isActive:j,isPending:q,isTransitioning:A},P=j?e:void 0,C;typeof r=="function"?C=r(D):C=[r,j?"active":null,q?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let E=typeof s=="function"?s(D):s;return K.createElement(li,{...h,"aria-current":P,className:C,ref:m,style:E,to:l,viewTransition:u},typeof d=="function"?d(D):d)});DM.displayName="NavLink";var LM=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:l=sm,action:u,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:g,..._},T)=>{let I=$M(),R=jM(u,{relative:h}),A=l.toLowerCase()==="get"?"get":"post",V=typeof u=="string"&&dC.test(u),L=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let W=M.nativeEvent.submitter,j=(W==null?void 0:W.getAttribute("formmethod"))||l;I(W||M.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:i,state:s,relative:h,preventScrollReset:m,viewTransition:g})};return K.createElement("form",{ref:T,method:A,action:R,onSubmit:r?d:L,..._,"data-discover":!V&&n==="render"?"true":void 0})});LM.displayName="Form";function VM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hC(n){let e=K.useContext(lc);return xt(e,VM(n)),e}function MM(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let u=Ag(),d=Ko(),h=Hh(n,{relative:s});return K.useCallback(m=>{if(pM(m,e)){m.preventDefault();let g=t!==void 0?t:ph(d)===ph(h);u(n,{replace:g,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[d,u,h,t,r,e,n,i,s,l])}var FM=0,UM=()=>`__${String(++FM)}__`;function $M(){let{router:n}=hC("useSubmit"),{basename:e}=K.useContext(Xi),t=iM();return K.useCallback(async(r,i={})=>{let{action:s,method:l,encType:u,formData:d,body:h}=yM(r,e);if(i.navigate===!1){let m=i.fetcherKey||UM();await n.fetch(m,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function jM(n,{relative:e}={}){let{basename:t}=K.useContext(Xi),r=K.useContext(Zi);xt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Hh(n||".",{relative:e})},l=Ko();if(n==null){s.search=l.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();s.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Ps([t,s.pathname])),ph(s)}function BM(n,e={}){let t=K.useContext(rC);xt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hC("useViewTransitionState"),i=Hh(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Oo(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Oo(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Mm(i.pathname,l)!=null||Mm(i.pathname,s)!=null}new TextEncoder;const Ms=K.createContext();function zM({children:n,reducer:e,initialState:t}){return $.jsx("div",{children:$.jsx(Ms.Provider,{value:K.useReducer(e,t),children:n})})}const WM=()=>{};var rR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},qM=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],l=n[t++],u=n[t++],d=((i&7)<<18|(s&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const s=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},pC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],l=i+1<n.length,u=l?n[i+1]:0,d=i+2<n.length,h=d?n[i+2]:0,m=s>>2,g=(s&3)<<4|u>>4;let _=(u&15)<<2|h>>6,T=h&63;d||(T=64,l||(_=64)),r.push(t[m],t[g],t[_],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):qM(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const h=i<n.length?t[n.charAt(i)]:64;++i;const g=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||u==null||h==null||g==null)throw new HM;const _=s<<2|u>>4;if(r.push(_),h!==64){const T=u<<4&240|h>>2;if(r.push(T),g!==64){const I=h<<6&192|g;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class HM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KM=function(n){const e=fC(n);return pC.encodeByteArray(e,!0)},Fm=function(n){return KM(n).replace(/\./g,"")},bg=function(n){try{return pC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Um(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!GM(t)||(n[t]=Um(n[t],e[t]));return n}function GM(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=()=>mC().__FIREBASE_DEFAULTS__,YM=()=>{if(typeof process>"u"||typeof rR>"u")return;const n=rR.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},JM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&bg(n[1]);return e&&JSON.parse(e)},Cg=()=>{try{return WM()||QM()||YM()||JM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},XM=n=>{var e,t;return(t=(e=Cg())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},gC=()=>{var n;return(n=Cg())===null||n===void 0?void 0:n.config},SE=n=>{var e;return(e=Cg())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Fm(JSON.stringify(t)),Fm(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function RE(){var n;const e=(n=Cg())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t2(){return typeof window<"u"||_C()}function _C(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function vC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function kg(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PE(){const n=We();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function wC(){return!RE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mh(){try{return typeof indexedDB=="object"}catch{return!1}}function n2(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="FirebaseError";class mn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=r2,Object.setPrototypeOf(this,mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,es.prototype.create)}}class es{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?i2(s,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new mn(i,u,r)}}function i2(n,e){return n.replace(s2,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const s2=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function EC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ci(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],l=e[i];if(sR(s)&&sR(l)){if(!ci(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function sR(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ui(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Vi(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function bE(n,e){const t=new o2(n,e);return t.subscribe.bind(t)}class o2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");a2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=_v),i.error===void 0&&(i.error=_v),i.complete===void 0&&(i.complete=_v);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _v(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n){return n&&n._delegate?n._delegate:n}class jr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new ZM;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c2(e))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xa){return this.instances.has(e)}getOptions(e=xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:u2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xa){return this.component?this.component.multipleInstances?e:xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u2(n){return n===xa?void 0:n}function c2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new l2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=[];var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const TC={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},d2=Ue.INFO,h2={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},f2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=h2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kh{constructor(e){this.name=e,this._logLevel=d2,this._logHandler=f2,this._userLogHandler=null,CE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}function p2(n){CE.forEach(e=>{e.setLogLevel(n)})}function m2(n,e){for(const t of CE){let r=null;e&&e.level&&(r=TC[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,s,...l)=>{const u=l.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");s>=(r??i.logLevel)&&n({level:Ue[s].toLowerCase(),message:u,args:l,type:i.name})}}}const g2=(n,e)=>e.some(t=>n instanceof t);let oR,aR;function y2(){return oR||(oR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _2(){return aR||(aR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SC=new WeakMap,ow=new WeakMap,RC=new WeakMap,vv=new WeakMap,kE=new WeakMap;function v2(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(Po(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&SC.set(t,n)}).catch(()=>{}),kE.set(e,n),e}function w2(n){if(ow.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});ow.set(n,e)}let aw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ow.get(n);if(e==="objectStoreNames")return n.objectStoreNames||RC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Po(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function E2(n){aw=n(aw)}function I2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(wv(this),e,...t);return RC.set(r,e.sort?e.sort():[e]),Po(r)}:_2().includes(n)?function(...e){return n.apply(wv(this),e),Po(SC.get(this))}:function(...e){return Po(n.apply(wv(this),e))}}function T2(n){return typeof n=="function"?I2(n):(n instanceof IDBTransaction&&w2(n),g2(n,y2())?new Proxy(n,aw):n)}function Po(n){if(n instanceof IDBRequest)return v2(n);if(vv.has(n))return vv.get(n);const e=T2(n);return e!==n&&(vv.set(n,e),kE.set(e,n)),e}const wv=n=>kE.get(n);function S2(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(n,e),u=Po(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Po(l.result),d.oldVersion,d.newVersion,Po(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{s&&d.addEventListener("close",()=>s()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const R2=["get","getKey","getAll","getAllKeys","count"],A2=["put","add","delete","clear"],Ev=new Map;function lR(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ev.get(e))return Ev.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=A2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||R2.includes(t)))return;const s=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[t](...u),i&&d.done]))[0]};return Ev.set(e,s),s}E2(n=>({...n,get:(e,t,r)=>lR(e,t)||n.get(e,t,r),has:(e,t)=>!!lR(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(b2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function b2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $m="@firebase/app",lw="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new Kh("@firebase/app"),C2="@firebase/app-compat",k2="@firebase/analytics-compat",x2="@firebase/analytics",O2="@firebase/app-check-compat",N2="@firebase/app-check",D2="@firebase/auth",L2="@firebase/auth-compat",V2="@firebase/database",M2="@firebase/data-connect",F2="@firebase/database-compat",U2="@firebase/functions",$2="@firebase/functions-compat",j2="@firebase/installations",B2="@firebase/installations-compat",z2="@firebase/messaging",W2="@firebase/messaging-compat",q2="@firebase/performance",H2="@firebase/performance-compat",K2="@firebase/remote-config",G2="@firebase/remote-config-compat",Q2="@firebase/storage",Y2="@firebase/storage-compat",J2="@firebase/firestore",X2="@firebase/vertexai",Z2="@firebase/firestore-compat",eF="firebase",tF="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No="[DEFAULT]",nF={[$m]:"fire-core",[C2]:"fire-core-compat",[x2]:"fire-analytics",[k2]:"fire-analytics-compat",[N2]:"fire-app-check",[O2]:"fire-app-check-compat",[D2]:"fire-auth",[L2]:"fire-auth-compat",[V2]:"fire-rtdb",[M2]:"fire-data-connect",[F2]:"fire-rtdb-compat",[U2]:"fire-fn",[$2]:"fire-fn-compat",[j2]:"fire-iid",[B2]:"fire-iid-compat",[z2]:"fire-fcm",[W2]:"fire-fcm-compat",[q2]:"fire-perf",[H2]:"fire-perf-compat",[K2]:"fire-rc",[G2]:"fire-rc-compat",[Q2]:"fire-gcs",[Y2]:"fire-gcs-compat",[J2]:"fire-fst",[Z2]:"fire-fst-compat",[X2]:"fire-vertex","fire-js":"fire-js",[eF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new Map,Du=new Map,Lu=new Map;function gh(n,e){try{n.container.addComponent(e)}catch(t){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function AC(n,e){n.container.addOrOverwriteComponent(e)}function Ki(n){const e=n.name;if(Lu.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;Lu.set(e,n);for(const t of Do.values())gh(t,n);for(const t of Du.values())gh(t,n);return!0}function xg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function rF(n,e,t=No){xg(n,e).clearInstance(t)}function PC(n){return n.options!==void 0}function Ge(n){return n==null?!1:n.settings!==void 0}function iF(){Lu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$r=new es("app","Firebase",sF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bC=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(n,e){const t=bg(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class oF extends bC{constructor(e,t,r,i){const s=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,l={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,l,i);else{const u=e;super(u.options,l,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},t),this._serverConfig.authIdToken&&uR(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&uR(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,wr($m,lw,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){OE(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw $r.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=tF;function xE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:No,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw $r.create("bad-app-name",{appName:String(i)});if(t||(t=gC()),!t)throw $r.create("no-options");const s=Do.get(i);if(s){if(ci(t,s.options)&&ci(r,s.config))return s;throw $r.create("duplicate-app",{appName:i})}const l=new IC(i);for(const d of Lu.values())l.addComponent(d);const u=new bC(t,r,l);return Do.set(i,u),u}function aF(n,e){if(t2()&&!_C())throw $r.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;PC(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=h=>[...h].reduce((m,g)=>Math.imul(31,m)+g.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw $r.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),l=Du.get(s);if(l)return l.incRefCount(e.releaseOnDeref),l;const u=new IC(s);for(const h of Lu.values())u.addComponent(h);const d=new oF(t,e,s,u);return Du.set(s,d),d}function CC(n=No){const e=Do.get(n);if(!e&&n===No&&gC())return xE();if(!e)throw $r.create("no-app",{appName:n});return e}function lF(){return Array.from(Do.values())}async function OE(n){let e=!1;const t=n.name;Do.has(t)?(e=!0,Do.delete(t)):Du.has(t)&&n.decRefCount()<=0&&(Du.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function wr(n,e,t){var r;let i=(r=nF[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(u.join(" "));return}Ki(new jr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function kC(n,e){if(n!==null&&typeof n!="function")throw $r.create("invalid-log-argument");m2(n,e)}function xC(n){p2(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF="firebase-heartbeat-database",cF=1,yh="firebase-heartbeat-store";let Iv=null;function OC(){return Iv||(Iv=S2(uF,cF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(yh)}catch(t){console.warn(t)}}}}).catch(n=>{throw $r.create("idb-open",{originalErrorMessage:n.message})})),Iv}async function dF(n){try{const t=(await OC()).transaction(yh),r=await t.objectStore(yh).get(NC(n));return await t.done,r}catch(e){if(e instanceof mn)ks.warn(e.message);else{const t=$r.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ks.warn(t.message)}}}async function cR(n,e){try{const r=(await OC()).transaction(yh,"readwrite");await r.objectStore(yh).put(e,NC(n)),await r.done}catch(t){if(t instanceof mn)ks.warn(t.message);else{const r=$r.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ks.warn(r.message)}}}function NC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF=1024,fF=30;class pF{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gF(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=dR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>fF){const l=yF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ks.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=dR(),{heartbeatsToSend:r,unsentEntries:i}=mF(this._heartbeatsCache.heartbeats),s=Fm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return ks.warn(t),""}}}function dR(){return new Date().toISOString().substring(0,10)}function mF(n,e=hF){const t=[];let r=n.slice();for(const i of n){const s=t.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),hR(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),hR(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class gF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mh()?n2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await dF(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return cR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return cR(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hR(n){return Fm(JSON.stringify({version:2,heartbeats:n})).length}function yF(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(n){Ki(new jr("platform-logger",e=>new P2(e),"PRIVATE")),Ki(new jr("heartbeat",e=>new pF(e),"PRIVATE")),wr($m,lw,n),wr($m,lw,"esm2017"),wr("fire-js","")}_F("");const vF=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:mn,SDK_VERSION:Rr,_DEFAULT_ENTRY_NAME:No,_addComponent:gh,_addOrOverwriteComponent:AC,_apps:Do,_clearComponents:iF,_components:Lu,_getProvider:xg,_isFirebaseApp:PC,_isFirebaseServerApp:Ge,_registerComponent:Ki,_removeServiceInstance:rF,_serverApps:Du,deleteApp:OE,getApp:CC,getApps:lF,initializeApp:xE,initializeServerApp:aF,onLog:kC,registerVersion:wr,setLogLevel:xC},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,t){this._delegate=e,this.firebase=t,gh(e,new jr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),OE(this._delegate)))}_getService(e,t=No){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=No){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){gh(this._delegate,e)}_addOrOverwriteComponent(e){AC(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},fR=new es("app-compat","Firebase",EF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(n){const e={},t={__esModule:!0,initializeApp:s,app:i,registerVersion:wr,setLogLevel:xC,onLog:kC,apps:null,SDK_VERSION:Rr,INTERNAL:{registerComponent:u,removeApp:r,useAsService:d,modularAPIs:vF}};t.default=t,Object.defineProperty(t,"apps",{get:l});function r(h){delete e[h]}function i(h){if(h=h||No,!iR(e,h))throw fR.create("no-app",{appName:h});return e[h]}i.App=n;function s(h,m={}){const g=xE(h,m);if(iR(e,g.name))return e[g.name];const _=new n(g,t);return e[g.name]=_,_}function l(){return Object.keys(e).map(h=>e[h])}function u(h){const m=h.name,g=m.replace("-compat","");if(Ki(h)&&h.type==="PUBLIC"){const _=(T=i())=>{if(typeof T[g]!="function")throw fR.create("invalid-app-argument",{appName:m});return T[g]()};h.serviceProps!==void 0&&Um(_,h.serviceProps),t[g]=_,n.prototype[g]=function(...T){return this._getService.bind(this,m).apply(this,h.multipleInstances?T:[])}}return h.type==="PUBLIC"?t[g]:null}function d(h,m){return m==="serverAuth"?null:m}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(){const n=IF(wF);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:DC,extendNamespace:e,createSubscribe:bE,ErrorFactory:es,deepExtend:Um});function e(t){Um(n,t)}return n}const TF=DC();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=new Kh("@firebase/app-compat"),SF="@firebase/app-compat",RF="0.2.51";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(n){wr(SF,RF,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=mC();if(n.firebase!==void 0){pR.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&pR.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const uc=TF;AF();var PF="firebase",bF="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uc.registerVersion(PF,bF,"app-compat");function cc(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function LC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CF=LC,VC=new es("auth","Firebase",LC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=new Kh("@firebase/auth");function kF(n,...e){jm.logLevel<=Ue.WARN&&jm.warn(`Auth (${Rr}): ${n}`,...e)}function am(n,...e){jm.logLevel<=Ue.ERROR&&jm.error(`Auth (${Rr}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(n,...e){throw NE(n,...e)}function ji(n,...e){return NE(n,...e)}function MC(n,e,t){const r=Object.assign(Object.assign({},CF()),{[e]:t});return new es("auth","Firebase",r).create(e,{appName:n.name})}function bs(n){return MC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return VC.create(n,...e)}function Ne(n,e,...t){if(!n)throw NE(e,...t)}function Es(n){const e="INTERNAL ASSERTION FAILED: "+n;throw am(e),new Error(e)}function xs(n,e){n||Es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function xF(){return mR()==="http:"||mR()==="https:"}function mR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xF()||AE()||"connection"in navigator)?navigator.onLine:!0}function NF(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,xs(t>e,"Short delay should be less than long delay!"),this.isMobile=yC()||kg()}get(){return OF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(n,e){xs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FC=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF=new Gh(3e4,6e4);function Go(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Qo(n,e,t,r,i={}){return UC(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=fi(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:d},s);return vC()||(h.referrerPolicy="no-referrer"),FC.fetch()($C(n,n.config.apiHost,t,u),h)})}async function UC(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},DF),e);try{const i=new MF(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Bp(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bp(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Bp(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Bp(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw MC(n,m,h);di(n,m)}}catch(i){if(i instanceof mn)throw i;di(n,"network-request-failed",{message:String(i)})}}async function Qh(n,e,t,r,i={}){const s=await Qo(n,e,t,r,i);return"mfaPendingCredential"in s&&di(n,"multi-factor-auth-required",{_serverResponse:s}),s}function $C(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?DE(n.config,i):`${n.config.apiScheme}://${i}`}function VF(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}let MF=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ji(this.auth,"network-request-failed")),LF.get())})}};function Bp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ji(n,e,r);return i.customData._tokenResponse=t,i}function gR(n){return n!==void 0&&n.enterprise!==void 0}let FF=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return VF(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function UF(n,e){return Qo(n,"GET","/v2/recaptchaConfig",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $F(n,e){return Qo(n,"POST","/v1/accounts:delete",e)}async function jC(n,e){return Qo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jF(n,e=!1){const t=Ce(n),r=await t.getIdToken(e),i=LE(r);Ne(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Zd(Tv(i.auth_time)),issuedAtTime:Zd(Tv(i.iat)),expirationTime:Zd(Tv(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Tv(n){return Number(n)*1e3}function LE(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return am("JWT malformed, contained fewer than 3 sections"),null;try{const i=bg(t);return i?JSON.parse(i):(am("Failed to decode base64 JWT payload"),null)}catch(i){return am("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yR(n){const e=LE(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _h(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof mn&&BF(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function BF({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zF=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cw=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zd(this.lastLoginAt),this.creationTime=Zd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bm(n){var e;const t=n.auth,r=await n.getIdToken(),i=await _h(n,jC(t,{idToken:r}));Ne(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?BC(s.providerUserInfo):[],u=qF(n.providerData,l),d=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),m=d?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new cw(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function WF(n){const e=Ce(n);await Bm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qF(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function BC(n){return n.map(e=>{var{providerId:t}=e,r=cc(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HF(n,e){const t=await UC(n,{},async()=>{const r=fi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=$C(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",FC.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function KF(n,e){return Qo(n,"POST","/v2/accounts:revokeToken",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sv=class dw{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=yR(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await HF(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new dw;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ne(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(Ne(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dw,this.toJSON())}_performRefresh(){return Es("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}let zm=class Wd{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=cc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await _h(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return jF(this,e)}reload(){return WF(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wd(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Bm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ge(this.auth.app))return Promise.reject(bs(this.auth));const e=await this.getIdToken();return await _h(this,$F(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,l,u,d,h,m;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,T=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(u=t.tenantId)!==null&&u!==void 0?u:void 0,A=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,V=(h=t.createdAt)!==null&&h!==void 0?h:void 0,L=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:W,isAnonymous:j,providerData:q,stsTokenManager:D}=t;Ne(M&&D,e,"internal-error");const P=Sv.fromJSON(this.name,D);Ne(typeof M=="string",e,"internal-error"),mo(g,e.name),mo(_,e.name),Ne(typeof W=="boolean",e,"internal-error"),Ne(typeof j=="boolean",e,"internal-error"),mo(T,e.name),mo(I,e.name),mo(R,e.name),mo(A,e.name),mo(V,e.name),mo(L,e.name);const C=new Wd({uid:M,auth:e,email:_,emailVerified:W,displayName:g,isAnonymous:j,photoURL:I,phoneNumber:T,tenantId:R,stsTokenManager:P,createdAt:V,lastLoginAt:L});return q&&Array.isArray(q)&&(C.providerData=q.map(E=>Object.assign({},E))),A&&(C._redirectEventId=A),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new Sv;i.updateFromServerResponse(t);const s=new Wd({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bm(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ne(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?BC(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new Sv;u.updateFromIdToken(r);const d=new Wd({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new cw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(d,h),d}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new Map;function Is(n){xs(n instanceof Function,"Expected a class definition");let e=_R.get(n);return e?(xs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_R.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zC=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};zC.type="NONE";const vR=zC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(n,e,t){return`firebase:${n}:${e}:${t}`}let wR=class um{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=lm(this.userKey,i.apiKey,s),this.fullPersistenceKey=lm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zm._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new um(Is(vR),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Is(vR);const l=lm(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const m=await h._get(l);if(m){const g=zm._fromJSON(e,m);h!==s&&(u=g),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new um(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new um(s,e,r))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QC(e))return"Blackberry";if(YC(e))return"Webos";if(qC(e))return"Safari";if((e.includes("chrome/")||HC(e))&&!e.includes("edge/"))return"Chrome";if(GC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function WC(n=We()){return/firefox\//i.test(n)}function qC(n=We()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HC(n=We()){return/crios\//i.test(n)}function KC(n=We()){return/iemobile/i.test(n)}function GC(n=We()){return/android/i.test(n)}function QC(n=We()){return/blackberry/i.test(n)}function YC(n=We()){return/webos/i.test(n)}function VE(n=We()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function GF(n=We()){var e;return VE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QF(){return PE()&&document.documentMode===10}function JC(n=We()){return VE(n)||GC(n)||YC(n)||QC(n)||/windows phone/i.test(n)||KC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(n,e=[]){let t;switch(n){case"Browser":t=ER(We());break;case"Worker":t=`${ER(We())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Rr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YF=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JF(n,e={}){return Qo(n,"GET","/v2/passwordPolicy",Go(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XF=6;let ZF=class{constructor(e){var t,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:XF,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eU=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IR(this),this.idTokenSubscription=new IR(this),this.beforeStateQueue=new YF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Is(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await wR.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await jC(this,{idToken:e}),r=await zm._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ge(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ge(this.app))return Promise.reject(bs(this));const t=e?Ce(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ge(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ge(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JF(this),t=new ZF(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new es("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await KF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Is(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await wR.create(this,[Is(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Ge(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&kF(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}};function ll(n){return Ce(n)}let IR=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=bE(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Og={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tU(n){Og=n}function ZC(n){return Og.loadJS(n)}function nU(){return Og.recaptchaEnterpriseScript}function rU(){return Og.gapiScript}function iU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}let sU=class{constructor(){this.enterprise=new oU}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},oU=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};const aU="recaptcha-enterprise",ek="NO_RECAPTCHA";let lU=class{constructor(e){this.type=aU,this.auth=ll(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{UF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new FF(d);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function i(s,l,u){const d=window.grecaptcha;gR(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(ek)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sU().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&gR(window.grecaptcha))i(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=nU();d.length!==0&&(d+=u),ZC(d).then(()=>{i(u,s,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}};async function TR(n,e,t,r=!1,i=!1){const s=new lU(n);let l;if(i)l=ek;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function hw(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await TR(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await TR(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(n,e){const t=xg(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(ci(s,e??{}))return i;di(i,"already-initialized")}return t.initialize({options:e})}function cU(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Is);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dU(n,e,t){const r=ll(n);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=tk(e),{host:l,port:u}=hU(e),d=u===null?"":`:${u}`,h={url:`${s}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(ci(h,r.config.emulator)&&ci(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,fU()}function tk(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function hU(n){const e=tk(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:SR(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:SR(l)}}}function SR(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function fU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ME=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,t){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}};async function pU(n,e){return Qo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mU(n,e){return Qh(n,"POST","/v1/accounts:signInWithPassword",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gU(n,e){return Qh(n,"POST","/v1/accounts:signInWithEmailLink",Go(n,e))}async function yU(n,e){return Qh(n,"POST","/v1/accounts:signInWithEmailLink",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RR=class fw extends ME{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new fw(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new fw(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hw(e,t,"signInWithPassword",mU);case"emailLink":return gU(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hw(e,r,"signUpPassword",pU);case"emailLink":return yU(e,{idToken:t,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ru(n,e){return Qh(n,"POST","/v1/accounts:signInWithIdp",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U="http://localhost";let Ng=class pw extends ME{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new pw(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):di("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=cc(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new pw(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ru(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ru(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ru(e,t)}buildRequest(){const e={requestUri:_U,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fi(t)}return e}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wU(n){const e=ui(Vi(n)).link,t=e?ui(Vi(e)).deep_link_id:null,r=ui(Vi(n)).deep_link_id;return(r?ui(Vi(r)).link:null)||r||t||e||n}let EU=class nk{constructor(e){var t,r,i,s,l,u;const d=ui(Vi(e)),h=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,g=vU((i=d.mode)!==null&&i!==void 0?i:null);Ne(h&&m&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=m,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=wU(e);try{return new nk(t)}catch{return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dg=class rk{constructor(){this.providerId=rk.PROVIDER_ID}static credential(e,t){return RR._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=EU.parseLink(t);return Ne(r,"argument-error"),RR._fromEmailAndCode(e,r.code,r.tenantId)}};Dg.PROVIDER_ID="password";Dg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ik=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh=class extends ik{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sk=class mu extends Yh{constructor(){super("facebook.com")}static credential(e){return Ng._fromParams({providerId:mu.PROVIDER_ID,signInMethod:mu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mu.credentialFromTaggedObject(e)}static credentialFromError(e){return mu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mu.credential(e.oauthAccessToken)}catch{return null}}};sk.FACEBOOK_SIGN_IN_METHOD="facebook.com";sk.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ok=class gu extends Yh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ng._fromParams({providerId:gu.PROVIDER_ID,signInMethod:gu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gu.credentialFromTaggedObject(e)}static credentialFromError(e){return gu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return gu.credential(t,r)}catch{return null}}};ok.GOOGLE_SIGN_IN_METHOD="google.com";ok.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ak=class yu extends Yh{constructor(){super("github.com")}static credential(e){return Ng._fromParams({providerId:yu.PROVIDER_ID,signInMethod:yu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yu.credentialFromTaggedObject(e)}static credentialFromError(e){return yu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yu.credential(e.oauthAccessToken)}catch{return null}}};ak.GITHUB_SIGN_IN_METHOD="github.com";ak.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lk=class _u extends Yh{constructor(){super("twitter.com")}static credential(e,t){return Ng._fromParams({providerId:_u.PROVIDER_ID,signInMethod:_u.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _u.credentialFromTaggedObject(e)}static credentialFromError(e){return _u.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return _u.credential(t,r)}catch{return null}}};lk.TWITTER_SIGN_IN_METHOD="twitter.com";lk.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IU(n,e){return Qh(n,"POST","/v1/accounts:signUp",Go(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lg=class mw{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await zm._fromIdTokenResponse(e,r,i),l=AR(r);return new mw({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=AR(r);return new mw({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function AR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TU=class gw extends mn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gw.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new gw(e,t,r,i)}};function uk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?TU._fromErrorAndOperation(n,s,e,r):s})}async function SU(n,e,t=!1){const r=await _h(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Lg._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RU(n,e,t=!1){const{auth:r}=n;if(Ge(r.app))return Promise.reject(bs(r));const i="reauthenticate";try{const s=await _h(n,uk(r,i,e,n),t);Ne(s.idToken,r,"internal-error");const l=LE(s.idToken);Ne(l,r,"internal-error");const{sub:u}=l;return Ne(n.uid===u,r,"user-mismatch"),Lg._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&di(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ck(n,e,t=!1){if(Ge(n.app))return Promise.reject(bs(n));const r="signIn",i=await uk(n,r,e),s=await Lg._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function AU(n,e){return ck(ll(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(n){const e=ll(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function PU(n,e,t){if(Ge(n.app))return Promise.reject(bs(n));const r=ll(n),l=await hw(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",IU).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&dk(n),d}),u=await Lg._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function bU(n,e,t){return Ge(n.app)?Promise.reject(bs(n)):AU(Ce(n),Dg.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dk(n),r})}function CU(n,e,t,r){return Ce(n).onIdTokenChanged(e,t,r)}function kU(n,e,t){return Ce(n).beforeAuthStateChanged(e,t)}const Wm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hk=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wm,"1"),this.storage.removeItem(Wm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU=1e3,OU=10;let fk=class extends hk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);QF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,OU):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},xU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};fk.type="LOCAL";const NU=fk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pk=class extends hk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}};pk.type="SESSION";const mk=pk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gk=class yk{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new yk(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(t.origin,s)),d=await DU(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};gk.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LU=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const h=FE("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(){return window}function VU(n){Bi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function MU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FU(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function UU(){return _k()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="firebaseLocalStorageDb",$U=1,qm="firebaseLocalStorage",wk="fbase_key";let Jh=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Vg(n,e){return n.transaction([qm],e?"readwrite":"readonly").objectStore(qm)}function jU(){const n=indexedDB.deleteDatabase(vk);return new Jh(n).toPromise()}function yw(){const n=indexedDB.open(vk,$U);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(qm,{keyPath:wk})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(qm)?e(r):(r.close(),await jU(),e(await yw()))})})}async function PR(n,e,t){const r=Vg(n,!0).put({[wk]:e,value:t});return new Jh(r).toPromise()}async function BU(n,e){const t=Vg(n,!1).get(e),r=await new Jh(t).toPromise();return r===void 0?null:r.value}function bR(n,e){const t=Vg(n,!0).delete(e);return new Jh(t).toPromise()}const zU=800,WU=3;let Ek=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yw(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>WU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _k()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gk._getInstance(UU()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await MU(),!this.activeServiceWorker)return;this.sender=new LU(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yw();return await PR(e,Wm,"1"),await bR(e,Wm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>PR(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>BU(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>bR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Vg(i,!1).getAll();return new Jh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};Ek.type="LOCAL";const qU=Ek;new Gh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(n,e){return e?Is(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UE=class extends ME{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ru(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ru(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ru(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function KU(n){return ck(n.auth,new UE(n),n.bypassAuthState)}function GU(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),RU(t,new UE(n),n.bypassAuthState)}async function QU(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),SU(t,new UE(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ik=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KU;case"linkViaPopup":case"linkViaRedirect":return QU;case"reauthViaPopup":case"reauthViaRedirect":return GU;default:di(this.auth,"internal-error")}}resolve(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=new Gh(2e3,1e4);let JU=class qd extends Ik{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,qd.currentPopupAction&&qd.currentPopupAction.cancel(),qd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){xs(this.filter.length===1,"Popup operations only handle one event");const e=FE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YU.get())};e()}};JU.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU="pendingRedirect",cm=new Map;let ZU=class extends Ik{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=cm.get(this.auth._key());if(!e){try{const r=await e$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}cm.set(this.auth._key(),e)}return this.bypassAuthState||cm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function e$(n,e){const t=r$(e),r=n$(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function t$(n,e){cm.set(n._key(),e)}function n$(n){return Is(n._redirectPersistence)}function r$(n){return lm(XU,n.config.apiKey,n.name)}async function i$(n,e,t=!1){if(Ge(n.app))return Promise.reject(bs(n));const r=ll(n),i=HU(r,e),l=await new ZU(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$=10*60*1e3;let o$=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Tk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ji(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s$&&this.cachedEventUids.clear(),this.cachedEventUids.has(CR(e))}saveEventToCache(e){this.cachedEventUids.add(CR(e)),this.lastProcessedEventTime=Date.now()}};function CR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Tk({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function a$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tk(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l$(n,e={}){return Qo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c$=/^https?/;async function d$(n){if(n.config.emulator)return;const{authorizedDomains:e}=await l$(n);for(const t of e)try{if(h$(t))return}catch{}di(n,"unauthorized-domain")}function h$(n){const e=uw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!c$.test(t))return!1;if(u$.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=new Gh(3e4,6e4);function kR(){const n=Bi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function p$(n){return new Promise((e,t)=>{var r,i,s;function l(){kR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kR(),t(ji(n,"network-request-failed"))},timeout:f$.get()})}if(!((i=(r=Bi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Bi().gapi)===null||s===void 0)&&s.load)l();else{const u=iU("iframefcb");return Bi()[u]=()=>{gapi.load?l():t(ji(n,"network-request-failed"))},ZC(`${rU()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw dm=null,e})}let dm=null;function m$(n){return dm=dm||p$(n),dm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$=new Gh(5e3,15e3),y$="__/auth/iframe",_$="emulator/auth/iframe",v$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E$(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?DE(e,_$):`https://${n.config.authDomain}/${y$}`,r={apiKey:e.apiKey,appName:n.name,v:Rr},i=w$.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${fi(r).slice(1)}`}async function I$(n){const e=await m$(n),t=Bi().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:E$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:v$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=ji(n,"network-request-failed"),u=Bi().setTimeout(()=>{s(l)},g$.get());function d(){Bi().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S$=500,R$=600,A$="_blank",P$="http://localhost";let xR=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function b$(n,e,t,r=S$,i=R$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},T$),{width:r.toString(),height:i.toString(),top:s,left:l}),h=We().toLowerCase();t&&(u=HC(h)?A$:t),WC(h)&&(e=e||P$,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[T,I])=>`${_}${T}=${I},`,"");if(GF(h)&&u!=="_self")return C$(e||"",u),new xR(null);const g=window.open(e||"",u,m);Ne(g,n,"popup-blocked");try{g.focus()}catch{}return new xR(g)}function C$(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$="__/auth/handler",x$="emulator/auth/handler",O$=encodeURIComponent("fac");async function OR(n,e,t,r,i,s){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Rr,eventId:i};if(e instanceof ik){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",EC(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))l[m]=g}if(e instanceof Yh){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),h=d?`#${O$}=${encodeURIComponent(d)}`:"";return`${N$(n)}?${fi(u).slice(1)}${h}`}function N$({config:n}){return n.emulator?DE(n,x$):`https://${n.authDomain}/${k$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="webStorageSupport";let D$=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mk,this._completeRedirectFn=i$,this._overrideRedirectResult=t$}async _openPopup(e,t,r,i){var s;xs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await OR(e,t,r,uw(),i);return b$(e,l,FE())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await OR(e,t,r,uw(),i);return VU(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(xs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await I$(e),r=new o$(e);return t.register("authEvent",i=>(Ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rv,{type:Rv},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Rv];l!==void 0&&t(!!l),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=d$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return JC()||qC()||VE()}};const L$=D$;var NR="@firebase/auth",DR="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V$=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F$(n){Ki(new jr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ne(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XC(n)},h=new eU(r,i,s,d);return cU(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ki(new jr("auth-internal",e=>{const t=ll(e.getProvider("auth").getImmediate());return(r=>new V$(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(NR,DR,M$(n)),wr(NR,DR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$=5*60,$$=SE("authIdTokenMaxAge")||U$;let LR=null;const j$=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>$$)return;const i=t==null?void 0:t.token;LR!==i&&(LR=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function B$(n=CC()){const e=xg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=uU(n,{popupRedirectResolver:L$,persistence:[qU,NU,mk]}),r=SE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=j$(s.toString());kU(t,l,()=>l(t.currentUser)),CU(t,u=>l(u))}}const i=XM("auth");return i&&dU(t,`http://${i}`),t}function z$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}tU({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=ji("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",z$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F$("Browser");var VR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bo,Sk;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,P){function C(){}C.prototype=P.prototype,D.D=P.prototype,D.prototype=new C,D.prototype.constructor=D,D.C=function(E,x,k){for(var O=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)O[ee-2]=arguments[ee];return P.prototype[x].apply(E,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,P,C){C||(C=0);var E=Array(16);if(typeof P=="string")for(var x=0;16>x;++x)E[x]=P.charCodeAt(C++)|P.charCodeAt(C++)<<8|P.charCodeAt(C++)<<16|P.charCodeAt(C++)<<24;else for(x=0;16>x;++x)E[x]=P[C++]|P[C++]<<8|P[C++]<<16|P[C++]<<24;P=D.g[0],C=D.g[1],x=D.g[2];var k=D.g[3],O=P+(k^C&(x^k))+E[0]+3614090360&4294967295;P=C+(O<<7&4294967295|O>>>25),O=k+(x^P&(C^x))+E[1]+3905402710&4294967295,k=P+(O<<12&4294967295|O>>>20),O=x+(C^k&(P^C))+E[2]+606105819&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(P^x&(k^P))+E[3]+3250441966&4294967295,C=x+(O<<22&4294967295|O>>>10),O=P+(k^C&(x^k))+E[4]+4118548399&4294967295,P=C+(O<<7&4294967295|O>>>25),O=k+(x^P&(C^x))+E[5]+1200080426&4294967295,k=P+(O<<12&4294967295|O>>>20),O=x+(C^k&(P^C))+E[6]+2821735955&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(P^x&(k^P))+E[7]+4249261313&4294967295,C=x+(O<<22&4294967295|O>>>10),O=P+(k^C&(x^k))+E[8]+1770035416&4294967295,P=C+(O<<7&4294967295|O>>>25),O=k+(x^P&(C^x))+E[9]+2336552879&4294967295,k=P+(O<<12&4294967295|O>>>20),O=x+(C^k&(P^C))+E[10]+4294925233&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(P^x&(k^P))+E[11]+2304563134&4294967295,C=x+(O<<22&4294967295|O>>>10),O=P+(k^C&(x^k))+E[12]+1804603682&4294967295,P=C+(O<<7&4294967295|O>>>25),O=k+(x^P&(C^x))+E[13]+4254626195&4294967295,k=P+(O<<12&4294967295|O>>>20),O=x+(C^k&(P^C))+E[14]+2792965006&4294967295,x=k+(O<<17&4294967295|O>>>15),O=C+(P^x&(k^P))+E[15]+1236535329&4294967295,C=x+(O<<22&4294967295|O>>>10),O=P+(x^k&(C^x))+E[1]+4129170786&4294967295,P=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(P^C))+E[6]+3225465664&4294967295,k=P+(O<<9&4294967295|O>>>23),O=x+(P^C&(k^P))+E[11]+643717713&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^P&(x^k))+E[0]+3921069994&4294967295,C=x+(O<<20&4294967295|O>>>12),O=P+(x^k&(C^x))+E[5]+3593408605&4294967295,P=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(P^C))+E[10]+38016083&4294967295,k=P+(O<<9&4294967295|O>>>23),O=x+(P^C&(k^P))+E[15]+3634488961&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^P&(x^k))+E[4]+3889429448&4294967295,C=x+(O<<20&4294967295|O>>>12),O=P+(x^k&(C^x))+E[9]+568446438&4294967295,P=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(P^C))+E[14]+3275163606&4294967295,k=P+(O<<9&4294967295|O>>>23),O=x+(P^C&(k^P))+E[3]+4107603335&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^P&(x^k))+E[8]+1163531501&4294967295,C=x+(O<<20&4294967295|O>>>12),O=P+(x^k&(C^x))+E[13]+2850285829&4294967295,P=C+(O<<5&4294967295|O>>>27),O=k+(C^x&(P^C))+E[2]+4243563512&4294967295,k=P+(O<<9&4294967295|O>>>23),O=x+(P^C&(k^P))+E[7]+1735328473&4294967295,x=k+(O<<14&4294967295|O>>>18),O=C+(k^P&(x^k))+E[12]+2368359562&4294967295,C=x+(O<<20&4294967295|O>>>12),O=P+(C^x^k)+E[5]+4294588738&4294967295,P=C+(O<<4&4294967295|O>>>28),O=k+(P^C^x)+E[8]+2272392833&4294967295,k=P+(O<<11&4294967295|O>>>21),O=x+(k^P^C)+E[11]+1839030562&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^P)+E[14]+4259657740&4294967295,C=x+(O<<23&4294967295|O>>>9),O=P+(C^x^k)+E[1]+2763975236&4294967295,P=C+(O<<4&4294967295|O>>>28),O=k+(P^C^x)+E[4]+1272893353&4294967295,k=P+(O<<11&4294967295|O>>>21),O=x+(k^P^C)+E[7]+4139469664&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^P)+E[10]+3200236656&4294967295,C=x+(O<<23&4294967295|O>>>9),O=P+(C^x^k)+E[13]+681279174&4294967295,P=C+(O<<4&4294967295|O>>>28),O=k+(P^C^x)+E[0]+3936430074&4294967295,k=P+(O<<11&4294967295|O>>>21),O=x+(k^P^C)+E[3]+3572445317&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^P)+E[6]+76029189&4294967295,C=x+(O<<23&4294967295|O>>>9),O=P+(C^x^k)+E[9]+3654602809&4294967295,P=C+(O<<4&4294967295|O>>>28),O=k+(P^C^x)+E[12]+3873151461&4294967295,k=P+(O<<11&4294967295|O>>>21),O=x+(k^P^C)+E[15]+530742520&4294967295,x=k+(O<<16&4294967295|O>>>16),O=C+(x^k^P)+E[2]+3299628645&4294967295,C=x+(O<<23&4294967295|O>>>9),O=P+(x^(C|~k))+E[0]+4096336452&4294967295,P=C+(O<<6&4294967295|O>>>26),O=k+(C^(P|~x))+E[7]+1126891415&4294967295,k=P+(O<<10&4294967295|O>>>22),O=x+(P^(k|~C))+E[14]+2878612391&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~P))+E[5]+4237533241&4294967295,C=x+(O<<21&4294967295|O>>>11),O=P+(x^(C|~k))+E[12]+1700485571&4294967295,P=C+(O<<6&4294967295|O>>>26),O=k+(C^(P|~x))+E[3]+2399980690&4294967295,k=P+(O<<10&4294967295|O>>>22),O=x+(P^(k|~C))+E[10]+4293915773&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~P))+E[1]+2240044497&4294967295,C=x+(O<<21&4294967295|O>>>11),O=P+(x^(C|~k))+E[8]+1873313359&4294967295,P=C+(O<<6&4294967295|O>>>26),O=k+(C^(P|~x))+E[15]+4264355552&4294967295,k=P+(O<<10&4294967295|O>>>22),O=x+(P^(k|~C))+E[6]+2734768916&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~P))+E[13]+1309151649&4294967295,C=x+(O<<21&4294967295|O>>>11),O=P+(x^(C|~k))+E[4]+4149444226&4294967295,P=C+(O<<6&4294967295|O>>>26),O=k+(C^(P|~x))+E[11]+3174756917&4294967295,k=P+(O<<10&4294967295|O>>>22),O=x+(P^(k|~C))+E[2]+718787259&4294967295,x=k+(O<<15&4294967295|O>>>17),O=C+(k^(x|~P))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+P&4294967295,D.g[1]=D.g[1]+(x+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+x&4294967295,D.g[3]=D.g[3]+k&4294967295}r.prototype.u=function(D,P){P===void 0&&(P=D.length);for(var C=P-this.blockSize,E=this.B,x=this.h,k=0;k<P;){if(x==0)for(;k<=C;)i(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<P;)if(E[x++]=D.charCodeAt(k++),x==this.blockSize){i(this,E),x=0;break}}else for(;k<P;)if(E[x++]=D[k++],x==this.blockSize){i(this,E),x=0;break}}this.h=x,this.o+=P},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var P=1;P<D.length-8;++P)D[P]=0;var C=8*this.o;for(P=D.length-8;P<D.length;++P)D[P]=C&255,C/=256;for(this.u(D),D=Array(16),P=C=0;4>P;++P)for(var E=0;32>E;E+=8)D[C++]=this.g[P]>>>E&255;return D};function s(D,P){var C=u;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=P(D)}function l(D,P){this.h=P;for(var C=[],E=!0,x=D.length-1;0<=x;x--){var k=D[x]|0;E&&k==P||(C[x]=k,E=!1)}this.g=C}var u={};function d(D){return-128<=D&&128>D?s(D,function(P){return new l([P|0],0>P?-1:0)}):new l([D|0],0>D?-1:0)}function h(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return A(h(-D));for(var P=[],C=1,E=0;D>=C;E++)P[E]=D/C|0,C*=4294967296;return new l(P,0)}function m(D,P){if(D.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(D.charAt(0)=="-")return A(m(D.substring(1),P));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=h(Math.pow(P,8)),E=g,x=0;x<D.length;x+=8){var k=Math.min(8,D.length-x),O=parseInt(D.substring(x,x+k),P);8>k?(k=h(Math.pow(P,k)),E=E.j(k).add(h(O))):(E=E.j(C),E=E.add(h(O)))}return E}var g=d(0),_=d(1),T=d(16777216);n=l.prototype,n.m=function(){if(R(this))return-A(this).m();for(var D=0,P=1,C=0;C<this.g.length;C++){var E=this.i(C);D+=(0<=E?E:4294967296+E)*P,P*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(R(this))return"-"+A(this).toString(D);for(var P=h(Math.pow(D,6)),C=this,E="";;){var x=W(C,P).g;C=V(C,x.j(P));var k=((0<C.g.length?C.g[0]:C.h)>>>0).toString(D);if(C=x,I(C))return k+E;for(;6>k.length;)k="0"+k;E=k+E}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(var P=0;P<D.g.length;P++)if(D.g[P]!=0)return!1;return!0}function R(D){return D.h==-1}n.l=function(D){return D=V(this,D),R(D)?-1:I(D)?0:1};function A(D){for(var P=D.g.length,C=[],E=0;E<P;E++)C[E]=~D.g[E];return new l(C,~D.h).add(_)}n.abs=function(){return R(this)?A(this):this},n.add=function(D){for(var P=Math.max(this.g.length,D.g.length),C=[],E=0,x=0;x<=P;x++){var k=E+(this.i(x)&65535)+(D.i(x)&65535),O=(k>>>16)+(this.i(x)>>>16)+(D.i(x)>>>16);E=O>>>16,k&=65535,O&=65535,C[x]=O<<16|k}return new l(C,C[C.length-1]&-2147483648?-1:0)};function V(D,P){return D.add(A(P))}n.j=function(D){if(I(this)||I(D))return g;if(R(this))return R(D)?A(this).j(A(D)):A(A(this).j(D));if(R(D))return A(this.j(A(D)));if(0>this.l(T)&&0>D.l(T))return h(this.m()*D.m());for(var P=this.g.length+D.g.length,C=[],E=0;E<2*P;E++)C[E]=0;for(E=0;E<this.g.length;E++)for(var x=0;x<D.g.length;x++){var k=this.i(E)>>>16,O=this.i(E)&65535,ee=D.i(x)>>>16,F=D.i(x)&65535;C[2*E+2*x]+=O*F,L(C,2*E+2*x),C[2*E+2*x+1]+=k*F,L(C,2*E+2*x+1),C[2*E+2*x+1]+=O*ee,L(C,2*E+2*x+1),C[2*E+2*x+2]+=k*ee,L(C,2*E+2*x+2)}for(E=0;E<P;E++)C[E]=C[2*E+1]<<16|C[2*E];for(E=P;E<2*P;E++)C[E]=0;return new l(C,0)};function L(D,P){for(;(D[P]&65535)!=D[P];)D[P+1]+=D[P]>>>16,D[P]&=65535,P++}function M(D,P){this.g=D,this.h=P}function W(D,P){if(I(P))throw Error("division by zero");if(I(D))return new M(g,g);if(R(D))return P=W(A(D),P),new M(A(P.g),A(P.h));if(R(P))return P=W(D,A(P)),new M(A(P.g),P.h);if(30<D.g.length){if(R(D)||R(P))throw Error("slowDivide_ only works with positive integers.");for(var C=_,E=P;0>=E.l(D);)C=j(C),E=j(E);var x=q(C,1),k=q(E,1);for(E=q(E,2),C=q(C,2);!I(E);){var O=k.add(E);0>=O.l(D)&&(x=x.add(C),k=O),E=q(E,1),C=q(C,1)}return P=V(D,x.j(P)),new M(x,P)}for(x=g;0<=D.l(P);){for(C=Math.max(1,Math.floor(D.m()/P.m())),E=Math.ceil(Math.log(C)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),k=h(C),O=k.j(P);R(O)||0<O.l(D);)C-=E,k=h(C),O=k.j(P);I(k)&&(k=_),x=x.add(k),D=V(D,O)}return new M(x,D)}n.A=function(D){return W(this,D).h},n.and=function(D){for(var P=Math.max(this.g.length,D.g.length),C=[],E=0;E<P;E++)C[E]=this.i(E)&D.i(E);return new l(C,this.h&D.h)},n.or=function(D){for(var P=Math.max(this.g.length,D.g.length),C=[],E=0;E<P;E++)C[E]=this.i(E)|D.i(E);return new l(C,this.h|D.h)},n.xor=function(D){for(var P=Math.max(this.g.length,D.g.length),C=[],E=0;E<P;E++)C[E]=this.i(E)^D.i(E);return new l(C,this.h^D.h)};function j(D){for(var P=D.g.length+1,C=[],E=0;E<P;E++)C[E]=D.i(E)<<1|D.i(E-1)>>>31;return new l(C,D.h)}function q(D,P){var C=P>>5;P%=32;for(var E=D.g.length-C,x=[],k=0;k<E;k++)x[k]=0<P?D.i(k+C)>>>P|D.i(k+C+1)<<32-P:D.i(k+C);return new l(x,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Sk=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,bo=l}).apply(typeof VR<"u"?VR:typeof self<"u"?self:typeof window<"u"?window:{});var zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rk,Hd,Ak,hm,_w,Pk,bk,Ck;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,S){return f==Array.prototype||f==Object.prototype||(f[v]=S.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof zp=="object"&&zp];for(var v=0;v<f.length;++v){var S=f[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(f,v){if(v)e:{var S=r;f=f.split(".");for(var N=0;N<f.length-1;N++){var Q=f[N];if(!(Q in S))break e;S=S[Q]}f=f[f.length-1],N=S[f],v=v(N),v!=N&&v!=null&&e(S,f,{configurable:!0,writable:!0,value:v})}}function s(f,v){f instanceof String&&(f+="");var S=0,N=!1,Q={next:function(){if(!N&&S<f.length){var ne=S++;return{value:v(ne,f[ne]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(f){return f||function(){return s(this,function(v,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function h(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function m(f,v,S){return f.call.apply(f.bind,arguments)}function g(f,v,S){if(!f)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,N),f.apply(v,Q)}}return function(){return f.apply(v,arguments)}}function _(f,v,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:g,_.apply(null,arguments)}function T(f,v){var S=Array.prototype.slice.call(arguments,1);return function(){var N=S.slice();return N.push.apply(N,arguments),f.apply(this,N)}}function I(f,v){function S(){}S.prototype=v.prototype,f.aa=v.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(N,Q,ne){for(var ye=Array(arguments.length-2),st=2;st<arguments.length;st++)ye[st-2]=arguments[st];return v.prototype[Q].apply(N,ye)}}function R(f){const v=f.length;if(0<v){const S=Array(v);for(let N=0;N<v;N++)S[N]=f[N];return S}return[]}function A(f,v){for(let S=1;S<arguments.length;S++){const N=arguments[S];if(d(N)){const Q=f.length||0,ne=N.length||0;f.length=Q+ne;for(let ye=0;ye<ne;ye++)f[Q+ye]=N[ye]}else f.push(N)}}class V{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(f){return/^[\s\xa0]*$/.test(f)}function M(){var f=u.navigator;return f&&(f=f.userAgent)?f:""}function W(f){return W[" "](f),f}W[" "]=function(){};var j=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function q(f,v,S){for(const N in f)v.call(S,f[N],N,f)}function D(f,v){for(const S in f)v.call(void 0,f[S],S,f)}function P(f){const v={};for(const S in f)v[S]=f[S];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(f,v){let S,N;for(let Q=1;Q<arguments.length;Q++){N=arguments[Q];for(S in N)f[S]=N[S];for(let ne=0;ne<C.length;ne++)S=C[ne],Object.prototype.hasOwnProperty.call(N,S)&&(f[S]=N[S])}}function x(f){var v=1;f=f.split(":");const S=[];for(;0<v&&f.length;)S.push(f.shift()),v--;return f.length&&S.push(f.join(":")),S}function k(f){u.setTimeout(()=>{throw f},0)}function O(){var f=pe;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class ee{constructor(){this.h=this.g=null}add(v,S){const N=F.get();N.set(v,S),this.h?this.h.next=N:this.g=N,this.h=N}}var F=new V(()=>new me,f=>f.reset());class me{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,X=!1,pe=new ee,he=()=>{const f=u.Promise.resolve(void 0);oe=()=>{f.then(z)}};var z=()=>{for(var f;f=O();){try{f.h.call(f.g)}catch(S){k(S)}var v=F;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}X=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};u.addEventListener("test",S,v),u.removeEventListener("test",S,v)}catch{}return f}();function Ve(f,v){if(Te.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,N=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(j){e:{try{W(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else S=="mouseover"?v=f.fromElement:S=="mouseout"&&(v=f.toElement);this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:$e[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ve.aa.h.call(this)}}I(Ve,Te);var $e={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Qe="closure_listenable_"+(1e6*Math.random()|0),qe=0;function rt(f,v,S,N,Q){this.listener=f,this.proxy=null,this.src=v,this.type=S,this.capture=!!N,this.ha=Q,this.key=++qe,this.da=this.fa=!1}function vt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ln(f){this.src=f,this.g={},this.h=0}ln.prototype.add=function(f,v,S,N,Q){var ne=f.toString();f=this.g[ne],f||(f=this.g[ne]=[],this.h++);var ye=mt(f,v,N,Q);return-1<ye?(v=f[ye],S||(v.fa=!1)):(v=new rt(v,this.src,ne,!!N,Q),v.fa=S,f.push(v)),v};function it(f,v){var S=v.type;if(S in f.g){var N=f.g[S],Q=Array.prototype.indexOf.call(N,v,void 0),ne;(ne=0<=Q)&&Array.prototype.splice.call(N,Q,1),ne&&(vt(v),f.g[S].length==0&&(delete f.g[S],f.h--))}}function mt(f,v,S,N){for(var Q=0;Q<f.length;++Q){var ne=f[Q];if(!ne.da&&ne.listener==v&&ne.capture==!!S&&ne.ha==N)return Q}return-1}var Zt="closure_lm_"+(1e6*Math.random()|0),Wr={};function Ar(f,v,S,N,Q){if(Array.isArray(v)){for(var ne=0;ne<v.length;ne++)Ar(f,v[ne],S,N,Q);return null}return S=bc(S),f&&f[Qe]?f.K(v,S,h(N)?!!N.capture:!1,Q):Pr(f,v,S,!1,N,Q)}function Pr(f,v,S,N,Q,ne){if(!v)throw Error("Invalid event type");var ye=h(Q)?!!Q.capture:!!Q,st=pl(f);if(st||(f[Zt]=st=new ln(f)),S=st.add(v,S,N,ye,ne),S.proxy)return S;if(N=Wn(),S.proxy=N,N.src=f,N.listener=S,f.addEventListener)ke||(Q=ye),Q===void 0&&(Q=!1),f.addEventListener(v.toString(),N,Q);else if(f.attachEvent)f.attachEvent(ts(v.toString()),N);else if(f.addListener&&f.removeListener)f.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Wn(){function f(S){return v.call(f.src,f.listener,S)}const v=Pc;return f}function qn(f,v,S,N,Q){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)qn(f,v[ne],S,N,Q);else N=h(N)?!!N.capture:!!N,S=bc(S),f&&f[Qe]?(f=f.i,v=String(v).toString(),v in f.g&&(ne=f.g[v],S=mt(ne,S,N,Q),-1<S&&(vt(ne[S]),Array.prototype.splice.call(ne,S,1),ne.length==0&&(delete f.g[v],f.h--)))):f&&(f=pl(f))&&(v=f.g[v.toString()],f=-1,v&&(f=mt(v,S,N,Q)),(S=-1<f?v[f]:null)&&or(S))}function or(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Qe])it(v.i,f);else{var S=f.type,N=f.proxy;v.removeEventListener?v.removeEventListener(S,N,f.capture):v.detachEvent?v.detachEvent(ts(S),N):v.addListener&&v.removeListener&&v.removeListener(N),(S=pl(v))?(it(S,f),S.h==0&&(S.src=null,v[Zt]=null)):vt(f)}}}function ts(f){return f in Wr?Wr[f]:Wr[f]="on"+f}function Pc(f,v){if(f.da)f=!0;else{v=new Ve(v,this);var S=f.listener,N=f.ha||f.src;f.fa&&or(f),f=S.call(N,v)}return f}function pl(f){return f=f[Zt],f instanceof ln?f:null}var ml="__closure_events_fn_"+(1e9*Math.random()>>>0);function bc(f){return typeof f=="function"?f:(f[ml]||(f[ml]=function(v){return f.handleEvent(v)}),f[ml])}function en(){ie.call(this),this.i=new ln(this),this.M=this,this.F=null}I(en,ie),en.prototype[Qe]=!0,en.prototype.removeEventListener=function(f,v,S,N){qn(this,f,v,S,N)};function tn(f,v){var S,N=f.F;if(N)for(S=[];N;N=N.F)S.push(N);if(f=f.M,N=v.type||v,typeof v=="string")v=new Te(v,f);else if(v instanceof Te)v.target=v.target||f;else{var Q=v;v=new Te(N,f),E(v,Q)}if(Q=!0,S)for(var ne=S.length-1;0<=ne;ne--){var ye=v.g=S[ne];Q=ns(ye,N,!0,v)&&Q}if(ye=v.g=f,Q=ns(ye,N,!0,v)&&Q,Q=ns(ye,N,!1,v)&&Q,S)for(ne=0;ne<S.length;ne++)ye=v.g=S[ne],Q=ns(ye,N,!1,v)&&Q}en.prototype.N=function(){if(en.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var S=f.g[v],N=0;N<S.length;N++)vt(S[N]);delete f.g[v],f.h--}}this.F=null},en.prototype.K=function(f,v,S,N){return this.i.add(String(f),v,!1,S,N)},en.prototype.L=function(f,v,S,N){return this.i.add(String(f),v,!0,S,N)};function ns(f,v,S,N){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,ne=0;ne<v.length;++ne){var ye=v[ne];if(ye&&!ye.da&&ye.capture==S){var st=ye.listener,nn=ye.ha||ye.src;ye.fa&&it(f.i,ye),Q=st.call(nn,N)!==!1&&Q}}return Q&&!N.defaultPrevented}function Cc(f,v,S){if(typeof f=="function")S&&(f=_(f,S));else if(f&&typeof f.handleEvent=="function")f=_(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(f,v||0)}function Ws(f){f.g=Cc(()=>{f.g=null,f.i&&(f.i=!1,Ws(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class na extends ie{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ws(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ra(f){ie.call(this),this.h=f,this.g={}}I(ra,ie);var kc=[];function xc(f){q(f.g,function(v,S){this.g.hasOwnProperty(S)&&or(v)},f),f.g={}}ra.prototype.N=function(){ra.aa.N.call(this),xc(this)},ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oc=u.JSON.stringify,Nc=u.JSON.parse,Dc=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function ia(){}ia.prototype.h=null;function gl(f){return f.h||(f.h=f.i())}function yl(){}var br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mi(){Te.call(this,"d")}I(mi,Te);function _l(){Te.call(this,"c")}I(_l,Te);var gi={},Lc=null;function sa(){return Lc=Lc||new en}gi.La="serverreachability";function Vc(f){Te.call(this,gi.La,f)}I(Vc,Te);function rs(f){const v=sa();tn(v,new Vc(v))}gi.STAT_EVENT="statevent";function Mc(f,v){Te.call(this,gi.STAT_EVENT,f),this.stat=v}I(Mc,Te);function $t(f){const v=sa();tn(v,new Mc(v,f))}gi.Ma="timingevent";function vl(f,v){Te.call(this,gi.Ma,f),this.size=v}I(vl,Te);function qr(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},v)}function oa(){this.g=!0}oa.prototype.xa=function(){this.g=!1};function aa(f,v,S,N,Q,ne){f.info(function(){if(f.g)if(ne)for(var ye="",st=ne.split("&"),nn=0;nn<st.length;nn++){var Ye=st[nn].split("=");if(1<Ye.length){var un=Ye[0];Ye=Ye[1];var Ht=un.split("_");ye=2<=Ht.length&&Ht[1]=="type"?ye+(un+"="+Ye+"&"):ye+(un+"=redacted&")}}else ye=null;else ye=ne;return"XMLHTTP REQ ("+N+") [attempt "+Q+"]: "+v+`
`+S+`
`+ye})}function wl(f,v,S,N,Q,ne,ye){f.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Q+"]: "+v+`
`+S+`
`+ne+" "+ye})}function Hr(f,v,S,N){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Uy(f,S)+(N?" "+N:"")})}function Fc(f,v){f.info(function(){return"TIMEOUT: "+v})}oa.prototype.info=function(){};function Uy(f,v){if(!f.g)return v;if(!v)return null;try{var S=JSON.parse(v);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var N=S[f];if(!(2>N.length)){var Q=N[1];if(Array.isArray(Q)&&!(1>Q.length)){var ne=Q[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ye=1;ye<Q.length;ye++)Q[ye]=""}}}}return Oc(S)}catch{return v}}var El={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Af={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kr;function la(){}I(la,ia),la.prototype.g=function(){return new XMLHttpRequest},la.prototype.i=function(){return{}},Kr=new la;function Gr(f,v,S,N){this.j=f,this.i=v,this.l=S,this.R=N||1,this.U=new ra(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pf}function Pf(){this.i=null,this.g="",this.h=!1}var Uc={},Il={};function Tl(f,v,S){f.L=1,f.v=Qs(lr(v)),f.m=S,f.P=!0,$c(f,null)}function $c(f,v){f.F=Date.now(),ht(f),f.A=lr(f.v);var S=f.A,N=f.R;Array.isArray(N)||(N=[String(N)]),Js(S.i,"t",N),f.C=0,S=f.j.J,f.h=new Pf,f.g=qf(f.j,S?v:null,!f.m),0<f.O&&(f.M=new na(_(f.Y,f,f.g),f.O)),v=f.U,S=f.g,N=f.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(kc[0]=Q.toString()),Q=kc);for(var ne=0;ne<Q.length;ne++){var ye=Ar(S,Q[ne],N||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=f.H?P(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),rs(),aa(f.i,f.u,f.A,f.l,f.R,f.m)}Gr.prototype.ca=function(f){f=f.target;const v=this.M;v&&Kn(f)==3?v.j():this.Y(f)},Gr.prototype.Y=function(f){try{if(f==this.g)e:{const Ht=Kn(this.g);var v=this.g.Ba();const xr=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||Hc(this.g)))){this.J||Ht!=4||v==7||(v==8||0>=xr?rs(3):rs(2)),ua(this);var S=this.g.Z();this.X=S;t:if(bf(this)){var N=Hc(this.g);f="";var Q=N.length,ne=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cr(this),qs(this);var ye="";break t}this.h.i=new u.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,f+=this.h.i.decode(N[v],{stream:!(ne&&v==Q-1)});N.length=0,this.h.g+=f,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=S==200,wl(this.i,this.u,this.A,this.l,this.R,Ht,S),this.o){if(this.T&&!this.K){t:{if(this.g){var st,nn=this.g;if((st=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(st)){var Ye=st;break t}}Ye=null}if(S=Ye)Hr(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jc(this,S);else{this.o=!1,this.s=3,$t(12),Cr(this),qs(this);break e}}if(this.P){S=!0;let cr;for(;!this.J&&this.C<ye.length;)if(cr=$y(this,ye),cr==Il){Ht==4&&(this.s=4,$t(14),S=!1),Hr(this.i,this.l,null,"[Incomplete Response]");break}else if(cr==Uc){this.s=4,$t(15),Hr(this.i,this.l,ye,"[Invalid Chunk]"),S=!1;break}else Hr(this.i,this.l,cr,null),jc(this,cr);if(bf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||ye.length!=0||this.h.h||(this.s=1,$t(16),S=!1),this.o=this.o&&S,!S)Hr(this.i,this.l,ye,"[Invalid Chunked Response]"),Cr(this),qs(this);else if(0<ye.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Gc(un),un.M=!0,$t(11))}}else Hr(this.i,this.l,ye,null),jc(this,ye);Ht==4&&Cr(this),this.o&&!this.J&&(Ht==4?Dl(this.j,this):(this.o=!1,ht(this)))}else Cl(this.g),S==400&&0<ye.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),Cr(this),qs(this)}}}catch{}finally{}};function bf(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function $y(f,v){var S=f.C,N=v.indexOf(`
`,S);return N==-1?Il:(S=Number(v.substring(S,N)),isNaN(S)?Uc:(N+=1,N+S>v.length?Il:(v=v.slice(N,N+S),f.C=N+S,v)))}Gr.prototype.cancel=function(){this.J=!0,Cr(this)};function ht(f){f.S=Date.now()+f.I,Cf(f,f.I)}function Cf(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=qr(_(f.ba,f),v)}function ua(f){f.B&&(u.clearTimeout(f.B),f.B=null)}Gr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Fc(this.i,this.A),this.L!=2&&(rs(),$t(17)),Cr(this),this.s=2,qs(this)):Cf(this,this.S-f)};function qs(f){f.j.G==0||f.J||Dl(f.j,f)}function Cr(f){ua(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,xc(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function jc(f,v){try{var S=f.j;if(S.G!=0&&(S.g==f||Vn(S.h,f))){if(!f.K&&Vn(S.h,f)&&S.G==3){try{var N=S.Da.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Q=N;if(Q[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)Nl(S),Zr(S);else break e;Ol(S),$t(18)}}else S.za=Q[1],0<S.za-S.T&&37500>Q[2]&&S.F&&S.v==0&&!S.C&&(S.C=qr(_(S.Za,S),6e3));if(1>=xf(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else ls(S,11)}else if((f.K||S.g==f)&&Nl(S),!L(v))for(Q=S.Da.g.parse(v),v=0;v<Q.length;v++){let Ye=Q[v];if(S.T=Ye[0],Ye=Ye[1],S.G==2)if(Ye[0]=="c"){S.K=Ye[1],S.ia=Ye[2];const un=Ye[3];un!=null&&(S.la=un,S.j.info("VER="+S.la));const Ht=Ye[4];Ht!=null&&(S.Aa=Ht,S.j.info("SVER="+S.Aa));const xr=Ye[5];xr!=null&&typeof xr=="number"&&0<xr&&(N=1.5*xr,S.L=N,S.j.info("backChannelRequestTimeoutMs_="+N)),N=S;const cr=f.g;if(cr){const ga=cr.g?cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ga){var ne=N.h;ne.g||ga.indexOf("spdy")==-1&&ga.indexOf("quic")==-1&&ga.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Bc(ne,ne.h),ne.h=null))}if(N.D){const Vl=cr.g?cr.g.getResponseHeader("X-HTTP-Session-Id"):null;Vl&&(N.ya=Vl,ut(N.I,N.D,Vl))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),N=S;var ye=f;if(N.qa=Wf(N,N.J?N.ia:null,N.W),ye.K){Of(N.h,ye);var st=ye,nn=N.L;nn&&(st.I=nn),st.B&&(ua(st),ht(st)),N.g=ye}else ma(N);0<S.i.length&&wi(S)}else Ye[0]!="stop"&&Ye[0]!="close"||ls(S,7);else S.G==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?ls(S,7):_n(S):Ye[0]!="noop"&&S.l&&S.l.ta(Ye),S.v=0)}}rs(4)}catch{}}var kf=class{constructor(f,v){this.g=f,this.map=v}};function ca(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ar(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function xf(f){return f.h?1:f.g?f.g.size:0}function Vn(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Bc(f,v){f.g?f.g.add(v):f.h=v}function Of(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}ca.prototype.cancel=function(){if(this.i=Nf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Nf(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const S of f.g.values())v=v.concat(S.D);return v}return R(f.i)}function Sl(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var v=[],S=f.length,N=0;N<S;N++)v.push(f[N]);return v}v=[],S=0;for(N in f)v[S++]=f[N];return v}function Rl(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var v=[];f=f.length;for(var S=0;S<f;S++)v.push(S);return v}v=[],S=0;for(const N in f)v[S++]=N;return v}}}function Hs(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var S=Rl(f),N=Sl(f),Q=N.length,ne=0;ne<Q;ne++)v.call(void 0,N[ne],S&&S[ne],f)}var da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jy(f,v){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var N=f[S].indexOf("="),Q=null;if(0<=N){var ne=f[S].substring(0,N);Q=f[S].substring(N+1)}else ne=f[S];v(ne,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function is(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof is){this.h=f.h,ha(this,f.j),this.o=f.o,this.g=f.g,Ks(this,f.s),this.l=f.l;var v=f.i,S=new yi;S.i=v.i,v.g&&(S.g=new Map(v.g),S.h=v.h),Gs(this,S),this.m=f.m}else f&&(v=String(f).match(da))?(this.h=!1,ha(this,v[1]||"",!0),this.o=He(v[2]||""),this.g=He(v[3]||"",!0),Ks(this,v[4]),this.l=He(v[5]||"",!0),Gs(this,v[6]||"",!0),this.m=He(v[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}is.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Ys(v,Al,!0),":");var S=this.g;return(S||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Ys(v,Al,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Ys(S,S.charAt(0)=="/"?Vf:Lf,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Ys(S,zc)),f.join("")};function lr(f){return new is(f)}function ha(f,v,S){f.j=S?He(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Ks(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function Gs(f,v,S){v instanceof yi?(f.i=v,_i(f.i,f.h)):(S||(v=Ys(v,Mf)),f.i=new yi(v,f.h))}function ut(f,v,S){f.i.set(v,S)}function Qs(f){return ut(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function He(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ys(f,v,S){return typeof f=="string"?(f=encodeURI(f).replace(v,Df),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Df(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Al=/[#\/\?@]/g,Lf=/[#\?:]/g,Vf=/[#\?]/g,Mf=/[#\?@]/g,zc=/#/g;function yi(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function yn(f){f.g||(f.g=new Map,f.h=0,f.i&&jy(f.i,function(v,S){f.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}n=yi.prototype,n.add=function(f,v){yn(this),this.i=null,f=kr(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(v),this.h+=1,this};function Qr(f,v){yn(f),v=kr(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Yr(f,v){return yn(f),v=kr(f,v),f.g.has(v)}n.forEach=function(f,v){yn(this),this.g.forEach(function(S,N){S.forEach(function(Q){f.call(v,Q,N,this)},this)},this)},n.na=function(){yn(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),S=[];for(let N=0;N<v.length;N++){const Q=f[N];for(let ne=0;ne<Q.length;ne++)S.push(v[N])}return S},n.V=function(f){yn(this);let v=[];if(typeof f=="string")Yr(this,f)&&(v=v.concat(this.g.get(kr(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)v=v.concat(f[S])}return v},n.set=function(f,v){return yn(this),this.i=null,f=kr(this,f),Yr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},n.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function Js(f,v,S){Qr(f,v),0<S.length&&(f.i=null,f.g.set(kr(f,v),R(S)),f.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var S=0;S<v.length;S++){var N=v[S];const ne=encodeURIComponent(String(N)),ye=this.V(N);for(N=0;N<ye.length;N++){var Q=ne;ye[N]!==""&&(Q+="="+encodeURIComponent(String(ye[N]))),f.push(Q)}}return this.i=f.join("&")};function kr(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function _i(f,v){v&&!f.j&&(yn(f),f.i=null,f.g.forEach(function(S,N){var Q=N.toLowerCase();N!=Q&&(Qr(this,N),Js(this,Q,S))},f)),f.j=v}function By(f,v){const S=new oa;if(u.Image){const N=new Image;N.onload=T(Hn,S,"TestLoadImage: loaded",!0,v,N),N.onerror=T(Hn,S,"TestLoadImage: error",!1,v,N),N.onabort=T(Hn,S,"TestLoadImage: abort",!1,v,N),N.ontimeout=T(Hn,S,"TestLoadImage: timeout",!1,v,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=f}else v(!1)}function Ff(f,v){const S=new oa,N=new AbortController,Q=setTimeout(()=>{N.abort(),Hn(S,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:N.signal}).then(ne=>{clearTimeout(Q),ne.ok?Hn(S,"TestPingServer: ok",!0,v):Hn(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),Hn(S,"TestPingServer: error",!1,v)})}function Hn(f,v,S,N,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),N(S)}catch{}}function zy(){this.g=new Dc}function Uf(f,v,S){const N=S||"";try{Hs(f,function(Q,ne){let ye=Q;h(Q)&&(ye=Oc(Q)),v.push(N+ne+"="+encodeURIComponent(ye))})}catch(Q){throw v.push(N+"type="+encodeURIComponent("_badmap")),Q}}function ss(f){this.l=f.Ub||null,this.j=f.eb||!1}I(ss,ia),ss.prototype.g=function(){return new fa(this.l,this.j)},ss.prototype.i=function(f){return function(){return f}}({});function fa(f,v){en.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(fa,en),n=fa.prototype,n.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Xr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Xr(this)),this.g&&(this.readyState=3,Xr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$f(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function $f(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Jr(this):Xr(this),this.readyState==3&&$f(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Jr(this))},n.Qa=function(f){this.g&&(this.response=f,Jr(this))},n.ga=function(){this.g&&Jr(this)};function Jr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Xr(f)}n.setRequestHeader=function(f,v){this.u.append(f,v)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=v.next();return f.join(`\r
`)};function Xr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function os(f){let v="";return q(f,function(S,N){v+=N,v+=":",v+=S,v+=`\r
`}),v}function Xs(f,v,S){e:{for(N in S){var N=!1;break e}N=!0}N||(S=os(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):ut(f,v,S))}function wt(f){en.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(wt,en);var Wy=/^https?$/i,Wc=["POST","PUT"];n=wt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,v,S,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kr.g(),this.v=this.o?gl(this.o):gl(Kr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(ne){pa(this,ne);return}if(f=S||"",S=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Q in N)S.set(Q,N[Q]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ne of N.keys())S.set(ne,N.get(ne));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(S.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=u.FormData&&f instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Wc,v,void 0))||N||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ye]of S)this.g.setRequestHeader(ne,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bl(this),this.u=!0,this.g.send(f),this.u=!1}catch(ne){pa(this,ne)}};function pa(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,Pl(f),ur(f)}function Pl(f){f.A||(f.A=!0,tn(f,"complete"),tn(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,tn(this,"complete"),tn(this,"abort"),ur(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ur(this,!0)),wt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?qc(this):this.bb())},n.bb=function(){qc(this)};function qc(f){if(f.h&&typeof l<"u"&&(!f.v[1]||Kn(f)!=4||f.Z()!=2)){if(f.u&&Kn(f)==4)Cc(f.Ea,0,f);else if(tn(f,"readystatechange"),Kn(f)==4){f.h=!1;try{const ye=f.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var N;if(N=ye===0){var Q=String(f.D).match(da)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),N=!Wy.test(Q?Q.toLowerCase():"")}S=N}if(S)tn(f,"complete"),tn(f,"success");else{f.m=6;try{var ne=2<Kn(f)?f.g.statusText:""}catch{ne=""}f.l=ne+" ["+f.Z()+"]",Pl(f)}}finally{ur(f)}}}}function ur(f,v){if(f.g){bl(f);const S=f.g,N=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||tn(f,"ready");try{S.onreadystatechange=N}catch{}}}function bl(f){f.I&&(u.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Kn(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Nc(v)}};function Hc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Cl(f){const v={};f=(f.g&&2<=Kn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<f.length;N++){if(L(f[N]))continue;var S=x(f[N]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ne=v[Q]||[];v[Q]=ne,ne.push(S)}D(v,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(f,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||v}function Kc(f){this.Aa=0,this.i=[],this.j=new oa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vi("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vi("baseRetryDelayMs",5e3,f),this.cb=vi("retryDelaySeedMs",1e4,f),this.Wa=vi("forwardChannelMaxRetries",2,f),this.wa=vi("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ca(f&&f.concurrentRequestLimit),this.Da=new zy,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Kc.prototype,n.la=8,n.G=1,n.connect=function(f,v,S,N){$t(0),this.W=f,this.H=v||{},S&&N!==void 0&&(this.H.OSID=S,this.H.OAID=N),this.F=this.X,this.I=Wf(this,null,this.W),wi(this)};function _n(f){if(kl(f),f.G==3){var v=f.U++,S=lr(f.I);if(ut(S,"SID",f.K),ut(S,"RID",v),ut(S,"TYPE","terminate"),as(f,S),v=new Gr(f,f.j,v),v.L=2,v.v=Qs(lr(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!S&&u.Image&&(new Image().src=v.v,S=!0),S||(v.g=qf(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ht(v)}zf(f)}function Zr(f){f.g&&(Gc(f),f.g.cancel(),f.g=null)}function kl(f){Zr(f),f.u&&(u.clearTimeout(f.u),f.u=null),Nl(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&u.clearTimeout(f.s),f.s=null)}function wi(f){if(!ar(f.h)&&!f.s){f.s=!0;var v=f.Ga;oe||he(),X||(oe(),X=!0),pe.add(v,f),f.B=0}}function qy(f,v){return xf(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=qr(_(f.Ga,f,v),Bf(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Q=new Gr(this,this.j,f);let ne=this.o;if(this.S&&(ne?(ne=P(ne),E(ne,this.S)):ne=this.S),this.m!==null||this.O||(Q.H=ne,ne=null),this.P)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var N=this.i[S];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,4096<v){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=Zs(this,Q,v),S=lr(this.I),ut(S,"RID",f),ut(S,"CVER",22),this.D&&ut(S,"X-HTTP-Session-Id",this.D),as(this,S),ne&&(this.O?v="headers="+encodeURIComponent(String(os(ne)))+"&"+v:this.m&&Xs(S,this.m,ne)),Bc(this.h,Q),this.Ua&&ut(S,"TYPE","init"),this.P?(ut(S,"$req",v),ut(S,"SID","null"),Q.T=!0,Tl(Q,S,null)):Tl(Q,S,v),this.G=2}}else this.G==3&&(f?xl(this,f):this.i.length==0||ar(this.h)||xl(this))};function xl(f,v){var S;v?S=v.l:S=f.U++;const N=lr(f.I);ut(N,"SID",f.K),ut(N,"RID",S),ut(N,"AID",f.T),as(f,N),f.m&&f.o&&Xs(N,f.m,f.o),S=new Gr(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),v&&(f.i=v.D.concat(f.i)),v=Zs(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Bc(f.h,S),Tl(S,N,v)}function as(f,v){f.H&&q(f.H,function(S,N){ut(v,N,S)}),f.l&&Hs({},function(S,N){ut(v,N,S)})}function Zs(f,v,S){S=Math.min(f.i.length,S);var N=f.l?_(f.l.Na,f.l,f):null;e:{var Q=f.i;let ne=-1;for(;;){const ye=["count="+S];ne==-1?0<S?(ne=Q[0].g,ye.push("ofs="+ne)):ne=0:ye.push("ofs="+ne);let st=!0;for(let nn=0;nn<S;nn++){let Ye=Q[nn].g;const un=Q[nn].map;if(Ye-=ne,0>Ye)ne=Math.max(0,Q[nn].g-100),st=!1;else try{Uf(un,ye,"req"+Ye+"_")}catch{N&&N(un)}}if(st){N=ye.join("&");break e}}}return f=f.i.splice(0,S),v.D=f,N}function ma(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;oe||he(),X||(oe(),X=!0),pe.add(v,f),f.v=0}}function Ol(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=qr(_(f.Fa,f),Bf(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,jf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=qr(_(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),Zr(this),jf(this))};function Gc(f){f.A!=null&&(u.clearTimeout(f.A),f.A=null)}function jf(f){f.g=new Gr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=lr(f.qa);ut(v,"RID","rpc"),ut(v,"SID",f.K),ut(v,"AID",f.T),ut(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&ut(v,"TO",f.ja),ut(v,"TYPE","xmlhttp"),as(f,v),f.m&&f.o&&Xs(v,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=Qs(lr(v)),S.m=null,S.P=!0,$c(S,f)}n.Za=function(){this.C!=null&&(this.C=null,Zr(this),Ol(this),$t(19))};function Nl(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Dl(f,v){var S=null;if(f.g==v){Nl(f),Gc(f),f.g=null;var N=2}else if(Vn(f.h,v))S=v.D,Of(f.h,v),N=1;else return;if(f.G!=0){if(v.o)if(N==1){S=v.m?v.m.length:0,v=Date.now()-v.F;var Q=f.B;N=sa(),tn(N,new vl(N,S)),wi(f)}else ma(f);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(N==1&&qy(f,v)||N==2&&Ol(f)))switch(S&&0<S.length&&(v=f.h,v.i=v.i.concat(S)),Q){case 1:ls(f,5);break;case 4:ls(f,10);break;case 3:ls(f,6);break;default:ls(f,2)}}}function Bf(f,v){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*v}function ls(f,v){if(f.j.info("Error code "+v),v==2){var S=_(f.fb,f),N=f.Xa;const Q=!N;N=new is(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ha(N,"https"),Qs(N),Q?By(N.toString(),S):Ff(N.toString(),S)}else $t(2);f.G=0,f.l&&f.l.sa(v),zf(f),kl(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function zf(f){if(f.G=0,f.ka=[],f.l){const v=Nf(f.h);(v.length!=0||f.i.length!=0)&&(A(f.ka,v),A(f.ka,f.i),f.h.i.length=0,R(f.i),f.i.length=0),f.l.ra()}}function Wf(f,v,S){var N=S instanceof is?lr(S):new is(S);if(N.g!="")v&&(N.g=v+"."+N.g),Ks(N,N.s);else{var Q=u.location;N=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var ne=new is(null);N&&ha(ne,N),v&&(ne.g=v),Q&&Ks(ne,Q),S&&(ne.l=S),N=ne}return S=f.D,v=f.ya,S&&v&&ut(N,S,v),ut(N,"VER",f.la),as(f,N),N}function qf(f,v,S){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new wt(new ss({eb:S})):new wt(f.pa),v.Ha(f.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qc(){}n=Qc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ll(){}Ll.prototype.g=function(f,v){return new Mn(f,v)};function Mn(f,v){en.call(this),this.g=new Kc(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!L(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!L(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Ei(this)}I(Mn,en),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){_n(this.g)},Mn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=Oc(f),f=S);v.i.push(new kf(v.Ya++,f)),v.G==3&&wi(v)},Mn.prototype.N=function(){this.g.l=null,delete this.j,_n(this.g),delete this.g,Mn.aa.N.call(this)};function Hf(f){mi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const S in v){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}I(Hf,mi);function Kf(){_l.call(this),this.status=1}I(Kf,_l);function Ei(f){this.g=f}I(Ei,Qc),Ei.prototype.ua=function(){tn(this.g,"a")},Ei.prototype.ta=function(f){tn(this.g,new Hf(f))},Ei.prototype.sa=function(f){tn(this.g,new Kf)},Ei.prototype.ra=function(){tn(this.g,"b")},Ll.prototype.createWebChannel=Ll.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,Ck=function(){return new Ll},bk=function(){return sa()},Pk=gi,_w={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},El.NO_ERROR=0,El.TIMEOUT=8,El.HTTP_ERROR=6,hm=El,Af.COMPLETE="complete",Ak=Af,yl.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",en.prototype.listen=en.prototype.K,Hd=yl,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,Rk=wt}).apply(typeof zp<"u"?zp:typeof self<"u"?self:typeof window<"u"?window:{});const MR="@firebase/firestore",FR="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dc="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new Kh("@firebase/firestore");function vu(){return Lo.logLevel}function W$(n){Lo.setLogLevel(n)}function ue(n,...e){if(Lo.logLevel<=Ue.DEBUG){const t=e.map($E);Lo.debug(`Firestore (${dc}): ${n}`,...t)}}function Bt(n,...e){if(Lo.logLevel<=Ue.ERROR){const t=e.map($E);Lo.error(`Firestore (${dc}): ${n}`,...t)}}function Gi(n,...e){if(Lo.logLevel<=Ue.WARN){const t=e.map($E);Lo.warn(`Firestore (${dc}): ${n}`,...t)}}function $E(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n="Unexpected state"){const e=`FIRESTORE (${dc}) INTERNAL ASSERTION FAILED: `+n;throw Bt(e),new Error(e)}function Re(n,e){n||Ee()}function q$(n,e){n||Ee()}function ve(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends mn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pn.UNAUTHENTICATED))}shutdown(){}}class K${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class G${constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Re(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let s=new Sn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Sn,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=s;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Sn)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new kk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new pn(e)}}class Q${constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Y${constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Q$(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J${constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ge(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Re(this.o===void 0);const r=s=>{s.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.R;return this.R=s.token,ue("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new UR(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Re(typeof t.token=="string"),this.R=t.token,new UR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=X$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%62))}return r}}function Le(n,e){return n<e?-1:n>e?1:0}function Vu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Ok(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=-62135596800,jR=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*jR);return new At(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$R)throw new ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jR}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$R;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new At(0,0))}static max(){return new be(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="__name__";class bi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ee(),r===void 0?r=e.length-t:r>e.length-t&&Ee(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=bi.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=bi.isNumericId(e),i=bi.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?bi.extractNumericId(e).compare(bi.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bo.fromString(e.substring(4,e.length-2))}}class Be extends bi{construct(e,t,r){return new Be(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Be(t)}static emptyPath(){return new Be([])}}const Z$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends bi{construct(e,t,r){return new St(e,t,r)}static isValidIdentifier(e){return Z$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BR}static keyField(){return new St([BR])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ae(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ae(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ae(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(s(),i++)}if(s(),l)throw new ae(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(t)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Be.fromString(e))}static fromName(e){return new _e(Be.fromString(e).popFirst(5))}static empty(){return new _e(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Be.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Be(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=-1;class Hm{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function vw(n){return n.fields.find(e=>e.kind===2)}function Oa(n){return n.fields.filter(e=>e.kind!==2)}Hm.UNKNOWN_ID=-1;class fm{constructor(e,t){this.fieldPath=e,this.kind=t}}class vh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vh(0,Sr.min())}}function Nk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=be.fromTimestamp(r===1e9?new At(t+1,0):new At(t,r));return new Sr(i,_e.empty(),e)}function Dk(n){return new Sr(n.readTime,n.key,Mu)}class Sr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Sr(be.min(),_e.empty(),Mu)}static max(){return new Sr(be.max(),_e.empty(),Mu)}}function jE(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Le(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==Lk)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,r)=>{t(e)})}static reject(e){return new G((t,r)=>{r(e)})}static waitFor(e){return new G((t,r)=>{let i=0,s=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++s,l&&s===i&&t()},d=>r(d))}),l=!0,s===i&&t()})}static or(e){let t=G.resolve(!1);for(const r of e)t=t.next(i=>i?G.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new G((r,i)=>{const s=e.length,l=new Array(s);let u=0;for(let d=0;d<s;d++){const h=d;t(e[h]).next(m=>{l[h]=m,++u,u===s&&r(l)},m=>i(m))}})}static doWhile(e,t){return new G((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="SimpleDb";class Mg{static open(e,t,r,i){try{return new Mg(t,e.transaction(i,r))}catch(s){throw new eh(t,s)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new Sn,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new eh(e,t.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=BE(r.target.error);this.m.reject(new eh(e,i))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(ue(gr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new t4(t)}}class zi{static delete(e){return ue(gr,"Removing database:",e),Da(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!mh())return!1;if(zi.v())return!0;const e=We(),t=zi.C(e),r=0<t&&t<10,i=Mk(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.O=r,zi.C(We())===12.2&&Bt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(ue(gr,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const l=s.target.result;t(l)},i.onblocked=()=>{r(new eh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const l=s.target.error;l.name==="VersionError"?r(new ae(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?r(new ae(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):r(new eh(e,l))},i.onupgradeneeded=s=>{ue(gr,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const l=s.target.result;this.O.B(l,i.transaction,s.oldVersion,this.version).next(()=>{ue(gr,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=t=>this.L(t)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const s=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.N(e);const u=Mg.open(this.db,e,s?"readonly":"readwrite",r),d=i(u).next(h=>(u.S(),h)).catch(h=>(u.abort(h),G.reject(h))).toPromise();return d.catch(()=>{}),await u.p,d}catch(u){const d=u,h=d.name!=="FirebaseError"&&l<3;if(ue(gr,"Transaction failed with error:",d.message,"Retrying:",h),this.close(),!h)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function Mk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class e4{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return Da(this.q.delete())}}class eh extends ae{constructor(e,t){super(te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Jo(n){return n.name==="IndexedDbTransactionError"}class t4{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(ue(gr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(ue(gr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Da(r)}add(e){return ue(gr,"ADD",this.store.name,e,e),Da(this.store.add(e))}get(e){return Da(this.store.get(e)).next(t=>(t===void 0&&(t=null),ue(gr,"GET",this.store.name,e,t),t))}delete(e){return ue(gr,"DELETE",this.store.name,e),Da(this.store.delete(e))}count(){return ue(gr,"COUNT",this.store.name),Da(this.store.count())}G(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new G((l,u)=>{s.onerror=d=>{u(d.target.error)},s.onsuccess=d=>{l(d.target.result)}})}{const s=this.cursor(r),l=[];return this.j(s,(u,d)=>{l.push(d)}).next(()=>l)}}H(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new G((i,s)=>{r.onerror=l=>{s(l.target.error)},r.onsuccess=l=>{i(l.target.result)}})}J(e,t){ue(gr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.j(i,(s,l,u)=>u.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.j(i,t)}X(e){const t=this.cursor({});return new G((r,i)=>{t.onerror=s=>{const l=BE(s.target.error);i(l)},t.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(u=>{u?l.continue():r()}):r()}})}j(e,t){const r=[];return new G((i,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const u=l.target.result;if(!u)return void i();const d=new e4(u),h=t(u.primaryKey,u.value,d);if(h instanceof G){const m=h.catch(g=>(d.done(),G.reject(g)));r.push(m)}d.isDone?i():d.U===null?u.continue():u.continue(d.U)}}).next(()=>G.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Da(n){return new G((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=BE(r.target.error);t(i)}})}let zR=!1;function BE(n){const e=zi.C(We());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zR||(zR=!0,setTimeout(()=>{throw r},0)),r}}return n}const th="IndexBackfiller";class n4{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){ue(th,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ee.ne();ue(th,`Documents written: ${t}`)}catch(t){Jo(t)?ue(th,"Ignoring IndexedDB error during index backfill: ",t):await Yo(t)}await this.te(6e4)})}}class r4{constructor(e,t){this.localStore=e,this.persistence=t}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.re(t,e))}re(e,t){const r=new Set;let i=t,s=!0;return G.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(l!==null&&!r.has(l))return ue(th,`Processing collection: ${l}`),this.ie(e,l,i).next(u=>{i-=u,r.add(l)});s=!1})).next(()=>t-i)}ie(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.se(i,s)).next(u=>(ue(th,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,t,u))).next(()=>l.size)}))}se(e,t){let r=e;return t.changes.forEach((i,s)=>{const l=Dk(s);jE(l,r)>0&&(r=l)}),new Sr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}tr.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co=-1;function Xh(n){return n==null}function wh(n){return n===0&&1/n==-1/0}function Fk(n){return typeof n=="number"&&Number.isInteger(n)&&!wh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="";function Dn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=WR(e)),e=i4(n.get(t),e);return WR(e)}function i4(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case Km:t+="";break;default:t+=s}}return t}function WR(n){return n+Km+""}function Mi(n){const e=n.length;if(Re(e>=2),e===2)return Re(n.charAt(0)===Km&&n.charAt(1)===""),Be.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const l=n.indexOf(Km,s);switch((l<0||l>t)&&Ee(),n.charAt(l+1)){case"":const u=n.substring(s,l);let d;i.length===0?d=u:(i+=u,d=i,i=""),r.push(d);break;case"":i+=n.substring(s,l),i+="\0";break;case"":i+=n.substring(s,l+1);break;default:Ee()}s=l+2}return new Be(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="remoteDocuments",Zh="owner",ru="owner",Eh="mutationQueues",s4="userId",ai="mutations",qR="batchId",Ua="userMutationsIndex",HR=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(n,e){return[n,Dn(e)]}function Uk(n,e,t){return[n,Dn(e),t]}const o4={},Fu="documentMutations",Gm="remoteDocumentsV14",a4=["prefixPath","collectionGroup","readTime","documentId"],mm="documentKeyIndex",l4=["prefixPath","collectionGroup","documentId"],$k="collectionGroupIndex",u4=["collectionGroup","readTime","prefixPath","documentId"],Ih="remoteDocumentGlobal",ww="remoteDocumentGlobalKey",Uu="targets",jk="queryTargetsIndex",c4=["canonicalId","targetId"],$u="targetDocuments",d4=["targetId","path"],zE="documentTargetsIndex",h4=["path","targetId"],Qm="targetGlobalKey",Wa="targetGlobal",Th="collectionParents",f4=["collectionId","parent"],ju="clientMetadata",p4="clientId",Fg="bundles",m4="bundleId",Ug="namedQueries",g4="name",WE="indexConfiguration",y4="indexId",Ew="collectionGroupIndex",_4="collectionGroup",Ym="indexState",v4=["indexId","uid"],Bk="sequenceNumberIndex",w4=["uid","sequenceNumber"],Jm="indexEntries",E4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zk="documentKeyIndex",I4=["indexId","uid","orderedDocumentKey"],$g="documentOverlays",T4=["userId","collectionPath","documentId"],Iw="collectionPathOverlayIndex",S4=["userId","collectionPath","largestBatchId"],Wk="collectionGroupOverlayIndex",R4=["userId","collectionGroup","largestBatchId"],qE="globals",A4="name",qk=[Eh,ai,Fu,Na,Uu,Zh,Wa,$u,ju,Ih,Th,Fg,Ug],P4=[...qk,$g],Hk=[Eh,ai,Fu,Gm,Uu,Zh,Wa,$u,ju,Ih,Th,Fg,Ug,$g],Kk=Hk,HE=[...Kk,WE,Ym,Jm],b4=HE,C4=[...HE,qE];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw extends Vk{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function an(n,e){const t=ve(n);return zi.M(t.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Gk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||En.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wp(this.root,e,this.comparator,!0)}}class Wp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??En.RED,this.left=i??En.EMPTY,this.right=s??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new En(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return En.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,t,r,i,s){return this}insert(e,t,r){return new En(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new GR(this.data.getIterator())}getIteratorFrom(e){return new GR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new at(this.comparator);return t.data=e,t}}class GR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function iu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new nr([])}unionWith(e){let t=new at(St.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new nr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Qk("Invalid base64 string: "+s):s}}(e);return new Mt(t)}static fromUint8Array(e){const t=function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s}(e);return new Mt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const x4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Os(n){if(Re(!!n),typeof n=="string"){let e=0;const t=x4.exec(n);if(Re(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(n.seconds),nanos:Tt(n.nanos)}}function Tt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ns(n){return typeof n=="string"?Mt.fromBase64String(n):Mt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="server_timestamp",Jk="__type__",Xk="__previous_value__",Zk="__local_write_time__";function jg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Jk])===null||t===void 0?void 0:t.stringValue)===Yk}function Bg(n){const e=n.mapValue.fields[Xk];return jg(e)?Bg(e):e}function Sh(n){const e=Os(n.mapValue.fields[Zk].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,t,r,i,s,l,u,d,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=h}}const Sw="(default)";class Vo{constructor(e,t){this.projectId=e,this.database=t||Sw}static empty(){return new Vo("","")}get isDefaultDatabase(){return this.database===Sw}isEqual(e){return e instanceof Vo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="__type__",e1="__max__",To={mapValue:{fields:{__type__:{stringValue:e1}}}},GE="__vector__",Bu="value",gm={nullValue:"NULL_VALUE"};function Mo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jg(n)?4:t1(n)?9007199254740991:zg(n)?10:11:Ee()}function Qi(n,e){if(n===e)return!0;const t=Mo(n);if(t!==Mo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Sh(n).isEqual(Sh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Os(i.timestampValue),u=Os(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Ns(i.bytesValue).isEqual(Ns(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Tt(i.geoPointValue.latitude)===Tt(s.geoPointValue.latitude)&&Tt(i.geoPointValue.longitude)===Tt(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Tt(i.integerValue)===Tt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Tt(i.doubleValue),u=Tt(s.doubleValue);return l===u?wh(l)===wh(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Vu(n.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(KR(l)!==KR(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Qi(l[d],u[d])))return!1;return!0}(n,e);default:return Ee()}}function Rh(n,e){return(n.values||[]).find(t=>Qi(t,e))!==void 0}function Fo(n,e){if(n===e)return 0;const t=Mo(n),r=Mo(e);if(t!==r)return Le(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(n.booleanValue,e.booleanValue);case 2:return function(s,l){const u=Tt(s.integerValue||s.doubleValue),d=Tt(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,e);case 3:return QR(n.timestampValue,e.timestampValue);case 4:return QR(Sh(n),Sh(e));case 5:return Le(n.stringValue,e.stringValue);case 6:return function(s,l){const u=Ns(s),d=Ns(l);return u.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(s,l){const u=s.split("/"),d=l.split("/");for(let h=0;h<u.length&&h<d.length;h++){const m=Le(u[h],d[h]);if(m!==0)return m}return Le(u.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,l){const u=Le(Tt(s.latitude),Tt(l.latitude));return u!==0?u:Le(Tt(s.longitude),Tt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return YR(n.arrayValue,e.arrayValue);case 10:return function(s,l){var u,d,h,m;const g=s.fields||{},_=l.fields||{},T=(u=g[Bu])===null||u===void 0?void 0:u.arrayValue,I=(d=_[Bu])===null||d===void 0?void 0:d.arrayValue,R=Le(((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0,((m=I==null?void 0:I.values)===null||m===void 0?void 0:m.length)||0);return R!==0?R:YR(T,I)}(n.mapValue,e.mapValue);case 11:return function(s,l){if(s===To.mapValue&&l===To.mapValue)return 0;if(s===To.mapValue)return 1;if(l===To.mapValue)return-1;const u=s.fields||{},d=Object.keys(u),h=l.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let g=0;g<d.length&&g<m.length;++g){const _=Le(d[g],m[g]);if(_!==0)return _;const T=Fo(u[d[g]],h[m[g]]);if(T!==0)return T}return Le(d.length,m.length)}(n.mapValue,e.mapValue);default:throw Ee()}}function QR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Le(n,e);const t=Os(n),r=Os(e),i=Le(t.seconds,r.seconds);return i!==0?i:Le(t.nanos,r.nanos)}function YR(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=Fo(t[i],r[i]);if(s)return s}return Le(t.length,r.length)}function zu(n){return Rw(n)}function Rw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Os(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ns(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=Rw(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${Rw(t.fields[l])}`;return i+"}"}(n.mapValue):Ee()}function ym(n){switch(Mo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bg(n);return e?16+ym(e):16;case 5:return 2*n.stringValue.length;case 6:return Ns(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+ym(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Xo(r.fields,(s,l)=>{i+=s.length+ym(l)}),i}(n.mapValue);default:throw Ee()}}function Ga(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Aw(n){return!!n&&"integerValue"in n}function Ah(n){return!!n&&"arrayValue"in n}function JR(n){return!!n&&"nullValue"in n}function XR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _m(n){return!!n&&"mapValue"in n}function zg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[KE])===null||t===void 0?void 0:t.stringValue)===GE}function nh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Xo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=nh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function t1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===e1}const n1={mapValue:{fields:{[KE]:{stringValue:GE},[Bu]:{arrayValue:{}}}}};function N4(n){return"nullValue"in n?gm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ga(Vo.empty(),_e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?zg(n)?n1:{mapValue:{}}:Ee()}function D4(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ga(Vo.empty(),_e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?n1:"mapValue"in n?zg(n)?{mapValue:{}}:To:Ee()}function ZR(n,e){const t=Fo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function eA(n,e){const t=Fo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!_m(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nh(t)}setAll(e){let t=St.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=nh(l):i.push(u.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());_m(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];_m(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Xo(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Tn(nh(this.value))}}function r1(n){const e=[];return Xo(n.fields,(t,r)=>{const i=new St([t]);if(_m(r)){const s=r1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)}),new nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t,r,i,s,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=u}static newInvalidDocument(e){return new _t(e,0,be.min(),be.min(),be.min(),Tn.empty(),0)}static newFoundDocument(e,t,r,i){return new _t(e,1,t,be.min(),r,i,0)}static newNoDocument(e,t){return new _t(e,2,t,be.min(),be.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new _t(e,3,t,be.min(),be.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,t){this.position=e,this.inclusive=t}}function tA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],l=n.position[i];if(s.field.isKeyField()?r=_e.comparator(_e.fromName(l.referenceValue),t.key):r=Fo(l,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function nA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Qi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t="asc"){this.field=e,this.dir=t}}function L4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{}class ze extends i1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new V4(e,t,r):t==="array-contains"?new U4(e,r):t==="in"?new c1(e,r):t==="not-in"?new $4(e,r):t==="array-contains-any"?new j4(e,r):new ze(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new M4(e,r):new F4(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Fo(t,this.value)):t!==null&&Mo(this.value)===Mo(t)&&this.matchesComparison(Fo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ot extends i1{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ot(e,t)}matches(e){return Wu(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Wu(n){return n.op==="and"}function Pw(n){return n.op==="or"}function QE(n){return s1(n)&&Wu(n)}function s1(n){for(const e of n.filters)if(e instanceof ot)return!1;return!0}function bw(n){if(n instanceof ze)return n.field.canonicalString()+n.op.toString()+zu(n.value);if(QE(n))return n.filters.map(e=>bw(e)).join(",");{const e=n.filters.map(t=>bw(t)).join(",");return`${n.op}(${e})`}}function o1(n,e){return n instanceof ze?function(r,i){return i instanceof ze&&r.op===i.op&&r.field.isEqual(i.field)&&Qi(r.value,i.value)}(n,e):n instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,l,u)=>s&&o1(l,i.filters[u]),!0):!1}(n,e):void Ee()}function a1(n,e){const t=n.filters.concat(e);return ot.create(t,n.op)}function l1(n){return n instanceof ze?function(t){return`${t.field.canonicalString()} ${t.op} ${zu(t.value)}`}(n):n instanceof ot?function(t){return t.op.toString()+" {"+t.getFilters().map(l1).join(" ,")+"}"}(n):"Filter"}class V4 extends ze{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class M4 extends ze{constructor(e,t){super(e,"in",t),this.keys=u1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class F4 extends ze{constructor(e,t){super(e,"not-in",t),this.keys=u1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function u1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class U4 extends ze{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ah(t)&&Rh(t.arrayValue,this.value)}}class c1 extends ze{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Rh(this.value.arrayValue,t)}}class $4 extends ze{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Rh(this.value.arrayValue,t)}}class j4 extends ze{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ah(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Rh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,t=null,r=[],i=[],s=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=u,this.le=null}}function Cw(n,e=null,t=[],r=[],i=null,s=null,l=null){return new B4(n,e,t,r,i,s,l)}function Qa(n){const e=ve(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>bw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Xh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zu(r)).join(",")),e.le=t}return e.le}function ef(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!L4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!o1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!nA(n.startAt,e.startAt)&&nA(n.endAt,e.endAt)}function Xm(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Zm(n,e){return n.filters.filter(t=>t instanceof ze&&t.field.isEqual(e))}function rA(n,e,t){let r=gm,i=!0;for(const s of Zm(n,e)){let l=gm,u=!0;switch(s.op){case"<":case"<=":l=N4(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,u=!1;break;case"!=":case"not-in":l=gm}ZR({value:r,inclusive:i},{value:l,inclusive:u})<0&&(r=l,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];ZR({value:r,inclusive:i},{value:l,inclusive:t.inclusive})<0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}function iA(n,e,t){let r=To,i=!0;for(const s of Zm(n,e)){let l=To,u=!0;switch(s.op){case">=":case">":l=D4(s.value),u=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,u=!1;break;case"!=":case"not-in":l=To}eA({value:r,inclusive:i},{value:l,inclusive:u})>0&&(r=l,i=u)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const l=t.position[s];eA({value:r,inclusive:i},{value:l,inclusive:t.inclusive})>0&&(r=l,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,t=null,r=[],i=[],s=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=u,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function d1(n,e,t,r,i,s,l,u){return new Fs(n,e,t,r,i,s,l,u)}function hc(n){return new Fs(n)}function sA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function YE(n){return n.collectionGroup!==null}function Au(n){const e=ve(n);if(e.he===null){e.he=[];const t=new Set;for(const s of e.explicitOrderBy)e.he.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new at(St.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.he.push(new Ph(s,r))}),t.has(St.keyField().canonicalString())||e.he.push(new Ph(St.keyField(),r))}return e.he}function Bn(n){const e=ve(n);return e.Pe||(e.Pe=z4(e,Au(n))),e.Pe}function z4(n,e){if(n.limitType==="F")return Cw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ph(i.field,s)});const t=n.endAt?new Uo(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Uo(n.startAt.position,n.startAt.inclusive):null;return Cw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function kw(n,e){const t=n.filters.concat([e]);return new Fs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function eg(n,e,t){return new Fs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function tf(n,e){return ef(Bn(n),Bn(e))&&n.limitType===e.limitType}function h1(n){return`${Qa(Bn(n))}|lt:${n.limitType}`}function wu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>l1(i)).join(", ")}]`),Xh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>zu(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>zu(i)).join(",")),`Target(${r})`}(Bn(n))}; limitType=${n.limitType})`}function nf(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Au(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,d){const h=tA(l,u,d);return l.inclusive?h<=0:h<0}(r.startAt,Au(r),i)||r.endAt&&!function(l,u,d){const h=tA(l,u,d);return l.inclusive?h>=0:h>0}(r.endAt,Au(r),i))}(n,e)}function f1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function p1(n){return(e,t)=>{let r=!1;for(const i of Au(n)){const s=W4(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function W4(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(s,l,u){const d=l.data.field(s),h=u.data.field(s);return d!==null&&h!==null?Fo(d,h):Ee()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Gk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=new pt(_e.comparator);function rr(){return q4}const m1=new pt(_e.comparator);function Kd(...n){let e=m1;for(const t of n)e=e.insert(t.key,t);return e}function g1(n){let e=m1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fi(){return rh()}function y1(){return rh()}function rh(){return new Us(n=>n.toString(),(n,e)=>n.isEqual(e))}const H4=new pt(_e.comparator),K4=new at(_e.comparator);function Fe(...n){let e=K4;for(const t of n)e=e.add(t);return e}const G4=new at(Le);function JE(){return G4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function _1(n){return{integerValue:""+n}}function v1(n,e){return Fk(e)?_1(e):XE(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(){this._=void 0}}function Q4(n,e,t){return n instanceof qu?function(i,s){const l={fields:{[Jk]:{stringValue:Yk},[Zk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&jg(s)&&(s=Bg(s)),s&&(l.fields[Xk]=s),{mapValue:l}}(t,e):n instanceof Ya?E1(n,e):n instanceof Ja?I1(n,e):function(i,s){const l=w1(i,s),u=oA(l)+oA(i.Ie);return Aw(l)&&Aw(i.Ie)?_1(u):XE(i.serializer,u)}(n,e)}function Y4(n,e,t){return n instanceof Ya?E1(n,e):n instanceof Ja?I1(n,e):t}function w1(n,e){return n instanceof Hu?function(r){return Aw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class qu extends Wg{}class Ya extends Wg{constructor(e){super(),this.elements=e}}function E1(n,e){const t=T1(e);for(const r of n.elements)t.some(i=>Qi(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ja extends Wg{constructor(e){super(),this.elements=e}}function I1(n,e){let t=T1(e);for(const r of n.elements)t=t.filter(i=>!Qi(i,r));return{arrayValue:{values:t}}}class Hu extends Wg{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function oA(n){return Tt(n.integerValue||n.doubleValue)}function T1(n){return Ah(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t){this.field=e,this.transform=t}}function J4(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ya&&i instanceof Ya||r instanceof Ja&&i instanceof Ja?Vu(r.elements,i.elements,Qi):r instanceof Hu&&i instanceof Hu?Qi(r.Ie,i.Ie):r instanceof qu&&i instanceof qu}(n.transform,e.transform)}class X4{constructor(e,t){this.version=e,this.transformResults=t}}class Rt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rt}static exists(e){return new Rt(void 0,e)}static updateTime(e){return new Rt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class qg{}function S1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new pc(n.key,Rt.none()):new fc(n.key,n.data,Rt.none());{const t=n.data,r=Tn.empty();let i=new at(St.comparator);for(let s of e.fields)if(!i.has(s)){let l=t.field(s);l===null&&s.length>1&&(s=s.popLast(),l=t.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new $s(n.key,r,new nr(i.toArray()),Rt.none())}}function Z4(n,e,t){n instanceof fc?function(i,s,l){const u=i.value.clone(),d=lA(i.fieldTransforms,s,l.transformResults);u.setAll(d),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof $s?function(i,s,l){if(!vm(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=lA(i.fieldTransforms,s,l.transformResults),d=s.data;d.setAll(R1(i)),d.setAll(u),s.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function ih(n,e,t,r){return n instanceof fc?function(s,l,u,d){if(!vm(s.precondition,l))return u;const h=s.value.clone(),m=uA(s.fieldTransforms,d,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof $s?function(s,l,u,d){if(!vm(s.precondition,l))return u;const h=uA(s.fieldTransforms,d,l),m=l.data;return m.setAll(R1(s)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(s,l,u){return vm(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function ej(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=w1(r.transform,i||null);s!=null&&(t===null&&(t=Tn.empty()),t.set(r.field,s))}return t||null}function aA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vu(r,i,(s,l)=>J4(s,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class fc extends qg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $s extends qg{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function R1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function lA(n,e,t){const r=new Map;Re(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],l=s.transform,u=e.data.field(s.field);r.set(s.field,Y4(l,u,t[i]))}return r}function uA(n,e,t){const r=new Map;for(const i of n){const s=i.transform,l=t.data.field(i.field);r.set(i.field,Q4(s,l,e))}return r}class pc extends qg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZE extends qg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Z4(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ih(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ih(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=y1();return this.mutations.forEach(i=>{const s=e.get(i.key),l=s.overlayedDocument;let u=this.applyToLocalView(l,s.mutatedFields);u=t.has(i.key)?null:u;const d=S1(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(be.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&Vu(this.mutations,e.mutations,(t,r)=>aA(t,r))&&Vu(this.baseMutations,e.baseMutations,(t,r)=>aA(t,r))}}class t0{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Re(e.mutations.length===r.length);let i=function(){return H4}();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new t0(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,Je;function A1(n){switch(n){case te.OK:return Ee();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ee()}}function P1(n){if(n===void 0)return Bt("GRPC error has no .code"),te.UNKNOWN;switch(n){case Gt.OK:return te.OK;case Gt.CANCELLED:return te.CANCELLED;case Gt.UNKNOWN:return te.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return te.INTERNAL;case Gt.UNAVAILABLE:return te.UNAVAILABLE;case Gt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Gt.NOT_FOUND:return te.NOT_FOUND;case Gt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Gt.ABORTED:return te.ABORTED;case Gt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Gt.DATA_LOSS:return te.DATA_LOSS;default:return Ee()}}(Je=Gt||(Gt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=new bo([4294967295,4294967295],0);function cA(n){const e=b1().encode(n),t=new Sk;return t.update(e),new Uint8Array(t.digest())}function dA(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new bo([t,r],0),new bo([i,s],0)]}class r0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Gd(`Invalid padding: ${t}`);if(r<0)throw new Gd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Gd(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=bo.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(bo.fromNumber(r)));return i.compare(nj)===1&&(i=new bo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=cA(e),[r,i]=dA(t);for(let s=0;s<this.hashCount;s++){const l=this.Ae(r,i,s);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new r0(s,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=cA(e),[r,i]=dA(t);for(let s=0;s<this.hashCount;s++){const l=this.Ae(r,i,s);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Gd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,of.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new sf(be.min(),i,new pt(Le),rr(),Fe())}}class of{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new of(r,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class C1{constructor(e,t){this.targetId=e,this.ge=t}}class k1{constructor(e,t,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class hA{constructor(){this.pe=0,this.ye=fA(),this.we=Mt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Fe(),t=Fe(),r=Fe();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new of(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=fA()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Re(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class rj{constructor(e){this.ke=e,this.qe=new Map,this.Qe=rr(),this.$e=qp(),this.Ke=qp(),this.Ue=new pt(Le)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const s=i.target;if(Xm(s))if(r===0){const l=new _e(s.path);this.ze(t,l,_t.newNoDocument(l,be.min()))}else Re(r===1);else{const l=this.et(t);if(l!==r){const u=this.tt(e),d=u?this.nt(u,e,l):1;if(d!==0){this.Ye(t);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,h)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let l,u;try{l=Ns(r).toUint8Array()}catch(d){if(d instanceof Qk)return Gi("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new r0(l,i,s)}catch(d){return Gi(d instanceof Gd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ee===0?null:u}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,s,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((s,l)=>{const u=this.Xe(l);if(u){if(s.current&&Xm(u.target)){const d=new _e(u.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,_t.newNoDocument(d,e))}s.ve&&(t.set(l,s.Fe()),s.Me())}});let r=Fe();this.Ke.forEach((s,l)=>{let u=!0;l.forEachWhile(d=>{const h=this.Xe(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.Qe.forEach((s,l)=>l.setReadTime(e));const i=new sf(e,t,this.Ue,this.Qe,r);return this.Qe=rr(),this.$e=qp(),this.Ke=qp(),this.Ue=new pt(Le),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new hA,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new at(Le),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new at(Le),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new hA),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function qp(){return new pt(_e.comparator)}function fA(){return new pt(_e.comparator)}const ij={asc:"ASCENDING",desc:"DESCENDING"},sj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oj={and:"AND",or:"OR"};class aj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xw(n,e){return n.useProto3Json||Xh(e)?e:{value:e}}function Ku(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function lj(n,e){return Ku(n,e.toTimestamp())}function zt(n){return Re(!!n),be.fromTimestamp(function(t){const r=Os(t);return new At(r.seconds,r.nanos)}(n))}function i0(n,e){return Ow(n,e).canonicalString()}function Ow(n,e){const t=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function O1(n){const e=Be.fromString(n);return Re(B1(e)),e}function bh(n,e){return i0(n.databaseId,e.path)}function Wi(n,e){const t=O1(e);if(t.get(1)!==n.databaseId.projectId)throw new ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(L1(t))}function N1(n,e){return i0(n.databaseId,e)}function D1(n){const e=O1(n);return e.length===4?Be.emptyPath():L1(e)}function Nw(n){return new Be(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function L1(n){return Re(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function pA(n,e,t){return{name:bh(n,e),fields:t.value.mapValue.fields}}function V1(n,e,t){const r=Wi(n,e.name),i=zt(e.updateTime),s=e.createTime?zt(e.createTime):be.min(),l=new Tn({mapValue:{fields:e.fields}}),u=_t.newFoundDocument(r,i,s,l);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function uj(n,e){return"found"in e?function(r,i){Re(!!i.found),i.found.name,i.found.updateTime;const s=Wi(r,i.found.name),l=zt(i.found.updateTime),u=i.found.createTime?zt(i.found.createTime):be.min(),d=new Tn({mapValue:{fields:i.found.fields}});return _t.newFoundDocument(s,l,u,d)}(n,e):"missing"in e?function(r,i){Re(!!i.missing),Re(!!i.readTime);const s=Wi(r,i.missing),l=zt(i.readTime);return _t.newNoDocument(s,l)}(n,e):Ee()}function cj(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,m){return h.useProto3Json?(Re(m===void 0||typeof m=="string"),Mt.fromBase64String(m||"")):(Re(m===void 0||m instanceof Buffer||m instanceof Uint8Array),Mt.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(h){const m=h.code===void 0?te.UNKNOWN:P1(h.code);return new ae(m,h.message||"")}(l);t=new k1(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Wi(n,r.document.name),s=zt(r.document.updateTime),l=r.document.createTime?zt(r.document.createTime):be.min(),u=new Tn({mapValue:{fields:r.document.fields}}),d=_t.newFoundDocument(i,s,l,u),h=r.targetIds||[],m=r.removedTargetIds||[];t=new wm(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Wi(n,r.document),s=r.readTime?zt(r.readTime):be.min(),l=_t.newNoDocument(i,s),u=r.removedTargetIds||[];t=new wm([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Wi(n,r.document),s=r.removedTargetIds||[];t=new wm([],s,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new tj(i,s),u=r.targetId;t=new C1(u,l)}}return t}function Ch(n,e){let t;if(e instanceof fc)t={update:pA(n,e.key,e.value)};else if(e instanceof pc)t={delete:bh(n,e.key)};else if(e instanceof $s)t={update:pA(n,e.key,e.data),updateMask:gj(e.fieldMask)};else{if(!(e instanceof ZE))return Ee();t={verify:bh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const u=l.transform;if(u instanceof qu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ya)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ja)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Hu)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw Ee()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:lj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ee()}(n,e.precondition)),t}function Dw(n,e){const t=e.currentDocument?function(s){return s.updateTime!==void 0?Rt.updateTime(zt(s.updateTime)):s.exists!==void 0?Rt.exists(s.exists):Rt.none()}(e.currentDocument):Rt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,u){let d=null;if("setToServerValue"in u)Re(u.setToServerValue==="REQUEST_TIME"),d=new qu;else if("appendMissingElements"in u){const m=u.appendMissingElements.values||[];d=new Ya(m)}else if("removeAllFromArray"in u){const m=u.removeAllFromArray.values||[];d=new Ja(m)}else"increment"in u?d=new Hu(l,u.increment):Ee();const h=St.fromServerFormat(u.fieldPath);return new rf(h,d)}(n,i)):[];if(e.update){e.update.name;const i=Wi(n,e.update.name),s=new Tn({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=function(d){const h=d.fieldPaths||[];return new nr(h.map(m=>St.fromServerFormat(m)))}(e.updateMask);return new $s(i,s,l,t,r)}return new fc(i,s,t,r)}if(e.delete){const i=Wi(n,e.delete);return new pc(i,t)}if(e.verify){const i=Wi(n,e.verify);return new ZE(i,t)}return Ee()}function dj(n,e){return n&&n.length>0?(Re(e!==void 0),n.map(t=>function(i,s){let l=i.updateTime?zt(i.updateTime):zt(s);return l.isEqual(be.min())&&(l=zt(s)),new X4(l,i.transformResults||[])}(t,e))):[]}function M1(n,e){return{documents:[N1(n,e.path)]}}function F1(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=N1(n,i);const s=function(h){if(h.length!==0)return j1(ot.create(h,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const l=function(h){if(h.length!==0)return h.map(m=>function(_){return{field:Eu(_.field),direction:fj(_.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=xw(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:t,parent:i}}function U1(n){let e=D1(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Re(r===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let s=[];t.where&&(s=function(g){const _=$1(g);return _ instanceof ot&&QE(_)?_.getFilters():[_]}(t.where));let l=[];t.orderBy&&(l=function(g){return g.map(_=>function(I){return new Ph(Iu(I.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(_))}(t.orderBy));let u=null;t.limit&&(u=function(g){let _;return _=typeof g=="object"?g.value:g,Xh(_)?null:_}(t.limit));let d=null;t.startAt&&(d=function(g){const _=!!g.before,T=g.values||[];return new Uo(T,_)}(t.startAt));let h=null;return t.endAt&&(h=function(g){const _=!g.before,T=g.values||[];return new Uo(T,_)}(t.endAt)),d1(e,i,l,s,u,"F",d,h)}function hj(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function $1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Iu(t.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Iu(t.unaryFilter.field);return ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Iu(t.unaryFilter.field);return ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Iu(t.unaryFilter.field);return ze.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(n):n.fieldFilter!==void 0?function(t){return ze.create(Iu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ot.create(t.compositeFilter.filters.map(r=>$1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(t.compositeFilter.op))}(n):Ee()}function fj(n){return ij[n]}function pj(n){return sj[n]}function mj(n){return oj[n]}function Eu(n){return{fieldPath:n.canonicalString()}}function Iu(n){return St.fromServerFormat(n.fieldPath)}function j1(n){return n instanceof ze?function(t){if(t.op==="=="){if(XR(t.value))return{unaryFilter:{field:Eu(t.field),op:"IS_NAN"}};if(JR(t.value))return{unaryFilter:{field:Eu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(XR(t.value))return{unaryFilter:{field:Eu(t.field),op:"IS_NOT_NAN"}};if(JR(t.value))return{unaryFilter:{field:Eu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eu(t.field),op:pj(t.op),value:t.value}}}(n):n instanceof ot?function(t){const r=t.getFilters().map(i=>j1(i));return r.length===1?r[0]:{compositeFilter:{op:mj(t.op),filters:r}}}(n):Ee()}function gj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function B1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,t,r,i,s=be.min(),l=be.min(),u=Mt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.Tt=e}}function yj(n,e){let t;if(e.document)t=V1(n.Tt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=Za(e.noDocument.readTime);t=_t.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ee();{const r=_e.fromSegments(e.unknownDocument.path),i=Za(e.unknownDocument.version);t=_t.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new At(i[0],i[1]);return be.fromTimestamp(s)}(e.readTime)),t}function mA(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:tg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,l){return{name:bh(s,l.key),fields:l.data.value.mapValue.fields,updateTime:Ku(s,l.version.toTimestamp()),createTime:Ku(s,l.createTime.toTimestamp())}}(n.Tt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Xa(e.version)};else{if(!e.isUnknownDocument())return Ee();r.unknownDocument={path:t.path.toArray(),version:Xa(e.version)}}return r}function tg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Xa(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Za(n){const e=new At(n.seconds,n.nanoseconds);return be.fromTimestamp(e)}function La(n,e){const t=(e.baseMutations||[]).map(s=>Dw(n.Tt,s));for(let s=0;s<e.mutations.length-1;++s){const l=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const u=e.mutations[s+1];l.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>Dw(n.Tt,s)),i=At.fromMillis(e.localWriteTimeMs);return new e0(e.batchId,i,t,r)}function Qd(n){const e=Za(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Za(n.lastLimboFreeSnapshotVersion):be.min();let r;return r=function(s){return s.documents!==void 0}(n.query)?function(s){return Re(s.documents.length===1),Bn(hc(D1(s.documents[0])))}(n.query):function(s){return Bn(U1(s))}(n.query),new Ts(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Mt.fromBase64String(n.resumeToken))}function W1(n,e){const t=Xa(e.snapshotVersion),r=Xa(e.lastLimboFreeSnapshotVersion);let i;i=Xm(e.target)?M1(n.Tt,e.target):F1(n.Tt,e.target).ht;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Qa(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function s0(n){const e=U1({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?eg(e,e.limit,"L"):e}function Av(n,e){return new n0(e.largestBatchId,Dw(n.Tt,e.overlayMutation))}function gA(n,e){const t=e.path.lastSegment();return[n,Dn(e.path.popLast()),t]}function yA(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Xa(r.readTime),documentKey:Dn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{getBundleMetadata(e,t){return _A(e).get(t).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Za(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,t){return _A(e).put(function(i){return{bundleId:i.id,createTime:Xa(zt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return vA(e).get(t).next(r=>{if(r)return function(s){return{name:s.name,query:s0(s.bundledQuery),readTime:Za(s.readTime)}}(r)})}saveNamedQuery(e,t){return vA(e).put(function(i){return{name:i.name,readTime:Xa(zt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function _A(n){return an(n,Fg)}function vA(n){return an(n,Ug)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const r=t.uid||"";return new Hg(e,r)}getOverlay(e,t){return Id(e).get(gA(this.userId,t)).next(r=>r?Av(this.serializer,r):null)}getOverlays(e,t){const r=Fi();return G.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,l)=>{const u=new n0(t,l);i.push(this.Et(e,u))}),G.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(l=>i.add(Dn(l.getCollectionPath())));const s=[];return i.forEach(l=>{const u=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,r+1],!1,!0);s.push(Id(e).J(Iw,u))}),G.waitFor(s)}getOverlaysForCollection(e,t,r){const i=Fi(),s=Dn(t),l=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Id(e).G(Iw,l).next(u=>{for(const d of u){const h=Av(this.serializer,d);i.set(h.getKey(),h)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=Fi();let l;const u=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Id(e).Z({index:Wk,range:u},(d,h,m)=>{const g=Av(this.serializer,h);s.size()<i||g.largestBatchId===l?(s.set(g.getKey(),g),l=g.largestBatchId):m.done()}).next(()=>s)}Et(e,t){return Id(e).put(function(i,s,l){const[u,d,h]=gA(s,l.mutation.key);return{userId:s,collectionPath:d,documentId:h,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Ch(i.Tt,l.mutation)}}(this.serializer,this.userId,t))}}function Id(n){return an(n,$g)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{dt(e){return an(e,qE)}getSessionToken(e){return this.dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?Mt.fromUint8Array(r):Mt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(Tt(e.integerValue));else if("doubleValue"in e){const r=Tt(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),wh(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=Os(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.bt(t);else if("bytesValue"in e)this.ft(t,30),t.St(Ns(e.bytesValue)),this.bt(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?t1(e)?this.ft(t,Number.MAX_SAFE_INTEGER):zg(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.bt(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.bt(t)):Ee()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const r=e.fields||{};this.ft(t,55);for(const i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;const s=e.fields||{};this.ft(t,53);const l=Bu,u=((i=(r=s[l].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(Tt(u)),this.wt(l,t),this.Rt(s[l],t)}Ft(e,t){const r=e.values||[];this.ft(t,50);for(const i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),_e.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}bt(e){e.gt(2)}}Va.xt=new Va;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=255;function wj(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function wA(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const l=wj(255&r[s]);if(i+=l,l!==8)break}return i}(n);return Math.ceil(e/8)}class Ej{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Nt(r.value),r=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.kt(r.value),r=t.next();this.qt()}Qt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Nt(r);else if(r<2048)this.Nt(960|r>>>6),this.Nt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Nt(480|r>>>12),this.Nt(128|63&r>>>6),this.Nt(128|63&r);else{const i=t.codePointAt(0);this.Nt(240|i>>>18),this.Nt(128|63&i>>>12),this.Nt(128|63&i>>>6),this.Nt(128|63&i)}}this.Bt()}$t(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.kt(r);else if(r<2048)this.kt(960|r>>>6),this.kt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.kt(480|r>>>12),this.kt(128|63&r>>>6),this.kt(128|63&r);else{const i=t.codePointAt(0);this.kt(240|i>>>18),this.kt(128|63&i>>>12),this.kt(128|63&i>>>6),this.kt(128|63&i)}}this.qt()}Kt(e){const t=this.Ut(e),r=wA(t);this.Wt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Gt(e){const t=this.Ut(e),r=wA(t);this.Wt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}zt(){this.jt(su),this.jt(255)}Ht(){this.Jt(su),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){const t=function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Nt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===su?(this.jt(su),this.jt(0)):this.jt(t)}kt(e){const t=255&e;t===0?(this.Jt(0),this.Jt(255)):t===su?(this.Jt(su),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Ij{constructor(e){this.Zt=e}St(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class Tj{constructor(e){this.Zt=e}St(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class Td{constructor(){this.Zt=new Ej,this.Xt=new Ij(this.Zt),this.en=new Tj(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return e===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}nn(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ma(this.indexId,this.documentKey,this.arrayValue,r)}}function go(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=EA(n.arrayValue,e.arrayValue),t!==0?t:(t=EA(n.directionalValue,e.directionalValue),t!==0?t:_e.comparator(n.documentKey,e.documentKey)))}function EA(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.rn=new at((t,r)=>St.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const r=t;r.isInequality()?this.rn=this.rn.add(r):this._n.push(r)}}get an(){return this.rn.size>1}un(e){if(Re(e.collectionGroup===this.collectionId),this.an)return!1;const t=vw(e);if(t!==void 0&&!this.cn(t))return!1;const r=Oa(e);let i=new Set,s=0,l=0;for(;s<r.length&&this.cn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.rn.size>0){const u=this.rn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const d=r[s];if(!this.ln(u,d)||!this.hn(this.sn[l++],d))return!1}++s}for(;s<r.length;++s){const u=r[s];if(l>=this.sn.length||!this.hn(this.sn[l++],u))return!1}return!0}Pn(){if(this.an)return null;let e=new at(St.comparator);const t=[];for(const r of this._n)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new fm(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new fm(r.field,0))}for(const r of this.sn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new fm(r.field,r.dir==="asc"?0:1)));return new Hm(Hm.UNKNOWN_ID,this.collectionId,t,vh.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(n){var e,t;if(Re(n instanceof ze||n instanceof ot),n instanceof ze){if(n instanceof c1){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(s=>ze.create(n.field,"==",s)))||[];return ot.create(i,"or")}return n}const r=n.filters.map(i=>q1(i));return ot.create(r,n.op)}function Sj(n){if(n.getFilters().length===0)return[];const e=Mw(q1(n));return Re(H1(e)),Lw(e)||Vw(e)?[e]:e.getFilters()}function Lw(n){return n instanceof ze}function Vw(n){return n instanceof ot&&QE(n)}function H1(n){return Lw(n)||Vw(n)||function(t){if(t instanceof ot&&Pw(t)){for(const r of t.getFilters())if(!Lw(r)&&!Vw(r))return!1;return!0}return!1}(n)}function Mw(n){if(Re(n instanceof ze||n instanceof ot),n instanceof ze)return n;if(n.filters.length===1)return Mw(n.filters[0]);const e=n.filters.map(r=>Mw(r));let t=ot.create(e,n.op);return t=ng(t),H1(t)?t:(Re(t instanceof ot),Re(Wu(t)),Re(t.filters.length>1),t.filters.reduce((r,i)=>o0(r,i)))}function o0(n,e){let t;return Re(n instanceof ze||n instanceof ot),Re(e instanceof ze||e instanceof ot),t=n instanceof ze?e instanceof ze?function(i,s){return ot.create([i,s],"and")}(n,e):TA(n,e):e instanceof ze?TA(e,n):function(i,s){if(Re(i.filters.length>0&&s.filters.length>0),Wu(i)&&Wu(s))return a1(i,s.getFilters());const l=Pw(i)?i:s,u=Pw(i)?s:i,d=l.filters.map(h=>o0(h,u));return ot.create(d,"or")}(n,e),ng(t)}function TA(n,e){if(Wu(e))return a1(e,n.getFilters());{const t=e.filters.map(r=>o0(n,r));return ot.create(t,"or")}}function ng(n){if(Re(n instanceof ze||n instanceof ot),n instanceof ze)return n;const e=n.getFilters();if(e.length===1)return ng(e[0]);if(s1(n))return n;const t=e.map(i=>ng(i)),r=[];return t.forEach(i=>{i instanceof ze?r.push(i):i instanceof ot&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ot.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(){this.Tn=new a0}addToCollectionParentIndex(e,t){return this.Tn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(Sr.min())}updateCollectionGroup(e,t,r){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class a0{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new at(Be.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="IndexedDbIndexManager",Hp=new Uint8Array(0);class Aj{constructor(e,t){this.databaseId=t,this.In=new a0,this.En=new Us(r=>Qa(r),(r,i)=>ef(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.In.add(t)});const s={collectionId:r,parent:Dn(i)};return RA(e).put(s)}return G.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Ok(t),""],!1,!0);return RA(e).G(i).next(s=>{for(const l of s){if(l.collectionId!==t)break;r.push(Mi(l.parent))}return r})}addFieldIndex(e,t){const r=Sd(e),i=function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete i.indexId;const s=r.add(i);if(t.indexState){const l=au(e);return s.next(u=>{l.put(yA(u,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=Sd(e),i=au(e),s=ou(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Sd(e),r=ou(e),i=au(e);return t.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,t){return G.forEach(this.dn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new IA(r).Pn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=ou(e);let i=!0;const s=new Map;return G.forEach(this.dn(t),l=>this.An(e,l).next(u=>{i&&(i=!!u),s.set(l,u)})).next(()=>{if(i){let l=Fe();const u=[];return G.forEach(s,(d,h)=>{ue(SA,`Using index ${function(M){return`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(W=>`${W.fieldPath}:${W.kind}`).join(",")}`}(d)} to execute ${Qa(t)}`);const m=function(M,W){const j=vw(W);if(j===void 0)return null;for(const q of Zm(M,j.fieldPath))switch(q.op){case"array-contains-any":return q.value.arrayValue.values||[];case"array-contains":return[q.value]}return null}(h,d),g=function(M,W){const j=new Map;for(const q of Oa(W))for(const D of Zm(M,q.fieldPath))switch(D.op){case"==":case"in":j.set(q.fieldPath.canonicalString(),D.value);break;case"not-in":case"!=":return j.set(q.fieldPath.canonicalString(),D.value),Array.from(j.values())}return null}(h,d),_=function(M,W){const j=[];let q=!0;for(const D of Oa(W)){const P=D.kind===0?rA(M,D.fieldPath,M.startAt):iA(M,D.fieldPath,M.startAt);j.push(P.value),q&&(q=P.inclusive)}return new Uo(j,q)}(h,d),T=function(M,W){const j=[];let q=!0;for(const D of Oa(W)){const P=D.kind===0?iA(M,D.fieldPath,M.endAt):rA(M,D.fieldPath,M.endAt);j.push(P.value),q&&(q=P.inclusive)}return new Uo(j,q)}(h,d),I=this.Rn(d,h,_),R=this.Rn(d,h,T),A=this.Vn(d,h,g),V=this.mn(d.indexId,m,I,_.inclusive,R,T.inclusive,A);return G.forEach(V,L=>r.H(L,t.limit).next(M=>{M.forEach(W=>{const j=_e.fromSegments(W.documentKey);l.has(j)||(l=l.add(j),u.push(j))})}))}).next(()=>u)}return G.resolve(null)})}dn(e){let t=this.En.get(e);return t||(e.filters.length===0?t=[e]:t=Sj(ot.create(e.filters,"and")).map(r=>Cw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,t),t)}mn(e,t,r,i,s,l,u){const d=(t!=null?t.length:1)*Math.max(r.length,s.length),h=d/(t!=null?t.length:1),m=[];for(let g=0;g<d;++g){const _=t?this.fn(t[g/h]):Hp,T=this.gn(e,_,r[g%h],i),I=this.pn(e,_,s[g%h],l),R=u.map(A=>this.gn(e,_,A,!0));m.push(...this.createRange(T,I,R))}return m}gn(e,t,r,i){const s=new Ma(e,_e.empty(),t,r);return i?s:s.nn()}pn(e,t,r,i){const s=new Ma(e,_e.empty(),t,r);return i?s.nn():s}An(e,t){const r=new IA(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let l=null;for(const u of s)r.un(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l})}getIndexType(e,t){let r=2;const i=this.dn(t);return G.forEach(i,s=>this.An(e,s).next(l=>{l?r!==0&&l.fields.length<function(d){let h=new at(St.comparator),m=!1;for(const g of d.filters)for(const _ of g.getFlattenedFilters())_.field.isKeyField()||(_.op==="array-contains"||_.op==="array-contains-any"?m=!0:h=h.add(_.field));for(const g of d.orderBy)g.field.isKeyField()||(h=h.add(g.field));return h.size+(m?1:0)}(s)&&(r=1):r=0})).next(()=>function(l){return l.limit!==null}(t)&&i.length>1&&r===2?1:r)}yn(e,t){const r=new Td;for(const i of Oa(e)){const s=t.data.field(i.fieldPath);if(s==null)return null;const l=r.tn(i.kind);Va.xt.At(s,l)}return r.Yt()}fn(e){const t=new Td;return Va.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const r=new Td;return Va.xt.At(Ga(this.databaseId,t),r.tn(function(s){const l=Oa(s);return l.length===0?0:l[l.length-1].kind}(e))),r.Yt()}Vn(e,t,r){if(r===null)return[];let i=[];i.push(new Td);let s=0;for(const l of Oa(e)){const u=r[s++];for(const d of i)if(this.bn(t,l.fieldPath)&&Ah(u))i=this.Sn(i,l,u);else{const h=d.tn(l.kind);Va.xt.At(u,h)}}return this.Dn(i)}Rn(e,t,r){return this.Vn(e,t,r.position)}Dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Yt();return t}Sn(e,t,r){const i=[...e],s=[];for(const l of r.arrayValue.values||[])for(const u of i){const d=new Td;d.seed(u.Yt()),Va.xt.At(l,d.tn(t.kind)),s.push(d)}return s}bn(e,t){return!!e.filters.find(r=>r instanceof ze&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=Sd(e),i=au(e);return(t?r.G(Ew,IDBKeyRange.bound(t,t)):r.G()).next(s=>{const l=[];return G.forEach(s,u=>i.get([u.indexId,this.uid]).next(d=>{l.push(function(m,g){const _=g?new vh(g.sequenceNumber,new Sr(Za(g.readTime),new _e(Mi(g.documentKey)),g.largestBatchId)):vh.empty(),T=m.fields.map(([I,R])=>new fm(St.fromServerFormat(I),R));return new Hm(m.indexId,m.collectionGroup,T,_)}(u,d))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:Le(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=Sd(e),s=au(e);return this.vn(e).next(l=>i.G(Ew,IDBKeyRange.bound(t,t)).next(u=>G.forEach(u,d=>s.put(yA(d.indexId,this.uid,l,r)))))}updateIndexEntries(e,t){const r=new Map;return G.forEach(t,(i,s)=>{const l=r.get(i.collectionGroup);return(l?G.resolve(l):this.getFieldIndexes(e,i.collectionGroup)).next(u=>(r.set(i.collectionGroup,u),G.forEach(u,d=>this.Cn(e,i,d).next(h=>{const m=this.Fn(s,d);return h.isEqual(m)?G.resolve():this.Mn(e,s,d,h,m)}))))})}xn(e,t,r,i){return ou(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.wn(r,t.key),documentKey:t.key.path.toArray()})}On(e,t,r,i){return ou(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.wn(r,t.key),t.key.path.toArray()])}Cn(e,t,r){const i=ou(e);let s=new at(go);return i.Z({index:zk,range:IDBKeyRange.only([r.indexId,this.uid,this.wn(r,t)])},(l,u)=>{s=s.add(new Ma(r.indexId,t,u.arrayValue,u.directionalValue))}).next(()=>s)}Fn(e,t){let r=new at(go);const i=this.yn(t,e);if(i==null)return r;const s=vw(t);if(s!=null){const l=e.data.field(s.fieldPath);if(Ah(l))for(const u of l.arrayValue.values||[])r=r.add(new Ma(t.indexId,e.key,this.fn(u),i))}else r=r.add(new Ma(t.indexId,e.key,Hp,i));return r}Mn(e,t,r,i,s){ue(SA,"Updating index entries for document '%s'",t.key);const l=[];return function(d,h,m,g,_){const T=d.getIterator(),I=h.getIterator();let R=iu(T),A=iu(I);for(;R||A;){let V=!1,L=!1;if(R&&A){const M=m(R,A);M<0?L=!0:M>0&&(V=!0)}else R!=null?L=!0:V=!0;V?(g(A),A=iu(I)):L?(_(R),R=iu(T)):(R=iu(T),A=iu(I))}}(i,s,go,u=>{l.push(this.xn(e,t,r,u))},u=>{l.push(this.On(e,t,r,u))}),G.waitFor(l)}vn(e){let t=1;return au(e).Z({index:Bk,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((l,u)=>go(l,u)).filter((l,u,d)=>!u||go(l,d[u-1])!==0);const i=[];i.push(e);for(const l of r){const u=go(l,e),d=go(l,t);if(u===0)i[0]=e.nn();else if(u>0&&d<0)i.push(l),i.push(l.nn());else if(d>0)break}i.push(t);const s=[];for(let l=0;l<i.length;l+=2){if(this.Nn(i[l],i[l+1]))return[];const u=[i[l].indexId,this.uid,i[l].arrayValue,i[l].directionalValue,Hp,[]],d=[i[l+1].indexId,this.uid,i[l+1].arrayValue,i[l+1].directionalValue,Hp,[]];s.push(IDBKeyRange.bound(u,d))}return s}Nn(e,t){return go(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(AA)}getMinOffset(e,t){return G.mapArray(this.dn(t),r=>this.An(e,r).next(i=>i||Ee())).next(AA)}}function RA(n){return an(n,Th)}function ou(n){return an(n,Jm)}function Sd(n){return an(n,WE)}function au(n){return an(n,Ym)}function AA(n){Re(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;jE(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Sr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},K1=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(n,e,t){const r=n.store(ai),i=n.store(Fu),s=[],l=IDBKeyRange.only(t.batchId);let u=0;const d=r.Z({range:l},(m,g,_)=>(u++,_.delete()));s.push(d.next(()=>{Re(u===1)}));const h=[];for(const m of t.mutations){const g=Uk(e,m.key.path,t.batchId);s.push(i.delete(g)),h.push(m.key)}return G.waitFor(s).next(()=>h)}function rg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ee();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(K1,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class Kg{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Bn={}}static It(e,t,r,i){Re(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Kg(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yo(e).Z({index:Ua,range:r},(i,s,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Tu(e),l=yo(e);return l.add({}).next(u=>{Re(typeof u=="number");const d=new e0(u,t,r,i),h=function(T,I,R){const A=R.baseMutations.map(L=>Ch(T.Tt,L)),V=R.mutations.map(L=>Ch(T.Tt,L));return{userId:I,batchId:R.batchId,localWriteTimeMs:R.localWriteTime.toMillis(),baseMutations:A,mutations:V}}(this.serializer,this.userId,d),m=[];let g=new at((_,T)=>Le(_.canonicalString(),T.canonicalString()));for(const _ of i){const T=Uk(this.userId,_.key.path,u);g=g.add(_.key.path.popLast()),m.push(l.put(h)),m.push(s.put(T,o4))}return g.forEach(_=>{m.push(this.indexManager.addToCollectionParentIndex(e,_))}),e.addOnCommittedListener(()=>{this.Bn[u]=d.keys()}),G.waitFor(m).next(()=>d)})}lookupMutationBatch(e,t){return yo(e).get(t).next(r=>r?(Re(r.userId===this.userId),La(this.serializer,r)):null)}Ln(e,t){return this.Bn[t]?G.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return yo(e).Z({index:Ua,range:i},(l,u,d)=>{u.userId===this.userId&&(Re(u.batchId>=r),s=La(this.serializer,u)),d.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Co;return yo(e).Z({index:Ua,range:t,reverse:!0},(i,s,l)=>{r=s.batchId,l.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Co],[this.userId,Number.POSITIVE_INFINITY]);return yo(e).G(Ua,t).next(r=>r.map(i=>La(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=pm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Tu(e).Z({range:i},(l,u,d)=>{const[h,m,g]=l,_=Mi(m);if(h===this.userId&&t.path.isEqual(_))return yo(e).get(g).next(T=>{if(!T)throw Ee();Re(T.userId===this.userId),s.push(La(this.serializer,T))});d.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new at(Le);const i=[];return t.forEach(s=>{const l=pm(this.userId,s.path),u=IDBKeyRange.lowerBound(l),d=Tu(e).Z({range:u},(h,m,g)=>{const[_,T,I]=h,R=Mi(T);_===this.userId&&s.path.isEqual(R)?r=r.add(I):g.done()});i.push(d)}),G.waitFor(i).next(()=>this.kn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=pm(this.userId,r),l=IDBKeyRange.lowerBound(s);let u=new at(Le);return Tu(e).Z({range:l},(d,h,m)=>{const[g,_,T]=d,I=Mi(_);g===this.userId&&r.isPrefixOf(I)?I.length===i&&(u=u.add(T)):m.done()}).next(()=>this.kn(e,u))}kn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(yo(e).get(s).next(l=>{if(l===null)throw Ee();Re(l.userId===this.userId),r.push(La(this.serializer,l))}))}),G.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return G1(e.ue,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.qn(t.batchId)}),G.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return G.resolve();const r=IDBKeyRange.lowerBound(function(l){return[l]}(this.userId)),i=[];return Tu(e).Z({range:r},(s,l,u)=>{if(s[0]===this.userId){const d=Mi(s[1]);i.push(d)}else u.done()}).next(()=>{Re(i.length===0)})})}containsKey(e,t){return Q1(e,this.userId,t)}Qn(e){return Y1(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:Co,lastStreamToken:""})}}function Q1(n,e,t){const r=pm(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let l=!1;return Tu(n).Z({range:s,Y:!0},(u,d,h)=>{const[m,g,_]=u;m===e&&g===i&&(l=!0),h.done()}).next(()=>l)}function yo(n){return an(n,ai)}function Tu(n){return an(n,Fu)}function Y1(n){return an(n,Eh)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new el(0)}static Un(){return new el(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next(t=>{const r=new el(t.highestTargetId);return t.highestTargetId=r.next(),this.Gn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(t=>be.fromTimestamp(new At(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Wn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Gn(e,i)))}addTargetData(e,t){return this.zn(e,t).next(()=>this.Wn(e).next(r=>(r.targetCount+=1,this.jn(t,r),this.Gn(e,r))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>lu(e).delete(t.targetId)).next(()=>this.Wn(e)).next(r=>(Re(r.targetCount>0),r.targetCount-=1,this.Gn(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return lu(e).Z((l,u)=>{const d=Qd(u);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,s.push(this.removeTargetData(e,d)))}).next(()=>G.waitFor(s)).next(()=>i)}forEachTarget(e,t){return lu(e).Z((r,i)=>{const s=Qd(i);t(s)})}Wn(e){return bA(e).get(Qm).next(t=>(Re(t!==null),t))}Gn(e,t){return bA(e).put(Qm,t)}zn(e,t){return lu(e).put(W1(this.serializer,t))}jn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Wn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Qa(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return lu(e).Z({range:i,index:jk},(l,u,d)=>{const h=Qd(u);ef(t,h.target)&&(s=h,d.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=Io(e);return t.forEach(l=>{const u=Dn(l.path);i.push(s.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,l))}),G.waitFor(i)}removeMatchingKeys(e,t,r){const i=Io(e);return G.forEach(t,s=>{const l=Dn(s.path);return G.waitFor([i.delete([r,l]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=Io(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Io(e);let s=Fe();return i.Z({range:r,Y:!0},(l,u,d)=>{const h=Mi(l[1]),m=new _e(h);s=s.add(m)}).next(()=>s)}containsKey(e,t){const r=Dn(t.path),i=IDBKeyRange.bound([r],[Ok(r)],!1,!0);let s=0;return Io(e).Z({index:zE,Y:!0,range:i},([l,u],d,h)=>{l!==0&&(s++,h.done())}).next(()=>s>0)}lt(e,t){return lu(e).get(t).next(r=>r?Qd(r):null)}}function lu(n){return an(n,Uu)}function bA(n){return an(n,Wa)}function Io(n){return an(n,$u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="LruGarbageCollector",bj=1048576;function kA([n,e],[t,r]){const i=Le(n,t);return i===0?Le(e,r):i}class Cj{constructor(e){this.Hn=e,this.buffer=new at(kA),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();kA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class J1{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(CA,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Jo(t)?ue(CA,"Ignoring IndexedDB error during garbage collection: ",t):await Yo(t)}await this.er(3e5)})}}class kj{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return G.resolve(tr.ae);const r=new Cj(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(PA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PA):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,s,l,u,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,u=Date.now(),this.removeTargets(e,r,t))).next(g=>(s=g,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),vu()<=Ue.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${s} targets in `+(d-u)+`ms
	Removed ${g} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}function X1(n,e){return new kj(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,t){this.db=e,this.garbageCollector=X1(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,(r,i)=>t(i))}addReference(e,t,r){return Kp(e,r)}removeReference(e,t,r){return Kp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Kp(e,t)}ar(e,t){return function(i,s){let l=!1;return Y1(i).X(u=>Q1(i,u,s).next(d=>(d&&(l=!0),G.resolve(!d)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this._r(e,(l,u)=>{if(u<=t){const d=this.ar(e,l).next(h=>{if(!h)return s++,r.getEntry(e,l).next(()=>(r.removeEntry(l,be.min()),Io(e).delete(function(g){return[0,Dn(g.path)]}(l))))});i.push(d)}}).next(()=>G.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Kp(e,t)}_r(e,t){const r=Io(e);let i,s=tr.ae;return r.Z({index:zE},([l,u],{path:d,sequenceNumber:h})=>{l===0?(s!==tr.ae&&t(new _e(Mi(i)),s),s=h,i=d):s=tr.ae}).next(()=>{s!==tr.ae&&t(new _e(Mi(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Kp(n,e){return Io(n).put(function(r,i){return{targetId:0,path:Dn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.changes=new Us(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?G.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Ca(e).put(r)}removeEntry(e,t,r){return Ca(e).delete(function(s,l){const u=s.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],tg(l),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.ur(e,r)))}getEntry(e,t){let r=_t.newInvalidDocument(t);return Ca(e).Z({index:mm,range:IDBKeyRange.only(Rd(t))},(i,s)=>{r=this.cr(t,s)}).next(()=>r)}lr(e,t){let r={size:0,document:_t.newInvalidDocument(t)};return Ca(e).Z({index:mm,range:IDBKeyRange.only(Rd(t))},(i,s)=>{r={document:this.cr(t,s),size:rg(s)}}).next(()=>r)}getEntries(e,t){let r=rr();return this.hr(e,t,(i,s)=>{const l=this.cr(i,s);r=r.insert(i,l)}).next(()=>r)}Pr(e,t){let r=rr(),i=new pt(_e.comparator);return this.hr(e,t,(s,l)=>{const u=this.cr(s,l);r=r.insert(s,u),i=i.insert(s,rg(l))}).next(()=>({documents:r,Tr:i}))}hr(e,t,r){if(t.isEmpty())return G.resolve();let i=new at(NA);t.forEach(d=>i=i.add(d));const s=IDBKeyRange.bound(Rd(i.first()),Rd(i.last())),l=i.getIterator();let u=l.getNext();return Ca(e).Z({index:mm,range:s},(d,h,m)=>{const g=_e.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;u&&NA(u,g)<0;)r(u,null),u=l.getNext();u&&u.isEqual(g)&&(r(u,h),u=l.hasNext()?l.getNext():null),u?m.W(Rd(u)):m.done()}).next(()=>{for(;u;)r(u,null),u=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),tg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ca(e).G(IDBKeyRange.bound(u,d,!0)).next(h=>{s==null||s.incrementDocumentReadCount(h.length);let m=rr();for(const g of h){const _=this.cr(_e.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);_.isFoundDocument()&&(nf(t,_)||i.has(_.key))&&(m=m.insert(_.key,_))}return m})}getAllFromCollectionGroup(e,t,r,i){let s=rr();const l=OA(t,r),u=OA(t,Sr.max());return Ca(e).Z({index:$k,range:IDBKeyRange.bound(l,u,!0)},(d,h,m)=>{const g=this.cr(_e.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);s=s.insert(g.key,g),s.size===i&&m.done()}).next(()=>s)}newChangeBuffer(e){return new Nj(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return xA(e).get(ww).next(t=>(Re(!!t),t))}ur(e,t){return xA(e).put(ww,t)}cr(e,t){if(t){const r=yj(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(be.min())))return r}return _t.newInvalidDocument(e)}}function ex(n){return new Oj(n)}class Nj extends Z1{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new Us(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new at((s,l)=>Le(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const u=this.Er.get(s);if(t.push(this.Ir.removeEntry(e,s,u.readTime)),l.isValidDocument()){const d=mA(this.Ir.serializer,l);i=i.add(s.path.popLast());const h=rg(d);r+=h-u.size,t.push(this.Ir.addEntry(e,s,d))}else if(r-=u.size,this.trackRemovals){const d=mA(this.Ir.serializer,l.convertToNoDocument(be.min()));t.push(this.Ir.addEntry(e,s,d))}}),i.forEach(s=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Ir.updateMetadata(e,r)),G.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next(r=>(this.Er.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next(({documents:r,Tr:i})=>(i.forEach((s,l)=>{this.Er.set(s,{size:l,readTime:r.get(s).readTime})}),r))}}function xA(n){return an(n,Ih)}function Ca(n){return an(n,Gm)}function Rd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function OA(n,e){const t=e.documentKey.path.toArray();return[n,tg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function NA(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Le(t[s],r[s]),i)return i;return i=Le(t.length,r.length),i||(i=Le(t[t.length-2],r[r.length-2]),i||Le(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&ih(r.mutation,i,nr.empty(),At.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Fe()){const i=Fi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let l=Kd();return s.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Fi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Fe()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let s=rr();const l=rh(),u=function(){return rh()}();return t.forEach((d,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof $s)?s=s.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),ih(m.mutation,h,m.mutation.getFieldMask(),At.now())):l.set(h.key,nr.empty())}),this.recalculateAndSaveOverlays(e,s).next(d=>(d.forEach((h,m)=>l.set(h,m)),t.forEach((h,m)=>{var g;return u.set(h,new Dj(m,(g=l.get(h))!==null&&g!==void 0?g:null))}),u))}recalculateAndSaveOverlays(e,t){const r=rh();let i=new pt((l,u)=>l-u),s=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(d=>{const h=t.get(d);if(h===null)return;let m=r.get(d)||nr.empty();m=u.applyToLocalView(h,m),r.set(d,m);const g=(i.get(u.batchId)||Fe()).add(d);i=i.insert(u.batchId,g)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),h=d.key,m=d.value,g=y1();m.forEach(_=>{if(!s.has(_)){const T=S1(t.get(_),r.get(_));T!==null&&g.set(_,T),s=s.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return G.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):YE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):G.resolve(Fi());let u=Mu,d=s;return l.next(h=>G.forEach(h,(m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(m)?G.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{d=d.insert(m,_)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,d,h,Fe())).next(m=>({batchId:u,changes:g1(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let i=Kd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let l=Kd();return this.indexManager.getCollectionParents(e,s).next(u=>G.forEach(u,d=>{const h=function(g,_){return new Fs(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,d.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(m=>{m.forEach((g,_)=>{l=l.insert(g,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(l=>{s.forEach((d,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,_t.newInvalidDocument(m)))});let u=Kd();return l.forEach((d,h)=>{const m=s.get(d);m!==void 0&&ih(m.mutation,h,nr.empty(),At.now()),nf(t,h)&&(u=u.insert(d,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return G.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:zt(i.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:s0(i.bundledQuery),readTime:zt(i.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(){this.overlays=new pt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Fi();return G.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Et(e,t,s)}),G.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),G.resolve()}getOverlaysForCollection(e,t,r){const i=Fi(),s=t.length+1,l=new _e(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,h=d.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&d.largestBatchId>r&&i.set(d.getKey(),d)}return G.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new pt((h,m)=>h-m);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let m=s.get(h.largestBatchId);m===null&&(m=Fi(),s=s.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=Fi(),d=s.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,m)=>u.set(h,m)),!(u.size()>=i)););return G.resolve(u)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new n0(t,r));let s=this.Rr.get(t);s===void 0&&(s=Fe(),this.Rr.set(t,s)),this.Rr.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.Vr=new at(fn.mr),this.gr=new at(fn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new fn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new fn(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new _e(new Be([])),r=new fn(t,e),i=new fn(t,e+1),s=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),s.push(l.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new Be([])),r=new fn(t,e),i=new fn(t,e+1);let s=Fe();return this.gr.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new fn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class fn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||Le(e.Cr,t.Cr)}static pr(e,t){return Le(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new at(fn.mr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new e0(s,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Mr=this.Mr.add(new fn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return G.resolve(l)}lookupMutationBatch(e,t){return G.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),s=i<0?0:i;return G.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?Co:this.Fr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new fn(t,0),i=new fn(t,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],l=>{const u=this.Or(l.Cr);s.push(u)}),G.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new at(Le);return t.forEach(i=>{const s=new fn(i,0),l=new fn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,l],u=>{r=r.add(u.Cr)})}),G.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const l=new fn(new _e(s),0);let u=new at(Le);return this.Mr.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(u=u.add(d.Cr)),!0)},l),G.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Re(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return G.forEach(t.mutations,i=>{const s=new fn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new fn(t,0),i=this.Mr.firstAfterOrEqual(r);return G.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e){this.kr=e,this.docs=function(){return new pt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return G.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(t))}getEntries(e,t){let r=rr();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_t.newInvalidDocument(i))}),G.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=rr();const l=t.path,u=new _e(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||jE(Dk(m),r)<=0||(i.has(m.key)||nf(t,m))&&(s=s.insert(m.key,m.mutableCopy()))}return G.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ee()}qr(e,t){return G.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new $j(this)}getSize(e){return G.resolve(this.size)}}class $j extends Z1{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),G.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e){this.persistence=e,this.Qr=new Us(t=>Qa(t),ef),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Kr=new l0,this.targetCount=0,this.Ur=el.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),G.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new el(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.zn(t),G.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Qr.delete(l),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),G.waitFor(s).next(()=>i)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return G.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),G.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),G.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return G.resolve(r)}containsKey(e,t){return G.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new tr(0),this.zr=!1,this.zr=!0,this.jr=new Mj,this.referenceDelegate=e(this),this.Hr=new jj(this),this.indexManager=new Rj,this.remoteDocumentCache=function(i){return new Uj(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new z1(t),this.Yr=new Lj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Vj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new Fj(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const i=new Bj(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,t){return G.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class Bj extends Vk{constructor(e){super(),this.currentSequenceNumber=e}}class Gg{constructor(e){this.persistence=e,this.ti=new l0,this.ni=null}static ri(e){return new Gg(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),G.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),G.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(e,i).next(s=>{s||t.removeEntry(i,be.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return G.or([()=>G.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class ig{constructor(e,t){this.persistence=e,this.oi=new Us(r=>Dn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=X1(this,t)}static ri(e,t){return new ig(e,t)}Zr(){}Xr(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return G.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?G.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(u=>{u||(r++,s.removeEntry(l,be.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),G.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ym(e.data.value)),t}ar(e,t,r){return G.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return G.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e){this.serializer=e}B(e,t,r,i){const s=new Mg("createOrUpgrade",t);r<1&&i>=1&&(function(d){d.createObjectStore(Zh)}(e),function(d){d.createObjectStore(Eh,{keyPath:s4}),d.createObjectStore(ai,{keyPath:qR,autoIncrement:!0}).createIndex(Ua,HR,{unique:!0}),d.createObjectStore(Fu)}(e),DA(e),function(d){d.createObjectStore(Na)}(e));let l=G.resolve();return r<3&&i>=3&&(r!==0&&(function(d){d.deleteObjectStore($u),d.deleteObjectStore(Uu),d.deleteObjectStore(Wa)}(e),DA(e)),l=l.next(()=>function(d){const h=d.store(Wa),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:be.min().toTimestamp(),targetCount:0};return h.put(Qm,m)}(s))),r<4&&i>=4&&(r!==0&&(l=l.next(()=>function(d,h){return h.store(ai).G().next(g=>{d.deleteObjectStore(ai),d.createObjectStore(ai,{keyPath:qR,autoIncrement:!0}).createIndex(Ua,HR,{unique:!0});const _=h.store(ai),T=g.map(I=>_.put(I));return G.waitFor(T)})}(e,s))),l=l.next(()=>{(function(d){d.createObjectStore(ju,{keyPath:p4})})(e)})),r<5&&i>=5&&(l=l.next(()=>this._i(s))),r<6&&i>=6&&(l=l.next(()=>(function(d){d.createObjectStore(Ih)}(e),this.ai(s)))),r<7&&i>=7&&(l=l.next(()=>this.ui(s))),r<8&&i>=8&&(l=l.next(()=>this.ci(e,s))),r<9&&i>=9&&(l=l.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(l=l.next(()=>this.li(s))),r<11&&i>=11&&(l=l.next(()=>{(function(d){d.createObjectStore(Fg,{keyPath:m4})})(e),function(d){d.createObjectStore(Ug,{keyPath:g4})}(e)})),r<12&&i>=12&&(l=l.next(()=>{(function(d){const h=d.createObjectStore($g,{keyPath:T4});h.createIndex(Iw,S4,{unique:!1}),h.createIndex(Wk,R4,{unique:!1})})(e)})),r<13&&i>=13&&(l=l.next(()=>function(d){const h=d.createObjectStore(Gm,{keyPath:a4});h.createIndex(mm,l4),h.createIndex($k,u4)}(e)).next(()=>this.hi(e,s)).next(()=>e.deleteObjectStore(Na))),r<14&&i>=14&&(l=l.next(()=>this.Pi(e,s))),r<15&&i>=15&&(l=l.next(()=>function(d){d.createObjectStore(WE,{keyPath:y4,autoIncrement:!0}).createIndex(Ew,_4,{unique:!1}),d.createObjectStore(Ym,{keyPath:v4}).createIndex(Bk,w4,{unique:!1}),d.createObjectStore(Jm,{keyPath:E4}).createIndex(zk,I4,{unique:!1})}(e))),r<16&&i>=16&&(l=l.next(()=>{t.objectStore(Ym).clear()}).next(()=>{t.objectStore(Jm).clear()})),r<17&&i>=17&&(l=l.next(()=>{(function(d){d.createObjectStore(qE,{keyPath:A4})})(e)})),l}ai(e){let t=0;return e.store(Na).Z((r,i)=>{t+=rg(i)}).next(()=>{const r={byteSize:t};return e.store(Ih).put(ww,r)})}_i(e){const t=e.store(Eh),r=e.store(ai);return t.G().next(i=>G.forEach(i,s=>{const l=IDBKeyRange.bound([s.userId,Co],[s.userId,s.lastAcknowledgedBatchId]);return r.G(Ua,l).next(u=>G.forEach(u,d=>{Re(d.userId===s.userId);const h=La(this.serializer,d);return G1(e,s.userId,h).next(()=>{})}))}))}ui(e){const t=e.store($u),r=e.store(Na);return e.store(Wa).get(Qm).next(i=>{const s=[];return r.Z((l,u)=>{const d=new Be(l),h=function(g){return[0,Dn(g)]}(d);s.push(t.get(h).next(m=>m?G.resolve():(g=>t.put({targetId:0,path:Dn(g),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>G.waitFor(s))})}ci(e,t){e.createObjectStore(Th,{keyPath:f4});const r=t.store(Th),i=new a0,s=l=>{if(i.add(l)){const u=l.lastSegment(),d=l.popLast();return r.put({collectionId:u,parent:Dn(d)})}};return t.store(Na).Z({Y:!0},(l,u)=>{const d=new Be(l);return s(d.popLast())}).next(()=>t.store(Fu).Z({Y:!0},([l,u,d],h)=>{const m=Mi(u);return s(m.popLast())}))}li(e){const t=e.store(Uu);return t.Z((r,i)=>{const s=Qd(i),l=W1(this.serializer,s);return t.put(l)})}hi(e,t){const r=t.store(Na),i=[];return r.Z((s,l)=>{const u=t.store(Gm),d=function(g){return g.document?new _e(Be.fromString(g.document.name).popFirst(5)):g.noDocument?_e.fromSegments(g.noDocument.path):g.unknownDocument?_e.fromSegments(g.unknownDocument.path):Ee()}(l).path.toArray(),h={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};i.push(u.put(h))}).next(()=>G.waitFor(i))}Pi(e,t){const r=t.store(ai),i=ex(this.serializer),s=new u0(Gg.ri,this.serializer.Tt);return r.G().next(l=>{const u=new Map;return l.forEach(d=>{var h;let m=(h=u.get(d.userId))!==null&&h!==void 0?h:Fe();La(this.serializer,d).keys().forEach(g=>m=m.add(g)),u.set(d.userId,m)}),G.forEach(u,(d,h)=>{const m=new pn(h),g=Hg.It(this.serializer,m),_=s.getIndexManager(m),T=Kg.It(m,this.serializer,_,s.referenceDelegate);return new tx(i,T,g,_).recalculateAndSaveOverlaysForDocumentKeys(new Tw(t,tr.ae),d).next()})})}}function DA(n){n.createObjectStore($u,{keyPath:d4}).createIndex(zE,h4,{unique:!0}),n.createObjectStore(Uu,{keyPath:"targetId"}).createIndex(jk,c4,{unique:!0}),n.createObjectStore(Wa)}const _o="IndexedDbPersistence",Pv=18e5,bv=5e3,Cv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",nx="main";class c0{constructor(e,t,r,i,s,l,u,d,h,m,g=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ti=s,this.window=l,this.document=u,this.Ii=h,this.Ei=m,this.di=g,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=_=>Promise.resolve(),!c0.D())throw new ae(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xj(this,i),this.gi=t+nx,this.serializer=new z1(d),this.pi=new zi(this.gi,this.di,new zj(this.serializer)),this.jr=new vj,this.Hr=new Pj(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ex(this.serializer),this.Yr=new _j,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,m===!1&&Bt(_o,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ae(te.FAILED_PRECONDITION,Cv);return this.bi(),this.Si(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new tr(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Gp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(t=>{t||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(t=>this.isPrimary&&!t?this.xi(e).next(()=>!1):!!t&&this.Oi(e).next(()=>!0))).catch(e=>{if(Jo(e))return ue(_o,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue(_o,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return Ad(e).get(ru).next(t=>G.resolve(this.Ni(t)))}Bi(e){return Gp(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,Pv)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=an(t,ju);return r.G().next(i=>{const s=this.qi(i,Pv),l=i.filter(u=>s.indexOf(u)===-1);return G.forEach(l,u=>r.delete(u.clientId)).next(()=>l)})}).catch(()=>[]);if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?G.resolve(!0):Ad(e).get(ru).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,bv)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new ae(te.FAILED_PRECONDITION,Cv);return!1}}return!(!this.networkEnabled||!this.inForeground)||Gp(e).G().next(r=>this.qi(r,bv).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,l=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(s||l&&u)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&ue(_o,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[Zh,ju],e=>{const t=new Tw(e,tr.ae);return this.xi(t).next(()=>this.Bi(t))}),this.pi.close(),this.Gi()}qi(e,t){return e.filter(r=>this.ki(r.updateTimeMs,t)&&!this.$i(r.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>Gp(e).G().next(t=>this.qi(t,Pv).map(r=>r.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return Kg.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Aj(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return Hg.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,r){ue(_o,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",s=function(d){return d===17?C4:d===16?b4:d===15?HE:d===14?Kk:d===13?Hk:d===12?P4:d===11?qk:void Ee()}(this.di);let l;return this.pi.runTransaction(e,i,s,u=>(l=new Tw(u,this.Gr?this.Gr.next():tr.ae),t==="readwrite-primary"?this.Fi(l).next(d=>!!d||this.Mi(l)).next(d=>{if(!d)throw Bt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new ae(te.FAILED_PRECONDITION,Lk);return r(l)}).next(d=>this.Oi(l).next(()=>d)):this.ji(l).next(()=>r(l)))).then(u=>(l.raiseOnCommittedEvent(),u))}ji(e){return Ad(e).get(ru).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,bv)&&!this.$i(t.ownerId)&&!this.Ni(t)&&!(this.Ei||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ae(te.FAILED_PRECONDITION,Cv)})}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ad(e).put(ru,t)}static D(){return zi.D()}xi(e){const t=Ad(e);return t.get(ru).next(r=>this.Ni(r)?(ue(_o,"Releasing primary lease."),t.delete(ru)):G.resolve())}ki(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Bt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}bi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}Si(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const t=/(?:Version|Mobile)\/1[456]/;wC()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const r=((t=this.yi)===null||t===void 0?void 0:t.getItem(this.Qi(e)))!==null;return ue(_o,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Bt(_o,"Failed to get zombied client id.",r),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){Bt("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ad(n){return an(n,Zh)}function Gp(n){return an(n,ju)}function d0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Fe(),i=Fe();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new h0(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return wC()?8:Mk(We())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.rs(e,t).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.ss(e,t,i,r).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new Wj;return this._s(e,t,l).next(u=>{if(s.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>s.result)}us(e,t,r,i){return r.documentReadCount<this.es?(vu()<=Ue.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",wu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),G.resolve()):(vu()<=Ue.DEBUG&&ue("QueryEngine","Query:",wu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(vu()<=Ue.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",wu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bn(t))):G.resolve())}rs(e,t){if(sA(t))return G.resolve(null);let r=Bn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=eg(t,null,"F"),r=Bn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=Fe(...s);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.cs(t,u);return this.ls(t,h,l,d.readTime)?this.rs(e,eg(t,null,"F")):this.hs(e,h,t,d)}))})))}ss(e,t,r,i){return sA(t)||i.isEqual(be.min())?G.resolve(null):this.ns.getDocuments(e,r).next(s=>{const l=this.cs(t,s);return this.ls(t,l,r,i)?G.resolve(null):(vu()<=Ue.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wu(t)),this.hs(e,l,t,Nk(i,Mu)).next(u=>u))})}cs(e,t){let r=new at(p1(e));return t.forEach((i,s)=>{nf(e,s)&&(r=r.add(s))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,t,r){return vu()<=Ue.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",wu(t)),this.ns.getDocumentsMatchingQuery(e,t,Sr.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="LocalStore",qj=3e8;class Hj{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new pt(Le),this.Is=new Us(s=>Qa(s),ef),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function ix(n,e,t,r){return new Hj(n,e,t,r)}async function sx(n,e){const t=ve(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],u=[];let d=Fe();for(const h of i){l.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of s){u.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next(h=>({Rs:h,removedBatchIds:l,addedBatchIds:u}))})})}function Kj(n,e){const t=ve(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,d,h,m){const g=h.batch,_=g.keys();let T=G.resolve();return _.forEach(I=>{T=T.next(()=>m.getEntry(d,I)).next(R=>{const A=h.docVersions.get(I);Re(A!==null),R.version.compareTo(A)<0&&(g.applyToRemoteDocument(R,h),R.isValidDocument()&&(R.setReadTime(h.commitVersion),m.addEntry(R)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(d,g))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=Fe();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(d=d.add(u.batch.mutations[h].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function ox(n){const e=ve(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function Gj(n,e){const t=ve(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const u=[];e.targetChanges.forEach((m,g)=>{const _=i.get(g);if(!_)return;u.push(t.Hr.removeMatchingKeys(s,m.removedDocuments,g).next(()=>t.Hr.addMatchingKeys(s,m.addedDocuments,g)));let T=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?T=T.withResumeToken(Mt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(g,T),function(R,A,V){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=qj?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(_,T,m)&&u.push(t.Hr.updateTargetData(s,T))});let d=rr(),h=Fe();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(s,m))}),u.push(ax(s,l,e.documentUpdates).next(m=>{d=m.Vs,h=m.fs})),!r.isEqual(be.min())){const m=t.Hr.getLastRemoteSnapshotVersion(s).next(g=>t.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(m)}return G.waitFor(u).next(()=>l.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,d,h)).next(()=>d)}).then(s=>(t.Ts=i,s))}function ax(n,e,t){let r=Fe(),i=Fe();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let l=rr();return t.forEach((u,d)=>{const h=s.get(u);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(be.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):ue(f0,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",d.version)}),{Vs:l,fs:i}})}function Qj(n,e){const t=ve(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Co),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Gu(n,e){const t=ve(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(s=>s?(i=s,G.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new Ts(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Qu(n,e,t){const r=ve(n),i=r.Ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Jo(l))throw l;ue(f0,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function sg(n,e,t){const r=ve(n);let i=be.min(),s=Fe();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,m){const g=ve(d),_=g.Is.get(m);return _!==void 0?G.resolve(g.Ts.get(_)):g.Hr.getTargetData(h,m)}(r,l,Bn(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,u.targetId).next(d=>{s=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:be.min(),t?s:Fe())).next(u=>(cx(r,f1(e),u),{documents:u,gs:s})))}function lx(n,e){const t=ve(n),r=ve(t.Hr),i=t.Ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.lt(s,e).next(l=>l?l.target:null))}function ux(n,e){const t=ve(n),r=t.Es.get(e)||be.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ds.getAllFromCollectionGroup(i,e,Nk(r,Mu),Number.MAX_SAFE_INTEGER)).then(i=>(cx(t,e,i),i))}function cx(n,e,t){let r=n.Es.get(e)||be.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Es.set(e,r)}async function Yj(n,e,t,r){const i=ve(n);let s=Fe(),l=rr();for(const h of t){const m=e.ps(h.metadata.name);h.document&&(s=s.add(m));const g=e.ys(h);g.setReadTime(e.ws(h.metadata.readTime)),l=l.insert(m,g)}const u=i.ds.newChangeBuffer({trackRemovals:!0}),d=await Gu(i,function(m){return Bn(hc(Be.fromString(`__bundle__/docs/${m}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",h=>ax(h,u,l).next(m=>(u.apply(h),m)).next(m=>i.Hr.removeMatchingKeysForTargetId(h,d.targetId).next(()=>i.Hr.addMatchingKeys(h,s,d.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,m.Vs,m.fs)).next(()=>m.Vs)))}async function Jj(n,e,t=Fe()){const r=await Gu(n,Bn(s0(e.bundledQuery))),i=ve(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const l=zt(e.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Yr.saveNamedQuery(s,e);const u=r.withResumeToken(Mt.EMPTY_BYTE_STRING,l);return i.Ts=i.Ts.insert(u.targetId,u),i.Hr.updateTargetData(s,u).next(()=>i.Hr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Hr.addMatchingKeys(s,t,r.targetId)).next(()=>i.Yr.saveNamedQuery(s,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="firestore_clients";function LA(n,e){return`${dx}_${n}_${e}`}const hx="firestore_mutations";function VA(n,e,t){let r=`${hx}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const fx="firestore_targets";function kv(n,e){return`${fx}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="SharedClientState";class og{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static bs(e,t,r){const i=JSON.parse(r);let s,l=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(s=new ae(i.error.code,i.error.message))),l?new og(e,t,i.state,s):(Bt(Ci,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sh{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static bs(e,t){const r=JSON.parse(t);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new ae(r.error.code,r.error.message))),s?new sh(e,r.state,i):(Bt(Ci,`Failed to parse target state for ID '${e}': ${t}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ag{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static bs(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=JE();for(let l=0;i&&l<r.activeTargetIds.length;++l)i=Fk(r.activeTargetIds[l]),s=s.add(r.activeTargetIds[l]);return i?new ag(e,s):(Bt(Ci,`Failed to parse client data for instance '${e}': ${t}`),null)}}class p0{constructor(e,t){this.clientId=e,this.onlineState=t}static bs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new p0(t.clientId,t.onlineState):(Bt(Ci,`Failed to parse online state: ${e}`),null)}}class Fw{constructor(){this.activeTargetIds=JE()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xv{constructor(e,t,r,i,s){this.window=e,this.Ti=t,this.persistenceKey=r,this.Cs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Fs=this.Ms.bind(this),this.xs=new pt(Le),this.started=!1,this.Os=[];const l=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ns=LA(this.persistenceKey,this.Cs),this.Bs=function(d){return`firestore_sequence_number_${d}`}(this.persistenceKey),this.xs=this.xs.insert(this.Cs,new Fw),this.Ls=new RegExp(`^${dx}_${l}_([^_]*)$`),this.ks=new RegExp(`^${hx}_${l}_(\\d+)(?:_(.*))?$`),this.qs=new RegExp(`^${fx}_${l}_(\\d+)$`),this.Qs=function(d){return`firestore_online_state_${d}`}(this.persistenceKey),this.$s=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.zi();for(const r of e){if(r===this.Cs)continue;const i=this.getItem(LA(this.persistenceKey,r));if(i){const s=ag.bs(r,i);s&&(this.xs=this.xs.insert(s.clientId,s))}}this.Ks();const t=this.storage.getItem(this.Qs);if(t){const r=this.Us(t);r&&this.Ws(r)}for(const r of this.Os)this.Ms(r);this.Os=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Gs(this.xs)}isActiveQueryTarget(e){let t=!1;return this.xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.zs(e,"pending")}updateMutationState(e,t,r){this.zs(e,t,r),this.js(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(kv(this.persistenceKey,e));if(i){const s=sh.bs(e,i);s&&(r=s.state)}}return t&&this.Hs.Ds(e),this.Ks(),r}removeLocalQueryTarget(e){this.Hs.vs(e),this.Ks()}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(kv(this.persistenceKey,e))}updateQueryState(e,t,r){this.Js(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.js(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ys(e)}notifyBundleLoaded(e){this.Zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Fs),this.removeItem(this.Ns),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ue(Ci,"READ",e,t),t}setItem(e,t){ue(Ci,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ue(Ci,"REMOVE",e),this.storage.removeItem(e)}Ms(e){const t=e;if(t.storageArea===this.storage){if(ue(Ci,"EVENT",t.key,t.newValue),t.key===this.Ns)return void Bt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ti.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ls.test(t.key)){if(t.newValue==null){const r=this.Xs(t.key);return this.eo(r,null)}{const r=this.no(t.key,t.newValue);if(r)return this.eo(r.clientId,r)}}else if(this.ks.test(t.key)){if(t.newValue!==null){const r=this.ro(t.key,t.newValue);if(r)return this.io(r)}}else if(this.qs.test(t.key)){if(t.newValue!==null){const r=this.so(t.key,t.newValue);if(r)return this.oo(r)}}else if(t.key===this.Qs){if(t.newValue!==null){const r=this.Us(t.newValue);if(r)return this.Ws(r)}}else if(t.key===this.Bs){const r=function(s){let l=tr.ae;if(s!=null)try{const u=JSON.parse(s);Re(typeof u=="number"),l=u}catch(u){Bt(Ci,"Failed to read sequence number from WebStorage",u)}return l}(t.newValue);r!==tr.ae&&this.sequenceNumberHandler(r)}else if(t.key===this.$s){const r=this._o(t.newValue);await Promise.all(r.map(i=>this.syncEngine.ao(i)))}}}else this.Os.push(t)})}}get Hs(){return this.xs.get(this.Cs)}Ks(){this.setItem(this.Ns,this.Hs.Ss())}zs(e,t,r){const i=new og(this.currentUser,e,t,r),s=VA(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Ss())}js(e){const t=VA(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ys(e){const t={clientId:this.Cs,onlineState:e};this.storage.setItem(this.Qs,JSON.stringify(t))}Js(e,t,r){const i=kv(this.persistenceKey,e),s=new sh(e,t,r);this.setItem(i,s.Ss())}Zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.$s,t)}Xs(e){const t=this.Ls.exec(e);return t?t[1]:null}no(e,t){const r=this.Xs(e);return ag.bs(r,t)}ro(e,t){const r=this.ks.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return og.bs(new pn(s),i,t)}so(e,t){const r=this.qs.exec(e),i=Number(r[1]);return sh.bs(i,t)}Us(e){return p0.bs(e)}_o(e){return JSON.parse(e)}async io(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.uo(e.batchId,e.state,e.error);ue(Ci,`Ignoring mutation for non-active user ${e.user.uid}`)}oo(e){return this.syncEngine.co(e.targetId,e.state,e.error)}eo(e,t){const r=t?this.xs.insert(e,t):this.xs.remove(e),i=this.Gs(this.xs),s=this.Gs(r),l=[],u=[];return s.forEach(d=>{i.has(d)||l.push(d)}),i.forEach(d=>{s.has(d)||u.push(d)}),this.syncEngine.lo(l,u).then(()=>{this.xs=r})}Ws(e){this.xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Gs(e){let t=JE();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class px{constructor(){this.ho=new Fw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Fw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="ConnectivityMonitor";class FA{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(MA,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(MA,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qp=null;function Uw(){return Qp===null?Qp=function(){return 268435456+Math.round(2147483648*Math.random())}():Qp++,"0x"+Qp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="RestConnection",Zj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eB{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Sw?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,s){const l=Uw(),u=this.So(e,t.toUriEncodedString());ue(Ov,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,s),this.vo(e,u,d,r).then(h=>(ue(Ov,`Received RPC '${e}' ${l}: `,h),h),h=>{throw Gi(Ov,`RPC '${e}' ${l} failed with error: `,h,"url: ",u,"request:",r),h})}Co(e,t,r,i,s,l){return this.bo(e,t,r,i,s)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+dc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}So(e,t){const r=Zj[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tB{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="WebChannelConnection";class nB extends eB{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const s=Uw();return new Promise((l,u)=>{const d=new Rk;d.setWithCredentials(!0),d.listenOnce(Ak.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case hm.NO_ERROR:const m=d.getResponseJson();ue(kn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),l(m);break;case hm.TIMEOUT:ue(kn,`RPC '${e}' ${s} timed out`),u(new ae(te.DEADLINE_EXCEEDED,"Request time out"));break;case hm.HTTP_ERROR:const g=d.getStatus();if(ue(kn,`RPC '${e}' ${s} failed with status:`,g,"response text:",d.getResponseText()),g>0){let _=d.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const I=function(A){const V=A.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(V)>=0?V:te.UNKNOWN}(T.status);u(new ae(I,T.message))}else u(new ae(te.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new ae(te.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ue(kn,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);ue(kn,`RPC '${e}' ${s} sending request:`,i),d.send(t,"POST",h,r,15)})}Wo(e,t,r){const i=Uw(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Ck(),u=bk(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=s.join("");ue(kn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const g=l.createWebChannel(m,d);let _=!1,T=!1;const I=new tB({Fo:A=>{T?ue(kn,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(_||(ue(kn,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),ue(kn,`RPC '${e}' stream ${i} sending:`,A),g.send(A))},Mo:()=>g.close()}),R=(A,V,L)=>{A.listen(V,M=>{try{L(M)}catch(W){setTimeout(()=>{throw W},0)}})};return R(g,Hd.EventType.OPEN,()=>{T||(ue(kn,`RPC '${e}' stream ${i} transport opened.`),I.Qo())}),R(g,Hd.EventType.CLOSE,()=>{T||(T=!0,ue(kn,`RPC '${e}' stream ${i} transport closed`),I.Ko())}),R(g,Hd.EventType.ERROR,A=>{T||(T=!0,Gi(kn,`RPC '${e}' stream ${i} transport errored:`,A),I.Ko(new ae(te.UNAVAILABLE,"The operation could not be completed")))}),R(g,Hd.EventType.MESSAGE,A=>{var V;if(!T){const L=A.data[0];Re(!!L);const M=L,W=(M==null?void 0:M.error)||((V=M[0])===null||V===void 0?void 0:V.error);if(W){ue(kn,`RPC '${e}' stream ${i} received error:`,W);const j=W.status;let q=function(C){const E=Gt[C];if(E!==void 0)return P1(E)}(j),D=W.message;q===void 0&&(q=te.INTERNAL,D="Unknown error status: "+j+" with message "+W.message),T=!0,I.Ko(new ae(q,D)),g.close()}else ue(kn,`RPC '${e}' stream ${i} received:`,L),I.Uo(L)}}),R(u,Pk.STAT_EVENT,A=>{A.stat===_w.PROXY?ue(kn,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===_w.NOPROXY&&ue(kn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(){return typeof window<"u"?window:null}function Em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(n){return new aj(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="PersistentStream";class gx{constructor(e,t,r,i,s,l,u,d){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new m0(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Bt(t.toString()),Bt("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new ae(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(UA,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ue(UA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rB extends gx{constructor(e,t,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=cj(this.serializer,e),r=function(s){if(!("targetChange"in s))return be.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?be.min():l.readTime?zt(l.readTime):be.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Nw(this.serializer),t.addTarget=function(s,l){let u;const d=l.target;if(u=Xm(d)?{documents:M1(s,d)}:{query:F1(s,d).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=x1(s,l.resumeToken);const h=xw(s,l.expectedCount);h!==null&&(u.expectedCount=h)}else if(l.snapshotVersion.compareTo(be.min())>0){u.readTime=Ku(s,l.snapshotVersion.toTimestamp());const h=xw(s,l.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=hj(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Nw(this.serializer),t.removeTarget=e,this.I_(t)}}class iB extends gx{constructor(e,t,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=dj(e.writeResults,e.commitTime),r=zt(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Nw(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ch(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{}class oB extends sB{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new ae(te.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.bo(e,Ow(t,r),i,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(te.UNKNOWN,s.toString())})}Co(e,t,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,Ow(t,r),i,l,u,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ae(te.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class aB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Bt(t),this.N_=!1):ue("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl="RemoteStore";class lB{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(l=>{r.enqueueAndForget(async()=>{Zo(this)&&(ue(tl,"Restarting streams for network reachability change."),await async function(d){const h=ve(d);h.W_.add(4),await mc(h),h.j_.set("Unknown"),h.W_.delete(4),await lf(h)}(this))})}),this.j_=new aB(r,i)}}async function lf(n){if(Zo(n))for(const e of n.G_)await e(!0)}async function mc(n){for(const e of n.G_)await e(!1)}function Qg(n,e){const t=ve(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),_0(t)?y0(t):yc(t).c_()&&g0(t,e))}function Yu(n,e){const t=ve(n),r=yc(t);t.U_.delete(e),r.c_()&&yx(t,e),t.U_.size===0&&(r.c_()?r.P_():Zo(t)&&t.j_.set("Unknown"))}function g0(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yc(n).y_(e)}function yx(n,e){n.H_.Ne(e),yc(n).w_(e)}function y0(n){n.H_=new rj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),yc(n).start(),n.j_.B_()}function _0(n){return Zo(n)&&!yc(n).u_()&&n.U_.size>0}function Zo(n){return ve(n).W_.size===0}function _x(n){n.H_=void 0}async function uB(n){n.j_.set("Online")}async function cB(n){n.U_.forEach((e,t)=>{g0(n,e)})}async function dB(n,e){_x(n),_0(n)?(n.j_.q_(e),y0(n)):n.j_.set("Unknown")}async function hB(n,e,t){if(n.j_.set("Online"),e instanceof k1&&e.state===2&&e.cause)try{await async function(i,s){const l=s.cause;for(const u of s.targetIds)i.U_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.U_.delete(u),i.H_.removeTarget(u))}(n,e)}catch(r){ue(tl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lg(n,r)}else if(e instanceof wm?n.H_.We(e):e instanceof C1?n.H_.Ze(e):n.H_.je(e),!t.isEqual(be.min()))try{const r=await ox(n.localStore);t.compareTo(r)>=0&&await function(s,l){const u=s.H_.ot(l);return u.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=s.U_.get(h);m&&s.U_.set(h,m.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,h)=>{const m=s.U_.get(d);if(!m)return;s.U_.set(d,m.withResumeToken(Mt.EMPTY_BYTE_STRING,m.snapshotVersion)),yx(s,d);const g=new Ts(m.target,d,h,m.sequenceNumber);g0(s,g)}),s.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){ue(tl,"Failed to raise snapshot:",r),await lg(n,r)}}async function lg(n,e,t){if(!Jo(e))throw e;n.W_.add(1),await mc(n),n.j_.set("Offline"),t||(t=()=>ox(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ue(tl,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await lf(n)})}function vx(n,e){return e().catch(t=>lg(n,t,e))}async function gc(n){const e=ve(n),t=$o(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Co;for(;fB(e);)try{const i=await Qj(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,pB(e,i)}catch(i){await lg(e,i)}wx(e)&&Ex(e)}function fB(n){return Zo(n)&&n.K_.length<10}function pB(n,e){n.K_.push(e);const t=$o(n);t.c_()&&t.b_&&t.S_(e.mutations)}function wx(n){return Zo(n)&&!$o(n).u_()&&n.K_.length>0}function Ex(n){$o(n).start()}async function mB(n){$o(n).C_()}async function gB(n){const e=$o(n);for(const t of n.K_)e.S_(t.mutations)}async function yB(n,e,t){const r=n.K_.shift(),i=t0.from(r,e,t);await vx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await gc(n)}async function _B(n,e){e&&$o(n).b_&&await async function(r,i){if(function(l){return A1(l)&&l!==te.ABORTED}(i.code)){const s=r.K_.shift();$o(r).h_(),await vx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await gc(r)}}(n,e),wx(n)&&Ex(n)}async function $A(n,e){const t=ve(n);t.asyncQueue.verifyOperationInProgress(),ue(tl,"RemoteStore received new credentials");const r=Zo(t);t.W_.add(3),await mc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await lf(t)}async function $w(n,e){const t=ve(n);e?(t.W_.delete(2),await lf(t)):e||(t.W_.add(2),await mc(t),t.j_.set("Unknown"))}function yc(n){return n.J_||(n.J_=function(t,r,i){const s=ve(t);return s.M_(),new rB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:uB.bind(null,n),No:cB.bind(null,n),Lo:dB.bind(null,n),p_:hB.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),_0(n)?y0(n):n.j_.set("Unknown")):(await n.J_.stop(),_x(n))})),n.J_}function $o(n){return n.Y_||(n.Y_=function(t,r,i){const s=ve(t);return s.M_(),new iB(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:mB.bind(null,n),Lo:_B.bind(null,n),D_:gB.bind(null,n),v_:yB.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await gc(n)):(await n.Y_.stop(),n.K_.length>0&&(ue(tl,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const l=Date.now()+r,u=new v0(e,t,l,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _c(n,e){if(Bt("AsyncQueue",`${e}: ${n}`),Jo(n))return new ae(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{static emptySet(e){return new Pu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=Kd(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Pu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.Z_=new pt(_e.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ju{constructor(e,t,r,i,s,l,u,d,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,i,s){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Ju(e,t,Pu.emptySet(t),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class wB{constructor(){this.queries=BA(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=ve(t),s=i.queries;i.queries=BA(),s.forEach((l,u)=>{for(const d of u.ta)d.onError(r)})})(this,new ae(te.ABORTED,"Firestore shutting down"))}}function BA(){return new Us(n=>h1(n),tf)}async function w0(n,e){const t=ve(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new vB,r=e.ra()?0:1);try{switch(r){case 0:s.ea=await t.onListen(i,!0);break;case 1:s.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=_c(l,`Initialization of query '${wu(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,s),s.ta.push(e),e.sa(t.onlineState),s.ea&&e.oa(s.ea)&&I0(t)}async function E0(n,e){const t=ve(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const l=s.ta.indexOf(e);l>=0&&(s.ta.splice(l,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function EB(n,e){const t=ve(n);let r=!1;for(const i of e){const s=i.query,l=t.queries.get(s);if(l){for(const u of l.ta)u.oa(i)&&(r=!0);l.ea=i}}r&&I0(t)}function IB(n,e,t){const r=ve(n),i=r.queries.get(e);if(i)for(const s of i.ta)s.onError(t);r.queries.delete(e)}function I0(n){n.ia.forEach(e=>{e.next()})}var jw,zA;(zA=jw||(jw={}))._a="default",zA.Cache="cache";class T0{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ju(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ju.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==jw.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e,t){this.Ia=e,this.byteLength=t}Ea(){return"metadata"in this.Ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.serializer=e}ps(e){return Wi(this.serializer,e)}ys(e){return e.metadata.exists?V1(this.serializer,e.document,!1):_t.newNoDocument(this.ps(e.metadata.name),this.ws(e.metadata.readTime))}ws(e){return zt(e)}}class SB{constructor(e,t,r){this.da=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ix(e)}Aa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ia.namedQuery)this.queries.push(e.Ia.namedQuery);else if(e.Ia.documentMetadata){this.documents.push({metadata:e.Ia.documentMetadata}),e.Ia.documentMetadata.exists||++t;const r=Be.fromString(e.Ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ia.document&&(this.documents[this.documents.length-1].document=e.Ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ra(e){const t=new Map,r=new WA(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.ps(i.metadata.name);for(const l of i.metadata.queries){const u=(t.get(l)||Fe()).add(s);t.set(l,u)}}return t}async complete(){const e=await Yj(this.localStore,new WA(this.serializer),this.documents,this.da.id),t=this.Ra(this.documents);for(const r of this.queries)await Jj(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Va:this.collectionGroups,ma:e}}}function Ix(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.key=e}}class Sx{constructor(e){this.key=e}}class Rx{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Fe(),this.mutatedKeys=Fe(),this.ya=p1(e),this.wa=new Pu(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new jA,i=t?t.wa:this.wa;let s=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,g)=>{const _=i.get(m),T=nf(this.query,g)?g:null,I=!!_&&this.mutatedKeys.has(_.key),R=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let A=!1;_&&T?_.data.isEqual(T.data)?I!==R&&(r.track({type:3,doc:T}),A=!0):this.va(_,T)||(r.track({type:2,doc:T}),A=!0,(d&&this.ya(T,d)>0||h&&this.ya(T,h)<0)&&(u=!0)):!_&&T?(r.track({type:0,doc:T}),A=!0):_&&!T&&(r.track({type:1,doc:_}),A=!0,(d||h)&&(u=!0)),A&&(T?(l=l.add(T),s=R?s.add(m):s.delete(m)):(l=l.delete(m),s=s.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{wa:l,Da:r,ls:u,mutatedKeys:s}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((m,g)=>function(T,I){const R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return R(T)-R(I)}(m.type,g.type)||this.ya(m.doc,g.doc)),this.Ca(r),i=i!=null&&i;const u=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,h=d!==this.ga;return this.ga=d,l.length!==0||h?{snapshot:new Ju(this.query,e.wa,s,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new jA,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Fe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Sx(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Tx(r))}),t}Oa(e){this.fa=e.gs,this.pa=Fe();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Ju.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ea="SyncEngine";class RB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class AB{constructor(e){this.key=e,this.Ba=!1}}class PB{constructor(e,t,r,i,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Us(u=>h1(u),tf),this.qa=new Map,this.Qa=new Set,this.$a=new pt(_e.comparator),this.Ka=new Map,this.Ua=new l0,this.Wa={},this.Ga=new Map,this.za=el.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function bB(n,e,t=!0){const r=Yg(n);let i;const s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await Ax(r,e,t,!0),i}async function CB(n,e){const t=Yg(n);await Ax(t,e,!0,!1)}async function Ax(n,e,t,r){const i=await Gu(n.localStore,Bn(e)),s=i.targetId,l=n.sharedClientState.addLocalQueryTarget(s,t);let u;return r&&(u=await S0(n,e,s,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&Qg(n.remoteStore,i),u}async function S0(n,e,t,r,i){n.Ha=(g,_,T)=>async function(R,A,V,L){let M=A.view.Sa(V);M.ls&&(M=await sg(R.localStore,A.query,!1).then(({documents:D})=>A.view.Sa(D,M)));const W=L&&L.targetChanges.get(A.targetId),j=L&&L.targetMismatches.get(A.targetId)!=null,q=A.view.applyChanges(M,R.isPrimaryClient,W,j);return Bw(R,A.targetId,q.Ma),q.snapshot}(n,g,_,T);const s=await sg(n.localStore,e,!0),l=new Rx(e,s.gs),u=l.Sa(s.documents),d=of.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),h=l.applyChanges(u,n.isPrimaryClient,d);Bw(n,t,h.Ma);const m=new RB(e,t,l);return n.ka.set(e,m),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),h.snapshot}async function kB(n,e,t){const r=ve(n),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(l=>!tf(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Qu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Yu(r.remoteStore,i.targetId),Xu(r,i.targetId)}).catch(Yo)):(Xu(r,i.targetId),await Qu(r.localStore,i.targetId,!0))}async function xB(n,e){const t=ve(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Yu(t.remoteStore,r.targetId))}async function OB(n,e,t){const r=b0(n);try{const i=await function(l,u){const d=ve(l),h=At.now(),m=u.reduce((T,I)=>T.add(I.key),Fe());let g,_;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let I=rr(),R=Fe();return d.ds.getEntries(T,m).next(A=>{I=A,I.forEach((V,L)=>{L.isValidDocument()||(R=R.add(V))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,I)).next(A=>{g=A;const V=[];for(const L of u){const M=ej(L,g.get(L.key).overlayedDocument);M!=null&&V.push(new $s(L.key,M,r1(M.value.mapValue),Rt.exists(!0)))}return d.mutationQueue.addMutationBatch(T,h,V,u)}).next(A=>{_=A;const V=A.applyToLocalDocumentSet(g,R);return d.documentOverlayCache.saveOverlays(T,A.batchId,V)})}).then(()=>({batchId:_.batchId,changes:g1(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let h=l.Wa[l.currentUser.toKey()];h||(h=new pt(Le)),h=h.insert(u,d),l.Wa[l.currentUser.toKey()]=h}(r,i.batchId,t),await js(r,i.changes),await gc(r.remoteStore)}catch(i){const s=_c(i,"Failed to persist write");t.reject(s)}}async function Px(n,e){const t=ve(n);try{const r=await Gj(t.localStore,e);e.targetChanges.forEach((i,s)=>{const l=t.Ka.get(s);l&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Re(l.Ba):i.removedDocuments.size>0&&(Re(l.Ba),l.Ba=!1))}),await js(t,r,e)}catch(r){await Yo(r)}}function qA(n,e,t){const r=ve(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((s,l)=>{const u=l.view.sa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=ve(l);d.onlineState=u;let h=!1;d.queries.forEach((m,g)=>{for(const _ of g.ta)_.sa(u)&&(h=!0)}),h&&I0(d)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function NB(n,e,t){const r=ve(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),s=i&&i.key;if(s){let l=new pt(_e.comparator);l=l.insert(s,_t.newNoDocument(s,be.min()));const u=Fe().add(s),d=new sf(be.min(),new Map,new pt(Le),l,u);await Px(r,d),r.$a=r.$a.remove(s),r.Ka.delete(e),P0(r)}else await Qu(r.localStore,e,!1).then(()=>Xu(r,e,t)).catch(Yo)}async function DB(n,e){const t=ve(n),r=e.batch.batchId;try{const i=await Kj(t.localStore,e);A0(t,r,null),R0(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await js(t,i)}catch(i){await Yo(i)}}async function LB(n,e,t){const r=ve(n);try{const i=await function(l,u){const d=ve(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,u).next(g=>(Re(g!==null),m=g.keys(),d.mutationQueue.removeMutationBatch(h,g))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(r.localStore,e);A0(r,e,t),R0(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await js(r,i)}catch(i){await Yo(i)}}async function VB(n,e){const t=ve(n);Zo(t.remoteStore)||ue(ea,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(l){const u=ve(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>u.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(r===Co)return void e.resolve();const i=t.Ga.get(r)||[];i.push(e),t.Ga.set(r,i)}catch(r){const i=_c(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function R0(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function A0(n,e,t){const r=ve(n);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Xu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||bx(n,r)})}function bx(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Yu(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),P0(n))}function Bw(n,e,t){for(const r of t)r instanceof Tx?(n.Ua.addReference(r.key,e),MB(n,r)):r instanceof Sx?(ue(ea,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||bx(n,r.key)):Ee()}function MB(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(ue(ea,"New document in limbo: "+t),n.Qa.add(r),P0(n))}function P0(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(Be.fromString(e)),r=n.za.next();n.Ka.set(r,new AB(t)),n.$a=n.$a.insert(t,r),Qg(n.remoteStore,new Ts(Bn(hc(t.path)),r,"TargetPurposeLimboResolution",tr.ae))}}async function js(n,e,t){const r=ve(n),i=[],s=[],l=[];r.ka.isEmpty()||(r.ka.forEach((u,d)=>{l.push(r.Ha(d,e,t).then(h=>{var m;if((h||t)&&r.isPrimaryClient){const g=h?!h.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,g?"current":"not-current")}if(h){i.push(h);const g=h0.Yi(d.targetId,h);s.push(g)}}))}),await Promise.all(l),r.La.p_(i),await async function(d,h){const m=ve(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>G.forEach(h,_=>G.forEach(_.Hi,T=>m.persistence.referenceDelegate.addReference(g,_.targetId,T)).next(()=>G.forEach(_.Ji,T=>m.persistence.referenceDelegate.removeReference(g,_.targetId,T)))))}catch(g){if(!Jo(g))throw g;ue(f0,"Failed to update sequence numbers: "+g)}for(const g of h){const _=g.targetId;if(!g.fromCache){const T=m.Ts.get(_),I=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(I);m.Ts=m.Ts.insert(_,R)}}}(r.localStore,s))}async function FB(n,e){const t=ve(n);if(!t.currentUser.isEqual(e)){ue(ea,"User change. New user:",e.toKey());const r=await sx(t.localStore,e);t.currentUser=e,function(s,l){s.Ga.forEach(u=>{u.forEach(d=>{d.reject(new ae(te.CANCELLED,l))})}),s.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await js(t,r.Rs)}}function UB(n,e){const t=ve(n),r=t.Ka.get(e);if(r&&r.Ba)return Fe().add(r.key);{let i=Fe();const s=t.qa.get(e);if(!s)return i;for(const l of s){const u=t.ka.get(l);i=i.unionWith(u.view.ba)}return i}}async function $B(n,e){const t=ve(n),r=await sg(t.localStore,e.query,!0),i=e.view.Oa(r);return t.isPrimaryClient&&Bw(t,e.targetId,i.Ma),i}async function jB(n,e){const t=ve(n);return ux(t.localStore,e).then(r=>js(t,r))}async function BB(n,e,t,r){const i=ve(n),s=await function(u,d){const h=ve(u),m=ve(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",g=>m.Ln(g,d).next(_=>_?h.localDocuments.getDocuments(g,_):G.resolve(null)))}(i.localStore,e);s!==null?(t==="pending"?await gc(i.remoteStore):t==="acknowledged"||t==="rejected"?(A0(i,e,r||null),R0(i,e),function(u,d){ve(ve(u).mutationQueue).qn(d)}(i.localStore,e)):Ee(),await js(i,s)):ue(ea,"Cannot apply mutation batch with id: "+e)}async function zB(n,e){const t=ve(n);if(Yg(t),b0(t),e===!0&&t.ja!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await HA(t,r.toArray());t.ja=!0,await $w(t.remoteStore,!0);for(const s of i)Qg(t.remoteStore,s)}else if(e===!1&&t.ja!==!1){const r=[];let i=Promise.resolve();t.qa.forEach((s,l)=>{t.sharedClientState.isLocalQueryTarget(l)?r.push(l):i=i.then(()=>(Xu(t,l),Qu(t.localStore,l,!0))),Yu(t.remoteStore,l)}),await i,await HA(t,r),function(l){const u=ve(l);u.Ka.forEach((d,h)=>{Yu(u.remoteStore,h)}),u.Ua.Dr(),u.Ka=new Map,u.$a=new pt(_e.comparator)}(t),t.ja=!1,await $w(t.remoteStore,!1)}}async function HA(n,e,t){const r=ve(n),i=[],s=[];for(const l of e){let u;const d=r.qa.get(l);if(d&&d.length!==0){u=await Gu(r.localStore,Bn(d[0]));for(const h of d){const m=r.ka.get(h),g=await $B(r,m);g.snapshot&&s.push(g.snapshot)}}else{const h=await lx(r.localStore,l);u=await Gu(r.localStore,h),await S0(r,Cx(h),l,!1,u.resumeToken)}i.push(u)}return r.La.p_(s),i}function Cx(n){return d1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function WB(n){return function(t){return ve(ve(t).persistence).zi()}(ve(n).localStore)}async function qB(n,e,t,r){const i=ve(n);if(i.ja)return void ue(ea,"Ignoring unexpected query state notification.");const s=i.qa.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const l=await ux(i.localStore,f1(s[0])),u=sf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Mt.EMPTY_BYTE_STRING);await js(i,l,u);break}case"rejected":await Qu(i.localStore,e,!0),Xu(i,e,r);break;default:Ee()}}async function HB(n,e,t){const r=Yg(n);if(r.ja){for(const i of e){if(r.qa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){ue(ea,"Adding an already active target "+i);continue}const s=await lx(r.localStore,i),l=await Gu(r.localStore,s);await S0(r,Cx(s),l.targetId,!1,l.resumeToken),Qg(r.remoteStore,l)}for(const i of t)r.qa.has(i)&&await Qu(r.localStore,i,!1).then(()=>{Yu(r.remoteStore,i),Xu(r,i)}).catch(Yo)}}function Yg(n){const e=ve(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Px.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NB.bind(null,e),e.La.p_=EB.bind(null,e.eventManager),e.La.Ja=IB.bind(null,e.eventManager),e}function b0(n){const e=ve(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LB.bind(null,e),e}function KB(n,e,t){const r=ve(n);(async function(s,l,u){try{const d=await l.getMetadata();if(await function(T,I){const R=ve(T),A=zt(I.createTime);return R.persistence.runTransaction("hasNewerBundle","readonly",V=>R.Yr.getBundleMetadata(V,I.id)).then(V=>!!V&&V.createTime.compareTo(A)>=0)}(s.localStore,d))return await l.close(),u._completeWith(function(T){return{taskState:"Success",documentsLoaded:T.totalDocuments,bytesLoaded:T.totalBytes,totalDocuments:T.totalDocuments,totalBytes:T.totalBytes}}(d)),Promise.resolve(new Set);u._updateProgress(Ix(d));const h=new SB(d,s.localStore,l.serializer);let m=await l.Ya();for(;m;){const _=await h.Aa(m);_&&u._updateProgress(_),m=await l.Ya()}const g=await h.complete();return await js(s,g.ma,void 0),await function(T,I){const R=ve(T);return R.persistence.runTransaction("Save bundle","readwrite",A=>R.Yr.saveBundleMetadata(A,I))}(s.localStore,d),u._completeWith(g.progress),Promise.resolve(g.Va)}catch(d){return Gi(ea,`Loading bundle failed with ${d}`),u._failWith(d),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=af(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return ix(this.persistence,new rx,e.initialUser,this.serializer)}Xa(e){return new u0(Gg.ri,this.serializer)}Za(e){return new px}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class GB extends kh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Re(this.persistence.referenceDelegate instanceof ig);const r=this.persistence.referenceDelegate.garbageCollector;return new J1(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new u0(r=>ig.ri(r,t),this.serializer)}}class kx extends kh{constructor(e,t,r){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await b0(this.ru.syncEngine),await gc(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){return ix(this.persistence,new rx,e.initialUser,this.serializer)}tu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new J1(r,e.asyncQueue,t)}nu(e,t){const r=new r4(t,this.persistence);return new n4(e.asyncQueue,r)}Xa(e){const t=d0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new c0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,mx(),Em(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new px}}class QB extends kx{constructor(e,t){super(e,t,!1),this.ru=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ru.syncEngine;this.sharedClientState instanceof xv&&(this.sharedClientState.syncEngine={uo:BB.bind(null,t),co:qB.bind(null,t),lo:HB.bind(null,t),zi:WB.bind(null,t),ao:jB.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ci(async r=>{await zB(this.ru.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Za(e){const t=mx();if(!xv.D(t))throw new ae(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=d0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new xv(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class xh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FB.bind(null,this.syncEngine),await $w(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wB}()}createDatastore(e){const t=af(e.databaseInfo.databaseId),r=function(s){return new nB(s)}(e.databaseInfo);return function(s,l,u,d){return new oB(s,l,u,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,l,u){return new lB(r,i,s,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>qA(this.syncEngine,t,0),function(){return FA.D()?new FA:new Xj}())}createSyncEngine(e,t){return function(i,s,l,u,d,h,m){const g=new PB(i,s,l,u,d,h);return m&&(g.ja=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=ve(i);ue(tl,"RemoteStore shutting down."),s.W_.add(5),await mc(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}xh.provider={build:()=>new xh};function KA(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Bt("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e,t){this.ou=e,this.serializer=t,this.metadata=new Sn,this.buffer=new Uint8Array,this._u=function(){return new TextDecoder("utf-8")}(),this.au().then(r=>{r&&r.Ea()?this.metadata.resolve(r.Ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ia)}`))},r=>this.metadata.reject(r))}close(){return this.ou.cancel()}async getMetadata(){return this.metadata.promise}async Ya(){return await this.getMetadata(),this.au()}async au(){const e=await this.uu();if(e===null)return null;const t=this._u.decode(e),r=Number(t);isNaN(r)&&this.cu(`length string (${t}) is not valid number`);const i=await this.lu(r);return new TB(JSON.parse(i),e.length+r)}hu(){return this.buffer.findIndex(e=>e===123)}async uu(){for(;this.hu()<0&&!await this.Pu(););if(this.buffer.length===0)return null;const e=this.hu();e<0&&this.cu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async lu(e){for(;this.buffer.length<e;)await this.Pu()&&this.cu("Reached the end of bundle when more is expected.");const t=this._u.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cu(e){throw this.ou.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pu(){const e=await this.ou.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ae(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,s){const l=ve(i),u={documents:s.map(g=>bh(l.serializer,g))},d=await l.Co("BatchGetDocuments",l.serializer.databaseId,Be.emptyPath(),u,s.length),h=new Map;d.forEach(g=>{const _=uj(l.serializer,g);h.set(_.key.toString(),_)});const m=[];return s.forEach(g=>{const _=h.get(g.toString());Re(!!_),m.push(_)}),m}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new pc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=_e.fromPath(r);this.mutations.push(new ZE(i,this.precondition(i)))}),await async function(r,i){const s=ve(r),l={writes:i.map(u=>Ch(s.serializer,u))};await s.bo("Commit",s.serializer.databaseId,Be.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ee();t=be.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ae(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(be.min())?Rt.exists(!1):Rt.updateTime(t):Rt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(be.min()))throw new ae(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rt.updateTime(t)}return Rt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Tu=r.maxAttempts,this.a_=new m0(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new JB(this.datastore),t=this.du(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Au(i)}))}).catch(r=>{this.Au(r)})})}du(e){try{const t=this.updateFunction(e);return!Xh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!A1(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="FirestoreClient";class ZB{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=pn.UNAUTHENTICATED,this.clientId=xk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async l=>{ue(jo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ue(jo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=_c(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Nv(n,e){n.asyncQueue.verifyOperationInProgress(),ue(jo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await sx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function GA(n,e){n.asyncQueue.verifyOperationInProgress();const t=await C0(n);ue(jo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>$A(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>$A(e.remoteStore,i)),n._onlineComponents=e}async function C0(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(jo,"Using user provided OfflineComponentProvider");try{await Nv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Gi("Error using user provided cache. Falling back to memory cache: "+t),await Nv(n,new kh)}}else ue(jo,"Using default OfflineComponentProvider"),await Nv(n,new GB(void 0));return n._offlineComponents}async function Xg(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(jo,"Using user provided OnlineComponentProvider"),await GA(n,n._uninitializedComponentsProvider._online)):(ue(jo,"Using default OnlineComponentProvider"),await GA(n,new xh))),n._onlineComponents}function xx(n){return C0(n).then(e=>e.persistence)}function k0(n){return C0(n).then(e=>e.localStore)}function Ox(n){return Xg(n).then(e=>e.remoteStore)}function x0(n){return Xg(n).then(e=>e.syncEngine)}function e5(n){return Xg(n).then(e=>e.datastore)}async function Zu(n){const e=await Xg(n),t=e.eventManager;return t.onListen=bB.bind(null,e.syncEngine),t.onUnlisten=kB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=CB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=xB.bind(null,e.syncEngine),t}function t5(n){return n.asyncQueue.enqueue(async()=>{const e=await xx(n),t=await Ox(n);return e.setNetworkEnabled(!0),function(i){const s=ve(i);return s.W_.delete(0),lf(s)}(t)})}function n5(n){return n.asyncQueue.enqueue(async()=>{const e=await xx(n),t=await Ox(n);return e.setNetworkEnabled(!1),async function(i){const s=ve(i);s.W_.add(0),await mc(s),s.j_.set("Offline")}(t)})}function r5(n,e){const t=new Sn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,s,l){try{const u=await function(h,m){const g=ve(h);return g.persistence.runTransaction("read document","readonly",_=>g.localDocuments.getDocument(_,m))}(i,s);u.isFoundDocument()?l.resolve(u):u.isNoDocument()?l.resolve(null):l.reject(new ae(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const d=_c(u,`Failed to get document '${s} from cache`);l.reject(d)}}(await k0(n),e,t)),t.promise}function Nx(n,e,t={}){const r=new Sn;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,u,d,h){const m=new Jg({next:_=>{m.su(),l.enqueueAndForget(()=>E0(s,g));const T=_.docs.has(u);!T&&_.fromCache?h.reject(new ae(te.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&d&&d.source==="server"?h.reject(new ae(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new T0(hc(u.path),m,{includeMetadataChanges:!0,Ta:!0});return w0(s,g)}(await Zu(n),n.asyncQueue,e,t,r)),r.promise}function i5(n,e){const t=new Sn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,s,l){try{const u=await sg(i,s,!0),d=new Rx(s,u.gs),h=d.Sa(u.documents),m=d.applyChanges(h,!1);l.resolve(m.snapshot)}catch(u){const d=_c(u,`Failed to execute query '${s} against cache`);l.reject(d)}}(await k0(n),e,t)),t.promise}function Dx(n,e,t={}){const r=new Sn;return n.asyncQueue.enqueueAndForget(async()=>function(s,l,u,d,h){const m=new Jg({next:_=>{m.su(),l.enqueueAndForget(()=>E0(s,g)),_.fromCache&&d.source==="server"?h.reject(new ae(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),g=new T0(u,m,{includeMetadataChanges:!0,Ta:!0});return w0(s,g)}(await Zu(n),n.asyncQueue,e,t,r)),r.promise}function s5(n,e){const t=new Jg(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,s){ve(i).ia.add(s),s.next()}(await Zu(n),t)),()=>{t.su(),n.asyncQueue.enqueueAndForget(async()=>function(i,s){ve(i).ia.delete(s)}(await Zu(n),t))}}function o5(n,e,t,r){const i=function(l,u){let d;return d=typeof l=="string"?b1().encode(l):l,function(m,g){return new YB(m,g)}(function(m,g){if(m instanceof Uint8Array)return KA(m,g);if(m instanceof ArrayBuffer)return KA(new Uint8Array(m),g);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),u)}(t,af(e));n.asyncQueue.enqueueAndForget(async()=>{KB(await x0(n),i,r)})}function a5(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const s=ve(r);return s.persistence.runTransaction("Get named query","readonly",l=>s.Yr.getNamedQuery(l,i))}(await k0(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(n,e,t){if(!t)throw new ae(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Vx(n,e,t,r){if(e===!0&&r===!0)throw new ae(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function YA(n){if(!_e.isDocumentKey(n))throw new ae(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function JA(n){if(_e.isDocumentKey(n))throw new ae(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Zg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee()}function et(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ae(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Zg(n);throw new ae(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Mx(n,e){if(e<=0)throw new ae(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="firestore.googleapis.com",XA=!0;class ZA{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Fx,this.ssl=XA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:XA;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=K1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bj)throw new ae(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Lx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ae(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new H$;switch(r.type){case"firstParty":return new Y$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=QA.get(t);r&&(ue("ComponentProvider","Removing Datastore"),QA.delete(t),r.terminate())}(this),Promise.resolve()}}function l5(n,e,t,r={}){var i;const s=(n=et(n,uf))._getSettings(),l=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;s.host!==Fx&&s.host!==u&&Gi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},s),{host:u,ssl:!1,emulatorOptions:r});if(!ci(d,l)&&(n._setSettings(d),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=pn.MOCK_USER;else{h=e2(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ae(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new pn(g)}n._authCredentials=new K$(new kk(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zn=class Ux{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ux(this.firestore,e,this._query)}},Ot=class $x{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $x(this.firestore,e,this._key)}},ko=class jx extends zn{constructor(e,t,r){super(e,t,hc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new _e(e))}withConverter(e){return new jx(this.firestore,e,this._path)}};function Bx(n,e,...t){if(n=Ce(n),O0("collection","path",e),n instanceof uf){const r=Be.fromString(e,...t);return JA(r),new ko(n,null,r)}{if(!(n instanceof Ot||n instanceof ko))throw new ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Be.fromString(e,...t));return JA(r),new ko(n.firestore,null,r)}}function u5(n,e){if(n=et(n,uf),O0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ae(te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new zn(n,null,function(r){return new Fs(Be.emptyPath(),r)}(e))}function ug(n,e,...t){if(n=Ce(n),arguments.length===1&&(e=xk.newId()),O0("doc","path",e),n instanceof uf){const r=Be.fromString(e,...t);return YA(r),new Ot(n,null,new _e(r))}{if(!(n instanceof Ot||n instanceof ko))throw new ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Be.fromString(e,...t));return YA(r),new Ot(n.firestore,n instanceof ko?n.converter:null,new _e(r))}}function zx(n,e){return n=Ce(n),e=Ce(e),(n instanceof Ot||n instanceof ko)&&(e instanceof Ot||e instanceof ko)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Wx(n,e){return n=Ce(n),e=Ce(e),n instanceof zn&&e instanceof zn&&n.firestore===e.firestore&&tf(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="AsyncQueue";class tP{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new m0(this,"async_queue_retry"),this.bu=()=>{const r=Em();r&&ue(eP,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=Em();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Em();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Sn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Jo(e))throw e;ue(eP,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw Bt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=v0.createAndSchedule(this,e,t,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function zw(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}class c5{constructor(){this._progressObserver={},this._taskCompletionResolver=new Sn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5=-1;let Wt=class extends uf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new tP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tP(e),this._firestoreClient=void 0,await e}}};function Ln(n){if(n._terminated)throw new ae(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||qx(n),n._firestoreClient}function qx(n){var e,t,r;const i=n._freezeSettings(),s=function(u,d,h,m){return new O4(u,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Lx(m.experimentalLongPollingOptions),m.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new ZB(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(n._componentsProvider))}function h5(n,e){Gi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return Hx(n,xh.provider,{build:r=>new kx(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function f5(n){Gi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();Hx(n,xh.provider,{build:t=>new QB(t,e.cacheSizeBytes)})}function Hx(n,e,t){if((n=et(n,Wt))._firestoreClient||n._terminated)throw new ae(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ae(te.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},qx(n)}function p5(n){if(n._initialized&&!n._terminated)throw new ae(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Sn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!zi.D())return Promise.resolve();const i=r+nx;await zi.delete(i)}(d0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function m5(n){return function(t){const r=new Sn;return t.asyncQueue.enqueueAndForget(async()=>VB(await x0(t),r)),r.promise}(Ln(n=et(n,Wt)))}function g5(n){return t5(Ln(n=et(n,Wt)))}function y5(n){return n5(Ln(n=et(n,Wt)))}function _5(n,e){const t=Ln(n=et(n,Wt)),r=new c5;return o5(t,n._databaseId,e,r),r}function v5(n,e){return a5(Ln(n=et(n,Wt)),e).then(t=>t?new zn(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yi(Mt.fromBase64String(e))}catch(t){throw new ae(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yi(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=/^__.*__$/;class E5{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,t,this.fieldTransforms):new fc(e,this.data,t,this.fieldTransforms)}}class Kx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $s(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Gx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class ty{constructor(e,t,r,i,s,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ty(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return cg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Gx(this.Lu)&&w5.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class I5{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||af(e)}ju(e,t,r,i=!1){return new ty({Lu:e,methodName:t,zu:r,path:St.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cl(n){const e=n._freezeSettings(),t=af(n._databaseId);return new I5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ny(n,e,t,r,i,s={}){const l=n.ju(s.merge||s.mergeFields?2:0,e,t,i);$0("Data must be an object, but it was:",l,r);const u=Jx(r,l);let d,h;if(s.merge)d=new nr(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const m=[];for(const g of s.mergeFields){const _=Ww(e,g,t);if(!l.contains(_))throw new ae(te.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Zx(m,_)||m.push(_)}d=new nr(m),h=l.fieldTransforms.filter(g=>d.covers(g.field))}else d=null,h=l.fieldTransforms;return new E5(new Tn(u),d,h)}class cf extends ul{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cf}}function Qx(n,e,t){return new ty({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class D0 extends ul{_toFieldTransform(e){return new rf(e.path,new qu)}isEqual(e){return e instanceof D0}}class L0 extends ul{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=Qx(this,e,!0),r=this.Hu.map(s=>dl(s,t)),i=new Ya(r);return new rf(e.path,i)}isEqual(e){return e instanceof L0&&ci(this.Hu,e.Hu)}}class V0 extends ul{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=Qx(this,e,!0),r=this.Hu.map(s=>dl(s,t)),i=new Ja(r);return new rf(e.path,i)}isEqual(e){return e instanceof V0&&ci(this.Hu,e.Hu)}}class M0 extends ul{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new Hu(e.serializer,v1(e.serializer,this.Ju));return new rf(e.path,t)}isEqual(e){return e instanceof M0&&this.Ju===e.Ju}}function F0(n,e,t,r){const i=n.ju(1,e,t);$0("Data must be an object, but it was:",i,r);const s=[],l=Tn.empty();Xo(r,(d,h)=>{const m=j0(e,d,t);h=Ce(h);const g=i.Ku(m);if(h instanceof cf)s.push(m);else{const _=dl(h,g);_!=null&&(s.push(m),l.set(m,_))}});const u=new nr(s);return new Kx(l,u,i.fieldTransforms)}function U0(n,e,t,r,i,s){const l=n.ju(1,e,t),u=[Ww(e,r,t)],d=[i];if(s.length%2!=0)throw new ae(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)u.push(Ww(e,s[_])),d.push(s[_+1]);const h=[],m=Tn.empty();for(let _=u.length-1;_>=0;--_)if(!Zx(h,u[_])){const T=u[_];let I=d[_];I=Ce(I);const R=l.Ku(T);if(I instanceof cf)h.push(T);else{const A=dl(I,R);A!=null&&(h.push(T),m.set(T,A))}}const g=new nr(h);return new Kx(m,g,l.fieldTransforms)}function Yx(n,e,t,r=!1){return dl(t,n.ju(r?4:3,e))}function dl(n,e){if(Xx(n=Ce(n)))return $0("Unsupported field value:",e,n),Jx(n,e);if(n instanceof ul)return function(r,i){if(!Gx(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const s=[];let l=0;for(const u of r){let d=dl(u,i.Uu(l));d==null&&(d={nullValue:"NULL_VALUE"}),s.push(d),l++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Ce(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return v1(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=At.fromDate(r);return{timestampValue:Ku(i.serializer,s)}}if(r instanceof At){const s=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ku(i.serializer,s)}}if(r instanceof ey)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yi)return{bytesValue:x1(i.serializer,r._byteString)};if(r instanceof Ot){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:i0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof N0)return function(l,u){return{mapValue:{fields:{[KE]:{stringValue:GE},[Bu]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw u.Wu("VectorValues must only contain numeric values.");return XE(u.serializer,h)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${Zg(r)}`)}(n,e)}function Jx(n,e){const t={};return Gk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(n,(r,i)=>{const s=dl(i,e.qu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function Xx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof At||n instanceof ey||n instanceof Yi||n instanceof Ot||n instanceof ul||n instanceof N0)}function $0(n,e,t){if(!Xx(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Zg(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function Ww(n,e,t){if((e=Ce(e))instanceof Bo)return e._internalPath;if(typeof e=="string")return j0(n,e);throw cg("Field path arguments must be of type string or ",n,!1,void 0,t)}const T5=new RegExp("[~\\*/\\[\\]]");function j0(n,e,t){if(e.search(T5)>=0)throw cg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Bo(...e.split("."))._internalPath}catch{throw cg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cg(n,e,t,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(s||l)&&(d+=" (found",s&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new ae(te.INVALID_ARGUMENT,u+n+d)}function Zx(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new S5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ry("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class S5 extends Oh{data(){return super.data()}}function ry(n,e){return typeof e=="string"?j0(n,e):e instanceof Bo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ae(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class B0{}class df extends B0{}function vo(n,e,...t){let r=[];e instanceof B0&&r.push(e),r=r.concat(t),function(s){const l=s.filter(d=>d instanceof z0).length,u=s.filter(d=>d instanceof iy).length;if(l>1||l>0&&u>0)throw new ae(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class iy extends df{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new iy(e,t,r)}_apply(e){const t=this._parse(e);return nO(e._query,t),new zn(e.firestore,e.converter,kw(e._query,t))}_parse(e){const t=cl(e.firestore);return function(s,l,u,d,h,m,g){let _;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ae(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){rP(g,m);const I=[];for(const R of g)I.push(nP(d,s,R));_={arrayValue:{values:I}}}else _=nP(d,s,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||rP(g,m),_=Yx(u,l,g,m==="in"||m==="not-in");return ze.create(h,m,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function R5(n,e,t){const r=e,i=ry("where",n);return iy._create(i,r,t)}class z0 extends B0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new z0(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ot.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let l=i;const u=s.getFlattenedFilters();for(const d of u)nO(l,d),l=kw(l,d)}(e._query,t),new zn(e.firestore,e.converter,kw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class W0 extends df{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new W0(e,t)}_apply(e){const t=function(i,s,l){if(i.startAt!==null)throw new ae(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ae(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ph(s,l)}(e._query,this._field,this._direction);return new zn(e.firestore,e.converter,function(i,s){const l=i.explicitOrderBy.concat([s]);return new Fs(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function A5(n,e="asc"){const t=e,r=ry("orderBy",n);return W0._create(r,t)}class sy extends df{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new sy(e,t,r)}_apply(e){return new zn(e.firestore,e.converter,eg(e._query,this._limit,this._limitType))}}function P5(n){return Mx("limit",n),sy._create("limit",n,"F")}function b5(n){return Mx("limitToLast",n),sy._create("limitToLast",n,"L")}class oy extends df{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new oy(e,t,r)}_apply(e){const t=tO(e,this.type,this._docOrFields,this._inclusive);return new zn(e.firestore,e.converter,function(i,s){return new Fs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,t))}}function C5(...n){return oy._create("startAt",n,!0)}function k5(...n){return oy._create("startAfter",n,!1)}class ay extends df{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new ay(e,t,r)}_apply(e){const t=tO(e,this.type,this._docOrFields,this._inclusive);return new zn(e.firestore,e.converter,function(i,s){return new Fs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,t))}}function x5(...n){return ay._create("endBefore",n,!1)}function O5(...n){return ay._create("endAt",n,!0)}function tO(n,e,t,r){if(t[0]=Ce(t[0]),t[0]instanceof Oh)return function(s,l,u,d,h){if(!d)throw new ae(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const m=[];for(const g of Au(s))if(g.field.isKeyField())m.push(Ga(l,d.key));else{const _=d.data.field(g.field);if(jg(_))throw new ae(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+g.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){const T=g.field.canonicalString();throw new ae(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}m.push(_)}return new Uo(m,h)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=cl(n.firestore);return function(l,u,d,h,m,g){const _=l.explicitOrderBy;if(m.length>_.length)throw new ae(te.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let I=0;I<m.length;I++){const R=m[I];if(_[I].field.isKeyField()){if(typeof R!="string")throw new ae(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof R}`);if(!YE(l)&&R.indexOf("/")!==-1)throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${R}' contains a slash.`);const A=l.path.child(Be.fromString(R));if(!_e.isDocumentKey(A))throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${A}' is not because it contains an odd number of segments.`);const V=new _e(A);T.push(Ga(u,V))}else{const A=Yx(d,h,R);T.push(A)}}return new Uo(T,g)}(n._query,n.firestore._databaseId,i,e,t,r)}}function nP(n,e,t){if(typeof(t=Ce(t))=="string"){if(t==="")throw new ae(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YE(e)&&t.indexOf("/")!==-1)throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Be.fromString(t));if(!_e.isDocumentKey(r))throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ga(n,new _e(r))}if(t instanceof Ot)return Ga(n,t._key);throw new ae(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zg(t)}.`)}function rP(n,e){if(!Array.isArray(n)||n.length===0)throw new ae(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nO(n,e){const t=function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ae(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class q0{convertValue(e,t="none"){switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Xo(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Bu].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Tt(l.doubleValue));return new N0(s)}convertGeoPoint(e){return new ey(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Bg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Sh(e));default:return null}}convertTimestamp(e){const t=Os(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Be.fromString(e);Re(B1(r));const i=new Vo(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(t)||Bt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class N5 extends q0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Ds=class extends Oh{constructor(e,t,r,i,s,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ry("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},oh=class extends Ds{data(e={}){return super.data(e)}},zo=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new $a(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new oh(this._firestore,this._userDataWriter,r.key,r,new $a(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new oh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new $a(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||u.type!==3).map(u=>{const d=new oh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new $a(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return u.type!==0&&(h=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:D5(u.type),doc:d,oldIndex:h,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function D5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}function rO(n,e){return n instanceof Ds&&e instanceof Ds?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof zo&&e instanceof zo&&n._firestore===e._firestore&&Wx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(n){n=et(n,Ot);const e=et(n.firestore,Wt);return Nx(Ln(e),n._key).then(t=>H0(e,n,t))}class hl extends q0{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}function V5(n){n=et(n,Ot);const e=et(n.firestore,Wt),t=Ln(e),r=new hl(e);return r5(t,n._key).then(i=>new Ds(e,r,n._key,i,new $a(i!==null&&i.hasLocalMutations,!0),n.converter))}function M5(n){n=et(n,Ot);const e=et(n.firestore,Wt);return Nx(Ln(e),n._key,{source:"server"}).then(t=>H0(e,n,t))}function F5(n){n=et(n,zn);const e=et(n.firestore,Wt),t=Ln(e),r=new hl(e);return eO(n._query),Dx(t,n._query).then(i=>new zo(e,r,n,i))}function U5(n){n=et(n,zn);const e=et(n.firestore,Wt),t=Ln(e),r=new hl(e);return i5(t,n._query).then(i=>new zo(e,r,n,i))}function $5(n){n=et(n,zn);const e=et(n.firestore,Wt),t=Ln(e),r=new hl(e);return Dx(t,n._query,{source:"server"}).then(i=>new zo(e,r,n,i))}function iP(n,e,t){n=et(n,Ot);const r=et(n.firestore,Wt),i=ly(n.converter,e,t);return hf(r,[ny(cl(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Rt.none())])}function sP(n,e,t,...r){n=et(n,Ot);const i=et(n.firestore,Wt),s=cl(i);let l;return l=typeof(e=Ce(e))=="string"||e instanceof Bo?U0(s,"updateDoc",n._key,e,t,r):F0(s,"updateDoc",n._key,e),hf(i,[l.toMutation(n._key,Rt.exists(!0))])}function j5(n){return hf(et(n.firestore,Wt),[new pc(n._key,Rt.none())])}function B5(n,e){const t=et(n.firestore,Wt),r=ug(n),i=ly(n.converter,e);return hf(t,[ny(cl(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Rt.exists(!1))]).then(()=>r)}function iO(n,...e){var t,r,i;n=Ce(n);let s={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||zw(e[l])||(s=e[l],l++);const u={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(zw(e[l])){const g=e[l];e[l]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[l+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[l+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let d,h,m;if(n instanceof Ot)h=et(n.firestore,Wt),m=hc(n._key.path),d={next:g=>{e[l]&&e[l](H0(h,n,g))},error:e[l+1],complete:e[l+2]};else{const g=et(n,zn);h=et(g.firestore,Wt),m=g._query;const _=new hl(h);d={next:T=>{e[l]&&e[l](new zo(h,_,g,T))},error:e[l+1],complete:e[l+2]},eO(n._query)}return function(_,T,I,R){const A=new Jg(R),V=new T0(T,A,I);return _.asyncQueue.enqueueAndForget(async()=>w0(await Zu(_),V)),()=>{A.su(),_.asyncQueue.enqueueAndForget(async()=>E0(await Zu(_),V))}}(Ln(h),m,u,d)}function z5(n,e){return s5(Ln(n=et(n,Wt)),zw(e)?e:{next:e})}function hf(n,e){return function(r,i){const s=new Sn;return r.asyncQueue.enqueueAndForget(async()=>OB(await x0(r),i,s)),s.promise}(Ln(n),e)}function H0(n,e,t){const r=t.docs.get(e._key),i=new hl(n);return new Ds(n,i,e._key,r,new $a(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let q5=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=cl(e)}set(e,t,r){this._verifyNotCommitted();const i=So(e,this._firestore),s=ly(i.converter,t,r),l=ny(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(l.toMutation(i._key,Rt.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=So(e,this._firestore);let l;return l=typeof(t=Ce(t))=="string"||t instanceof Bo?U0(this._dataReader,"WriteBatch.update",s._key,t,r,i):F0(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(l.toMutation(s._key,Rt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=So(e,this._firestore);return this._mutations=this._mutations.concat(new pc(t._key,Rt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ae(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function So(n,e){if((n=Ce(n)).firestore!==e)throw new ae(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=cl(e)}get(e){const t=So(e,this._firestore),r=new N5(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return Ee();const s=i[0];if(s.isFoundDocument())return new Oh(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new Oh(this._firestore,r,t._key,null,t.converter);throw Ee()})}set(e,t,r){const i=So(e,this._firestore),s=ly(i.converter,t,r),l=ny(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,l),this}update(e,t,r,...i){const s=So(e,this._firestore);let l;return l=typeof(t=Ce(t))=="string"||t instanceof Bo?U0(this._dataReader,"Transaction.update",s._key,t,r,i):F0(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,l),this}delete(e){const t=So(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K5=class extends H5{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=So(e,this._firestore),r=new hl(this._firestore);return super.get(e).then(i=>new Ds(this._firestore,r,t._key,i._document,new $a(!1,!1),t.converter))}};function G5(n,e,t){n=et(n,Wt);const r=Object.assign(Object.assign({},W5),t);return function(s){if(s.maxAttempts<1)throw new ae(te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,l,u){const d=new Sn;return s.asyncQueue.enqueueAndForget(async()=>{const h=await e5(s);new XB(s.asyncQueue,h,u,l,d).Iu()}),d.promise}(Ln(n),i=>e(new K5(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(){return new cf("deleteField")}function Y5(){return new D0("serverTimestamp")}function J5(...n){return new L0("arrayUnion",n)}function X5(...n){return new V0("arrayRemove",n)}function Z5(n){return new M0("increment",n)}(function(e,t=!0){(function(i){dc=i})(Rr),Ki(new jr("firestore",(r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),u=new Wt(new G$(r.getProvider("auth-internal")),new J$(l,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ae(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vo(h.options.projectId,m)}(l,i),l);return s=Object.assign({useFetchStreams:t},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),wr(MR,FR,e),wr(MR,FR,"esm2017")})();const e3="@firebase/firestore-compat",t3="0.3.44";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(){if(typeof Uint8Array>"u")throw new ae("unimplemented","Uint8Arrays are not available in this environment.")}function aP(){if(!k4())throw new ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}let sO=class qw{constructor(e){this._delegate=e}static fromBase64String(e){return aP(),new qw(Yi.fromBase64String(e))}static fromUint8Array(e){return oP(),new qw(Yi.fromUint8Array(e))}toBase64(){return aP(),this._delegate.toBase64()}toUint8Array(){return oP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(n){return n3(n,["next","error","complete"])}function n3(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{enableIndexedDbPersistence(e,t){return h5(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return f5(e._delegate)}clearIndexedDbPersistence(e){return p5(e._delegate)}}class oO{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Vo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Gi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){l5(this._delegate,e,t,r)}enableNetwork(){return g5(this._delegate)}disableNetwork(){return y5(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Vx("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return m5(this._delegate)}onSnapshotsInSync(e){return z5(this._delegate,e)}get app(){if(!this._appCompat)throw new ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ec(this,Bx(this._delegate,e))}catch(t){throw jn(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ur(this,ug(this._delegate,e))}catch(t){throw jn(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new $n(this,u5(this._delegate,e))}catch(t){throw jn(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return G5(this._delegate,t=>e(new aO(this,t)))}batch(){return Ln(this._delegate),new lO(new q5(this._delegate,e=>hf(this._delegate,e)))}loadBundle(e){return _5(this._delegate,e)}namedQuery(e){return v5(this._delegate,e).then(t=>t?new $n(this,t):null)}}class uy extends q0{constructor(e){super(),this.firestore=e}convertBytes(e){return new sO(new Yi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ur.forKey(t,this.firestore,null)}}function i3(n){W$(n)}class aO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new uy(e)}get(e){const t=ja(e);return this._delegate.get(t).then(r=>new Nh(this._firestore,new Ds(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ja(e);return r?(K0("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=ja(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=ja(e);return this._delegate.delete(t),this}}class lO{constructor(e){this._delegate=e}set(e,t,r){const i=ja(e);return r?(K0("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=ja(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=ja(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class nl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new oh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Dh(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=nl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new nl(e,new uy(e),t),i.set(t,s)),s}}nl.INSTANCES=new WeakMap;class Ur{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new uy(e)}static forPath(e,t,r){if(e.length%2!==0)throw new ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ur(t,new Ot(t._delegate,r,new _e(e)))}static forKey(e,t,r){return new Ur(t,new Ot(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ec(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ec(this.firestore,Bx(this._delegate,e))}catch(t){throw jn(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ce(e),e instanceof Ot?zx(this._delegate,e):!1}set(e,t){t=K0("DocumentReference.set",t);try{return t?iP(this._delegate,e,t):iP(this._delegate,e)}catch(r){throw jn(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?sP(this._delegate,e):sP(this._delegate,e,t,...r)}catch(i){throw jn(i,"updateDoc()","DocumentReference.update()")}}delete(){return j5(this._delegate)}onSnapshot(...e){const t=uO(e),r=cO(e,i=>new Nh(this.firestore,new Ds(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return iO(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=V5(this._delegate):(e==null?void 0:e.source)==="server"?t=M5(this._delegate):t=L5(this._delegate),t.then(r=>new Nh(this.firestore,new Ds(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ur(this.firestore,e?this._delegate.withConverter(nl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function jn(n,e,t){return n.message=n.message.replace(e,t),n}function uO(n){for(const e of n)if(typeof e=="object"&&!Hw(e))return e;return{}}function cO(n,e){var t,r;let i;return Hw(n[0])?i=n[0]:Hw(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Nh{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ur(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return rO(this._delegate,e._delegate)}}class Dh extends Nh{data(e){const t=this._delegate.data(e);return this._delegate._converter||q$(t!==void 0),t}}class $n{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new uy(e)}where(e,t,r){try{return new $n(this.firestore,vo(this._delegate,R5(e,t,r)))}catch(i){throw jn(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new $n(this.firestore,vo(this._delegate,A5(e,t)))}catch(r){throw jn(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new $n(this.firestore,vo(this._delegate,P5(e)))}catch(t){throw jn(t,"limit()","Query.limit()")}}limitToLast(e){try{return new $n(this.firestore,vo(this._delegate,b5(e)))}catch(t){throw jn(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new $n(this.firestore,vo(this._delegate,C5(...e)))}catch(t){throw jn(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new $n(this.firestore,vo(this._delegate,k5(...e)))}catch(t){throw jn(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new $n(this.firestore,vo(this._delegate,x5(...e)))}catch(t){throw jn(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new $n(this.firestore,vo(this._delegate,O5(...e)))}catch(t){throw jn(t,"endAt()","Query.endAt()")}}isEqual(e){return Wx(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=U5(this._delegate):(e==null?void 0:e.source)==="server"?t=$5(this._delegate):t=F5(this._delegate),t.then(r=>new Kw(this.firestore,new zo(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=uO(e),r=cO(e,i=>new Kw(this.firestore,new zo(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return iO(this._delegate,t,r)}withConverter(e){return new $n(this.firestore,e?this._delegate.withConverter(nl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class s3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Dh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Kw{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new $n(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Dh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new s3(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Dh(this._firestore,r))})}isEqual(e){return rO(this._delegate,e._delegate)}}class ec extends $n{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ur(this.firestore,e):null}doc(e){try{return e===void 0?new Ur(this.firestore,ug(this._delegate)):new Ur(this.firestore,ug(this._delegate,e))}catch(t){throw jn(t,"doc()","CollectionReference.doc()")}}add(e){return B5(this._delegate,e).then(t=>new Ur(this.firestore,t))}isEqual(e){return zx(this._delegate,e._delegate)}withConverter(e){return new ec(this.firestore,e?this._delegate.withConverter(nl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ja(n){return et(n,Ot)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(...e){this._delegate=new Bo(...e)}static documentId(){return new G0(St.keyField().canonicalString())}isEqual(e){return e=Ce(e),e instanceof Bo?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{static serverTimestamp(){const e=Y5();return e._methodName="FieldValue.serverTimestamp",new Fa(e)}static delete(){const e=Q5();return e._methodName="FieldValue.delete",new Fa(e)}static arrayUnion(...e){const t=J5(...e);return t._methodName="FieldValue.arrayUnion",new Fa(t)}static arrayRemove(...e){const t=X5(...e);return t._methodName="FieldValue.arrayRemove",new Fa(t)}static increment(e){const t=Z5(e);return t._methodName="FieldValue.increment",new Fa(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3={Firestore:oO,GeoPoint:ey,Timestamp:At,Blob:sO,Transaction:aO,WriteBatch:lO,DocumentReference:Ur,DocumentSnapshot:Nh,Query:$n,QueryDocumentSnapshot:Dh,QuerySnapshot:Kw,CollectionReference:ec,FieldPath:G0,FieldValue:Fa,setLogLevel:i3,CACHE_SIZE_UNLIMITED:d5};function a3(n,e){n.INTERNAL.registerComponent(new jr("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},o3)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(n){a3(n,(e,t)=>new oO(e,t,new r3)),n.registerVersion(e3,t3)}l3(uc);const Pd={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},uu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function dO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c3=u3,d3=dO,hO=new es("auth","Firebase",dO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=new Kh("@firebase/auth");function h3(n,...e){dg.logLevel<=Ue.WARN&&dg.warn(`Auth (${Rr}): ${n}`,...e)}function Im(n,...e){dg.logLevel<=Ue.ERROR&&dg.error(`Auth (${Rr}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(n,...e){throw Y0(n,...e)}function on(n,...e){return Y0(n,...e)}function Q0(n,e,t){const r=Object.assign(Object.assign({},d3()),{[e]:t});return new es("auth","Firebase",r).create(e,{appName:n.name})}function gn(n){return Q0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Rn(n,"argument-error"),Q0(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Y0(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return hO.create(n,...e)}function de(n,e,...t){if(!n)throw Y0(e,...t)}function Ui(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Im(e),new Error(e)}function hi(n,e){n||Ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function J0(){return lP()==="http:"||lP()==="https:"}function lP(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(J0()||AE()||"connection"in navigator)?navigator.onLine:!0}function p3(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t){this.shortDelay=e,this.longDelay=t,hi(t>e,"Short delay should be less than long delay!"),this.isMobile=yC()||kg()}get(){return f3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(n,e){hi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=new ff(3e4,6e4);function Ft(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ut(n,e,t,r,i={}){return pO(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const u=fi(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:d},s);return vC()||(h.referrerPolicy="no-referrer"),fO.fetch()(mO(n,n.config.apiHost,t,u),h)})}async function pO(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},m3),e);try{const i=new _3(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw Yd(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const u=s.ok?l.errorMessage:l.error.message,[d,h]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yd(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Yd(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Yd(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Q0(n,m,h);Rn(n,m)}}catch(i){if(i instanceof mn)throw i;Rn(n,"network-request-failed",{message:String(i)})}}async function Bs(n,e,t,r,i={}){const s=await Ut(n,e,t,r,i);return"mfaPendingCredential"in s&&Rn(n,"multi-factor-auth-required",{_serverResponse:s}),s}function mO(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?X0(n.config,i):`${n.config.apiScheme}://${i}`}function y3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(on(this.auth,"network-request-failed")),g3.get())})}}function Yd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=on(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(n){return n!==void 0&&n.getResponse!==void 0}function cP(n){return n!==void 0&&n.enterprise!==void 0}class gO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return y3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(n){return(await Ut(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function yO(n,e){return Ut(n,"GET","/v2/recaptchaConfig",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w3(n,e){return Ut(n,"POST","/v1/accounts:delete",e)}async function E3(n,e){return Ut(n,"POST","/v1/accounts:update",e)}async function _O(n,e){return Ut(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function I3(n,e=!1){const t=Ce(n),r=await t.getIdToken(e),i=cy(r);de(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ah(Dv(i.auth_time)),issuedAtTime:ah(Dv(i.iat)),expirationTime:ah(Dv(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Dv(n){return Number(n)*1e3}function cy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Im("JWT malformed, contained fewer than 3 sections"),null;try{const i=bg(t);return i?JSON.parse(i):(Im("Failed to decode base64 JWT payload"),null)}catch(i){return Im("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function dP(n){const e=cy(n);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof mn&&T3(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function T3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ah(this.lastLoginAt),this.creationTime=ah(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Ls(n,_O(t,{idToken:r}));de(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?vO(s.providerUserInfo):[],u=A3(n.providerData,l),d=n.isAnonymous,h=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),m=d?h:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Gw(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,g)}async function R3(n){const e=Ce(n);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function A3(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vO(n){return n.map(e=>{var{providerId:t}=e,r=cc(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P3(n,e){const t=await pO(n,{},async()=>{const r=fi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=mO(n,i,"/v1/token",`key=${s}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",fO.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function b3(n,e){return Ut(n,"POST","/v2/accounts:revokeToken",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){de(e.length!==0,"internal-error");const t=dP(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await P3(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new bu;return r&&(de(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(de(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bu,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(n,e){de(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ss{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=cc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new S3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Ls(this,this.stsTokenManager.getToken(this.auth,e));return de(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return I3(this,e)}reload(){return R3(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ss(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Vh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ge(this.auth.app))return Promise.reject(gn(this.auth));const e=await this.getIdToken();return await Ls(this,w3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,l,u,d,h,m;const g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,T=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(u=t.tenantId)!==null&&u!==void 0?u:void 0,A=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,V=(h=t.createdAt)!==null&&h!==void 0?h:void 0,L=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:W,isAnonymous:j,providerData:q,stsTokenManager:D}=t;de(M&&D,e,"internal-error");const P=bu.fromJSON(this.name,D);de(typeof M=="string",e,"internal-error"),wo(g,e.name),wo(_,e.name),de(typeof W=="boolean",e,"internal-error"),de(typeof j=="boolean",e,"internal-error"),wo(T,e.name),wo(I,e.name),wo(R,e.name),wo(A,e.name),wo(V,e.name),wo(L,e.name);const C=new Ss({uid:M,auth:e,email:_,emailVerified:W,displayName:g,isAnonymous:j,photoURL:I,phoneNumber:T,tenantId:R,stsTokenManager:P,createdAt:V,lastLoginAt:L});return q&&Array.isArray(q)&&(C.providerData=q.map(E=>Object.assign({},E))),A&&(C._redirectEventId=A),C}static async _fromIdTokenResponse(e,t,r=!1){const i=new bu;i.updateFromServerResponse(t);const s=new Ss({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vh(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];de(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?vO(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),u=new bu;u.updateFromIdToken(r);const d=new Ss({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Gw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=new Map;function vr(n){hi(n instanceof Function,"Expected a class definition");let e=hP.get(n);return e?(hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,hP.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}wO.type="NONE";const tc=wO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(n,e,t){return`firebase:${n}:${e}:${t}`}class Cu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=qa(this.userKey,i.apiKey,s),this.fullPersistenceKey=qa("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ss._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Cu(vr(tc),e,r);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||vr(tc);const l=qa(r,e.config.apiKey,e.name);let u=null;for(const h of t)try{const m=await h._get(l);if(m){const g=Ss._fromJSON(e,m);h!==s&&(u=g),s=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!d.length?new Cu(s,e,r):(s=d[0],u&&await s._set(l,u.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new Cu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RO(e))return"Blackberry";if(AO(e))return"Webos";if(IO(e))return"Safari";if((e.includes("chrome/")||TO(e))&&!e.includes("edge/"))return"Chrome";if(pf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function EO(n=We()){return/firefox\//i.test(n)}function IO(n=We()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TO(n=We()){return/crios\//i.test(n)}function SO(n=We()){return/iemobile/i.test(n)}function pf(n=We()){return/android/i.test(n)}function RO(n=We()){return/blackberry/i.test(n)}function AO(n=We()){return/webos/i.test(n)}function mf(n=We()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function C3(n=We()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function k3(n=We()){var e;return mf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function x3(){return PE()&&document.documentMode===10}function PO(n=We()){return mf(n)||pf(n)||AO(n)||RO(n)||/windows phone/i.test(n)||SO(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(n,e=[]){let t;switch(n){case"Browser":t=fP(We());break;case"Worker":t=`${fP(We())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Rr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,u)=>{try{const d=e(s);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N3(n,e={}){return Ut(n,"GET","/v2/passwordPolicy",Ft(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=6;class L3{constructor(e){var t,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:D3,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsUppercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pP(this),this.idTokenSubscription=new pP(this),this.beforeStateQueue=new O3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vr(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Cu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _O(this,{idToken:e}),r=await Ss._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ge(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=p3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ge(this.app))return Promise.reject(gn(this));const t=e?Ce(e):null;return t&&de(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ge(this.app)?Promise.reject(gn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ge(this.app)?Promise.reject(gn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await N3(this),t=new L3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new es("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await b3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vr(e)||this._popupRedirectResolver;de(t,this,"argument-error"),this.redirectPersistenceManager=await Cu.create(this,[vr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(u,this,"internal-error"),u.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Ge(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&h3(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Nt(n){return Ce(n)}class pP{constructor(e){this.auth=e,this.observer=null,this.addObserver=bE(t=>this.observer=t)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M3(n){gf=n}function Z0(n){return gf.loadJS(n)}function F3(){return gf.recaptchaV2Script}function U3(){return gf.recaptchaEnterpriseScript}function $3(){return gf.gapiScript}function CO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=500,B3=6e4,Yp=1e12;class z3{constructor(e){this.auth=e,this.counter=Yp,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new H3(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||Yp;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||Yp;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||Yp;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class W3{constructor(){this.enterprise=new q3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class q3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class H3{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;de(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=K3(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},B3)},j3))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function K3(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const G3="recaptcha-enterprise",lh="NO_RECAPTCHA";class kO{constructor(e){this.type=G3,this.auth=Nt(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,u)=>{yO(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const h=new gO(d);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,l(h.siteKey)}}).catch(d=>{u(d)})})}function i(s,l,u){const d=window.grecaptcha;cP(d)?d.enterprise.ready(()=>{d.enterprise.execute(s,{action:e}).then(h=>{l(h)}).catch(()=>{l(lh)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new W3().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(u=>{if(!t&&cP(window.grecaptcha))i(u,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=U3();d.length!==0&&(d+=u),Z0(d).then(()=>{i(u,s,l)}).catch(h=>{l(h)})}}).catch(u=>{l(u)})})}}async function bd(n,e,t,r=!1,i=!1){const s=new kO(n);let l;if(i)l=lh;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,h=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function xo(n,e,t,r,i){var s,l;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await bd(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await bd(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)});else if(i==="PHONE_PROVIDER")if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("PHONE_PROVIDER")){const u=await bd(n,e,t);return r(n,u).catch(async d=>{var h;if(((h=n._getRecaptchaConfig())===null||h===void 0?void 0:h.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const m=await bd(n,e,t,!1,!0);return r(n,m)}return Promise.reject(d)})}else{const u=await bd(n,e,t,!1,!0);return r(n,u)}else return Promise.reject(i+" provider is not supported.")}async function Q3(n){const e=Nt(n),t=await yO(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new gO(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new kO(e).verify()}function Y3(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(vr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function J3(n,e,t){const r=Nt(n);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),s=xO(e),{host:l,port:u}=X3(e),d=u===null?"":`:${u}`,h={url:`${s}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(ci(h,r.config.emulator)&&ci(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,i||Z3()}function xO(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function X3(n){const e=xO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:mP(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:mP(l)}}}function mP(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Z3(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,t){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(n,e){return Ut(n,"POST","/v1/accounts:resetPassword",Ft(n,e))}async function ez(n,e){return Ut(n,"POST","/v1/accounts:update",e)}async function tz(n,e){return Ut(n,"POST","/v1/accounts:signUp",e)}async function nz(n,e){return Ut(n,"POST","/v1/accounts:update",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rz(n,e){return Bs(n,"POST","/v1/accounts:signInWithPassword",Ft(n,e))}async function dy(n,e){return Ut(n,"POST","/v1/accounts:sendOobCode",Ft(n,e))}async function iz(n,e){return dy(n,e)}async function sz(n,e){return dy(n,e)}async function oz(n,e){return dy(n,e)}async function az(n,e){return dy(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lz(n,e){return Bs(n,"POST","/v1/accounts:signInWithEmailLink",Ft(n,e))}async function uz(n,e){return Bs(n,"POST","/v1/accounts:signInWithEmailLink",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends wc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Mh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Mh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xo(e,t,"signInWithPassword",rz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return lz(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xo(e,r,"signUpPassword",tz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return uz(e,{idToken:t,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cs(n,e){return Bs(n,"POST","/v1/accounts:signInWithIdp",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz="http://localhost";class Ji extends wc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ji(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=cc(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Ji(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Cs(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Cs(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Cs(e,t)}buildRequest(){const e={requestUri:cz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fi(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(n,e){return Ut(n,"POST","/v1/accounts:sendVerificationCode",Ft(n,e))}async function dz(n,e){return Bs(n,"POST","/v1/accounts:signInWithPhoneNumber",Ft(n,e))}async function hz(n,e){const t=await Bs(n,"POST","/v1/accounts:signInWithPhoneNumber",Ft(n,e));if(t.temporaryProof)throw Yd(n,"account-exists-with-different-credential",t);return t}const fz={USER_NOT_FOUND:"user-not-found"};async function pz(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Bs(n,"POST","/v1/accounts:signInWithPhoneNumber",Ft(n,t),fz)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends wc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ha({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ha({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return dz(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return hz(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return pz(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!t&&!i&&!s?null:new Ha({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gz(n){const e=ui(Vi(n)).link,t=e?ui(Vi(e)).deep_link_id:null,r=ui(Vi(n)).deep_link_id;return(r?ui(Vi(r)).link:null)||r||t||e||n}class hy{constructor(e){var t,r,i,s,l,u;const d=ui(Vi(e)),h=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,g=mz((i=d.mode)!==null&&i!==void 0?i:null);de(h&&m&&g,"argument-error"),this.apiKey=h,this.operation=g,this.code=m,this.continueUrl=(s=d.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=gz(e);try{return new hy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.providerId=ta.PROVIDER_ID}static credential(e,t){return Mh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=hy.parseLink(t);return de(r,"argument-error"),Mh._fromEmailAndCode(e,r.code,r.tenantId)}}ta.PROVIDER_ID="password";ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends zs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ku extends Ec{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return de("providerId"in t&&"signInMethod"in t,"argument-error"),Ji._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return de(e.idToken||e.accessToken,"argument-error"),Ji._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ku.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ku.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:l,providerId:u}=e;if(!r&&!i&&!t&&!s||!u)return null;try{return new ku(u)._credential({idToken:t,accessToken:r,nonce:l,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Ec{constructor(){super("facebook.com")}static credential(e){return Ji._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ji._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ni.credential(t,r)}catch{return null}}}Ni.GOOGLE_SIGN_IN_METHOD="google.com";Ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Ec{constructor(){super("github.com")}static credential(e){return Ji._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Di.credential(e.oauthAccessToken)}catch{return null}}}Di.GITHUB_SIGN_IN_METHOD="github.com";Di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz="http://localhost";class nc extends wc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Cs(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Cs(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Cs(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=t;return!r||!i||!s||r!==i?null:new nc(r,s)}static _create(e,t){return new nc(e,t)}buildRequest(){return{requestUri:yz,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z="saml.";class hg extends zs{constructor(e){de(e.startsWith(_z),"argument-error"),super(e)}static credentialFromResult(e){return hg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return hg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=nc.fromJSON(e);return de(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return nc._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Ec{constructor(){super("twitter.com")}static credential(e,t){return Ji._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Li.credential(t,r)}catch{return null}}}Li.TWITTER_SIGN_IN_METHOD="twitter.com";Li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(n,e){return Bs(n,"POST","/v1/accounts:signUp",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await Ss._fromIdTokenResponse(e,r,i),l=yP(r);return new Br({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=yP(r);return new Br({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function yP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vz(n){var e;if(Ge(n.app))return Promise.reject(gn(n));const t=Nt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Br({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await NO(t,{returnSecureToken:!0}),i=await Br._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends mn{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new fg(e,t,r,i)}}function DO(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?fg._fromErrorAndOperation(n,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wz(n,e){const t=Ce(n);await fy(!0,t,e);const{providerUserInfo:r}=await E3(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=LO(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function eI(n,e,t=!1){const r=await Ls(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Br._forOperation(n,"link",r)}async function fy(n,e,t){await Vh(e);const r=LO(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";de(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(n,e,t=!1){const{auth:r}=n;if(Ge(r.app))return Promise.reject(gn(r));const i="reauthenticate";try{const s=await Ls(n,DO(r,i,e,n),t);de(s.idToken,r,"internal-error");const l=cy(s.idToken);de(l,r,"internal-error");const{sub:u}=l;return de(n.uid===u,r,"user-mismatch"),Br._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Rn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(n,e,t=!1){if(Ge(n.app))return Promise.reject(gn(n));const r="signIn",i=await DO(n,r,e),s=await Br._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function py(n,e){return MO(Nt(n),e)}async function FO(n,e){const t=Ce(n);return await fy(!1,t,e.providerId),eI(t,e)}async function UO(n,e){return VO(Ce(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ez(n,e){return Bs(n,"POST","/v1/accounts:signInWithCustomToken",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iz(n,e){if(Ge(n.app))return Promise.reject(gn(n));const t=Nt(n),r=await Ez(t,{token:e,returnSecureToken:!0}),i=await Br._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?tI._fromServerResponse(e,t):"totpInfo"in t?nI._fromServerResponse(e,t):Rn(e,"internal-error")}}class tI extends yf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new tI(t)}}class nI extends yf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new nI(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(n,e,t){var r;de(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),de(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),de(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(de(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(de(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(n){const e=Nt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Tz(n,e,t){const r=Nt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&my(r,i,t),await xo(r,i,"getOobCode",sz,"EMAIL_PASSWORD_PROVIDER")}async function Sz(n,e,t){await OO(Ce(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rI(n),r})}async function Rz(n,e){await nz(Ce(n),{oobCode:e})}async function $O(n,e){const t=Ce(n),r=await OO(t,{oobCode:e}),i=r.requestType;switch(de(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(r.mfaInfo,t,"internal-error");default:de(r.email,t,"internal-error")}let s=null;return r.mfaInfo&&(s=yf._fromServerResponse(Nt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Az(n,e){const{data:t}=await $O(Ce(n),e);return t.email}async function Pz(n,e,t){if(Ge(n.app))return Promise.reject(gn(n));const r=Nt(n),l=await xo(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",NO,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&rI(n),d}),u=await Br._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function bz(n,e,t){return Ge(n.app)?Promise.reject(gn(n)):py(Ce(n),ta.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rI(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cz(n,e,t){const r=Nt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(l,u){de(u.handleCodeInApp,r,"argument-error"),u&&my(r,l,u)}s(i,t),await xo(r,i,"getOobCode",oz,"EMAIL_PASSWORD_PROVIDER")}function kz(n,e){const t=hy.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function xz(n,e,t){if(Ge(n.app))return Promise.reject(gn(n));const r=Ce(n),i=ta.credentialWithLink(e,t||Lh());return de(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),py(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oz(n,e){return Ut(n,"POST","/v1/accounts:createAuthUri",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nz(n,e){const t=J0()?Lh():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await Oz(Ce(n),r);return i||[]}async function Dz(n,e){const t=Ce(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&my(t.auth,i,e);const{email:s}=await iz(t.auth,i);s!==n.email&&await n.reload()}async function Lz(n,e,t){const r=Ce(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&my(r.auth,s,t);const{email:l}=await az(r.auth,s);l!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vz(n,e){return Ut(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mz(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ce(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await Ls(r,Vz(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const u=r.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function Fz(n,e){const t=Ce(n);return Ge(t.auth.app)?Promise.reject(gn(t.auth)):jO(t,e,null)}function Uz(n,e){return jO(Ce(n),null,e)}async function jO(n,e,t){const{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const l=await Ls(n,ez(r,s));await n._updateTokensIfNecessary(l,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $z(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const l=(t=(e=cy(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(l){const u=l!=="anonymous"&&l!=="custom"?l:null;return new xu(s,u)}}if(!r)return null;switch(r){case"facebook.com":return new jz(s,i);case"github.com":return new Bz(s,i);case"google.com":return new zz(s,i);case"twitter.com":return new Wz(s,i,n.screenName||null);case"custom":case"anonymous":return new xu(s,null);default:return new xu(s,r,i)}}class xu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class BO extends xu{constructor(e,t,r,i){super(e,t,r),this.username=i}}class jz extends xu{constructor(e,t){super(e,"facebook.com",t)}}class Bz extends BO{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class zz extends xu{constructor(e,t){super(e,"google.com",t)}}class Wz extends BO{constructor(e,t,r){super(e,"twitter.com",t,r)}}function qz(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:$z(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new Ba("enroll",e,t)}static _fromMfaPendingCredential(e){return new Ba("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return Ba._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Ba._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Nt(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(u=>yf._fromServerResponse(r,u));de(i.mfaPendingCredential,r,"internal-error");const l=Ba._fromMfaPendingCredential(i.mfaPendingCredential);return new iI(l,s,async u=>{const d=await u._process(r,l);delete i.mfaInfo,delete i.mfaPendingCredential;const h=Object.assign(Object.assign({},i),{idToken:d.idToken,refreshToken:d.refreshToken});switch(t.operationType){case"signIn":const m=await Br._fromIdTokenResponse(r,t.operationType,h);return await r._updateCurrentUser(m.user),m;case"reauthenticate":return de(t.user,r,"internal-error"),Br._forOperation(t.user,t.operationType,h);default:Rn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function Hz(n,e){var t;const r=Ce(n),i=e;return de(e.customData.operationType,r,"argument-error"),de((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),iI._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(n,e){return Ut(n,"POST","/v2/accounts/mfaEnrollment:start",Ft(n,e))}function Kz(n,e){return Ut(n,"POST","/v2/accounts/mfaEnrollment:finalize",Ft(n,e))}function Gz(n,e){return Ut(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Ft(n,e))}class sI{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>yf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new sI(e)}async getSession(){return Ba._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),s=await Ls(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Ls(this.user,Gz(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const Lv=new WeakMap;function Qz(n){const e=Ce(n);return Lv.has(e)||Lv.set(e,sI._fromUser(e)),Lv.get(e)}const pg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pg,"1"),this.storage.removeItem(pg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz=1e3,Jz=10;class WO extends zO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);x3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Jz):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Yz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}WO.type="LOCAL";const oI=WO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO extends zO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}qO.type="SESSION";const rl=qO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new gy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async h=>h(t.origin,s)),d=await Xz(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((u,d)=>{const h=_f("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(g){const _=g;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(_.data.response);break;default:clearTimeout(m),clearTimeout(s),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return window}function e6(n){Qt().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(){return typeof Qt().WorkerGlobalScope<"u"&&typeof Qt().importScripts=="function"}async function t6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n6(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function r6(){return aI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="firebaseLocalStorageDb",i6=1,mg="firebaseLocalStorage",KO="fbase_key";class vf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yy(n,e){return n.transaction([mg],e?"readwrite":"readonly").objectStore(mg)}function s6(){const n=indexedDB.deleteDatabase(HO);return new vf(n).toPromise()}function Qw(){const n=indexedDB.open(HO,i6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(mg,{keyPath:KO})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(mg)?e(r):(r.close(),await s6(),e(await Qw()))})})}async function vP(n,e,t){const r=yy(n,!0).put({[KO]:e,value:t});return new vf(r).toPromise()}async function o6(n,e){const t=yy(n,!1).get(e),r=await new vf(t).toPromise();return r===void 0?null:r.value}function wP(n,e){const t=yy(n,!0).delete(e);return new vf(t).toPromise()}const a6=800,l6=3;class GO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qw(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>l6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gy._getInstance(r6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await t6(),!this.activeServiceWorker)return;this.sender=new Zz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qw();return await vP(e,pg,"1"),await wP(e,pg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>vP(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>o6(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>wP(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=yy(i,!1).getAll();return new vf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GO.type="LOCAL";const Fh=GO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(n,e){return Ut(n,"POST","/v2/accounts/mfaSignIn:start",Ft(n,e))}function u6(n,e){return Ut(n,"POST","/v2/accounts/mfaSignIn:finalize",Ft(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=CO("rcb"),c6=new ff(3e4,6e4);class d6{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Qt().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return de(h6(t),e,"argument-error"),this.shouldResolveImmediately(t)&&uP(Qt().grecaptcha)?Promise.resolve(Qt().grecaptcha):new Promise((r,i)=>{const s=Qt().setTimeout(()=>{i(on(e,"network-request-failed"))},c6.get());Qt()[Vv]=()=>{Qt().clearTimeout(s),delete Qt()[Vv];const u=Qt().grecaptcha;if(!u||!uP(u)){i(on(e,"internal-error"));return}const d=u.render;u.render=(h,m)=>{const g=d(h,m);return this.counter++,g},this.hostLanguage=t,r(u)};const l=`${F3()}?${fi({onload:Vv,render:"explicit",hl:t})}`;Z0(l).catch(()=>{clearTimeout(s),i(on(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=Qt().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function h6(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class f6{async load(e){return new z3(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh="recaptcha",p6={theme:"light",type:"image"};let m6=class{constructor(e,t,r=Object.assign({},p6)){this.parameters=r,this.type=uh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Nt(e),this.isInvisible=this.parameters.size==="invisible",de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;de(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new f6:new d6,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const s=l=>{l&&(this.tokenChangeListeners.delete(s),i(l))};this.tokenChangeListeners.add(s),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=Qt()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){de(J0()&&!aI(),this.auth,"internal-error"),await g6(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await v3(this.auth);de(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function g6(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Ha._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function y6(n,e,t){if(Ge(n.app))return Promise.reject(gn(n));const r=Nt(n),i=await _y(r,e,Ce(t));return new lI(i,s=>py(r,s))}async function _6(n,e,t){const r=Ce(n);await fy(!1,r,"phone");const i=await _y(r.auth,e,Ce(t));return new lI(i,s=>FO(r,s))}async function v6(n,e,t){const r=Ce(n);if(Ge(r.auth.app))return Promise.reject(gn(r.auth));const i=await _y(r.auth,e,Ce(t));return new lI(i,s=>UO(r,s))}async function _y(n,e,t){var r;if(!n._getRecaptchaConfig())try{await Q3(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){de(s.type==="enroll",n,"internal-error");const l={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await xo(n,l,"mfaSmsEnrollment",async(m,g)=>{if(g.phoneEnrollmentInfo.captchaResponse===lh){de((t==null?void 0:t.type)===uh,m,"argument-error");const _=await Mv(m,g,t);return _P(m,_)}return _P(m,g)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneSessionInfo.sessionInfo}else{de(s.type==="signin",n,"internal-error");const l=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;de(l,n,"missing-multi-factor-info");const u={mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await xo(n,u,"mfaSmsSignIn",async(g,_)=>{if(_.phoneSignInInfo.captchaResponse===lh){de((t==null?void 0:t.type)===uh,g,"argument-error");const T=await Mv(g,_,t);return EP(g,T)}return EP(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await xo(n,s,"sendVerificationCode",async(h,m)=>{if(m.captchaResponse===lh){de((t==null?void 0:t.type)===uh,h,"argument-error");const g=await Mv(h,m,t);return gP(h,g)}return gP(h,m)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).sessionInfo}}finally{t==null||t._reset()}}async function w6(n,e){const t=Ce(n);if(Ge(t.auth.app))return Promise.reject(gn(t.auth));await eI(t,e)}async function Mv(n,e,t){de(t.type===uh,n,"argument-error");const r=await t.verify();de(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,l=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:l,clientType:u,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,l=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:l,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let il=class Tm{constructor(e){this.providerId=Tm.PROVIDER_ID,this.auth=Nt(e)}verifyPhoneNumber(e,t){return _y(this.auth,e,Ce(t))}static credential(e,t){return Ha._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Tm.credentialFromTaggedObject(t)}static credentialFromError(e){return Tm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?Ha._fromTokenResponse(t,r):null}};il.PROVIDER_ID="phone";il.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(n,e){return e?vr(e):(de(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI extends wc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Cs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Cs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function E6(n){return MO(n.auth,new uI(n),n.bypassAuthState)}function I6(n){const{auth:e,user:t}=n;return de(t,e,"internal-error"),VO(t,new uI(n),n.bypassAuthState)}async function T6(n){const{auth:e,user:t}=n;return de(t,e,"internal-error"),eI(t,new uI(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E6;case"linkViaPopup":case"linkViaRedirect":return T6;case"reauthViaPopup":case"reauthViaRedirect":return I6;default:Rn(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=new ff(2e3,1e4);async function R6(n,e,t){if(Ge(n.app))return Promise.reject(on(n,"operation-not-supported-in-this-environment"));const r=Nt(n);vc(n,e,zs);const i=fl(r,t);return new Rs(r,"signInViaPopup",e,i).executeNotNull()}async function A6(n,e,t){const r=Ce(n);if(Ge(r.auth.app))return Promise.reject(on(r.auth,"operation-not-supported-in-this-environment"));vc(r.auth,e,zs);const i=fl(r.auth,t);return new Rs(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function P6(n,e,t){const r=Ce(n);vc(r.auth,e,zs);const i=fl(r.auth,t);return new Rs(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class Rs extends QO{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Rs.currentPopupAction&&Rs.currentPopupAction.cancel(),Rs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=_f();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(on(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(on(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(on(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,S6.get())};e()}}Rs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="pendingRedirect",ch=new Map;class C6 extends QO{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const r=await k6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k6(n,e){const t=JO(e),r=YO(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function cI(n,e){return YO(n)._set(JO(e),"true")}function x6(){ch.clear()}function dI(n,e){ch.set(n._key(),e)}function YO(n){return vr(n._redirectPersistence)}function JO(n){return qa(b6,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(n,e,t){return N6(n,e,t)}async function N6(n,e,t){if(Ge(n.app))return Promise.reject(gn(n));const r=Nt(n);vc(n,e,zs),await r._initializationPromise;const i=fl(r,t);return await cI(i,r),i._openRedirect(r,e,"signInViaRedirect")}function D6(n,e,t){return L6(n,e,t)}async function L6(n,e,t){const r=Ce(n);if(vc(r.auth,e,zs),Ge(r.auth.app))return Promise.reject(gn(r.auth));await r.auth._initializationPromise;const i=fl(r.auth,t);await cI(i,r.auth);const s=await XO(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function V6(n,e,t){return M6(n,e,t)}async function M6(n,e,t){const r=Ce(n);vc(r.auth,e,zs),await r.auth._initializationPromise;const i=fl(r.auth,t);await fy(!1,r,e.providerId),await cI(i,r.auth);const s=await XO(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function F6(n,e){return await Nt(n)._initializationPromise,vy(n,e,!1)}async function vy(n,e,t=!1){if(Ge(n.app))return Promise.reject(gn(n));const r=Nt(n),i=fl(r,e),l=await new C6(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}async function XO(n){const e=_f(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6=10*60*1e3;class ZO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!eN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(on(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=U6&&this.cachedEventUids.clear(),this.cachedEventUids.has(IP(e))}saveEventToCache(e){this.cachedEventUids.add(IP(e)),this.lastProcessedEventTime=Date.now()}}function IP(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function eN({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eN(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(n,e={}){return Ut(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B6=/^https?/;async function z6(n){if(n.config.emulator)return;const{authorizedDomains:e}=await tN(n);for(const t of e)try{if(W6(t))return}catch{}Rn(n,"unauthorized-domain")}function W6(n){const e=Lh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!B6.test(t))return!1;if(j6.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=new ff(3e4,6e4);function TP(){const n=Qt().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function H6(n){return new Promise((e,t)=>{var r,i,s;function l(){TP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TP(),t(on(n,"network-request-failed"))},timeout:q6.get()})}if(!((i=(r=Qt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Qt().gapi)===null||s===void 0)&&s.load)l();else{const u=CO("iframefcb");return Qt()[u]=()=>{gapi.load?l():t(on(n,"network-request-failed"))},Z0(`${$3()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw Sm=null,e})}let Sm=null;function K6(n){return Sm=Sm||H6(n),Sm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=new ff(5e3,15e3),Q6="__/auth/iframe",Y6="emulator/auth/iframe",J6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z6(n){const e=n.config;de(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?X0(e,Y6):`https://${n.config.authDomain}/${Q6}`,r={apiKey:e.apiKey,appName:n.name,v:Rr},i=X6.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${fi(r).slice(1)}`}async function e9(n){const e=await K6(n),t=Qt().gapi;return de(t,n,"internal-error"),e.open({where:document.body,url:Z6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=on(n,"network-request-failed"),u=Qt().setTimeout(()=>{s(l)},G6.get());function d(){Qt().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n9=500,r9=600,i9="_blank",s9="http://localhost";class SP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o9(n,e,t,r=n9,i=r9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},t9),{width:r.toString(),height:i.toString(),top:s,left:l}),h=We().toLowerCase();t&&(u=TO(h)?i9:t),EO(h)&&(e=e||s9,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[T,I])=>`${_}${T}=${I},`,"");if(k3(h)&&u!=="_self")return a9(e||"",u),new SP(null);const g=window.open(e||"",u,m);de(g,n,"popup-blocked");try{g.focus()}catch{}return new SP(g)}function a9(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9="__/auth/handler",u9="emulator/auth/handler",c9=encodeURIComponent("fac");async function Yw(n,e,t,r,i,s){de(n.config.authDomain,n,"auth-domain-config-required"),de(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Rr,eventId:i};if(e instanceof zs){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",EC(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries(s||{}))l[m]=g}if(e instanceof Ec){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),h=d?`#${c9}=${encodeURIComponent(d)}`:"";return`${d9(n)}?${fi(u).slice(1)}${h}`}function d9({config:n}){return n.emulator?X0(n,u9):`https://${n.authDomain}/${l9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="webStorageSupport";class h9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rl,this._completeRedirectFn=vy,this._overrideRedirectResult=dI}async _openPopup(e,t,r,i){var s;hi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await Yw(e,t,r,Lh(),i);return o9(e,l,_f())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await Yw(e,t,r,Lh(),i);return e6(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(hi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await e9(e),r=new ZO(e);return t.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fv,{type:Fv},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Fv];l!==void 0&&t(!!l),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=z6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return PO()||IO()||mf()}}const f9=h9;class p9{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ui("unexpected MultiFactorSessionType")}}}class hI extends p9{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new hI(e)}_finalizeEnroll(e,t,r){return Kz(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return u6(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class nN{constructor(){}static assertion(e){return hI._fromCredential(e)}}nN.FACTOR_ID="phone";var RP="@firebase/auth",AP="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y9(n){Ki(new jr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;de(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bO(n)},h=new V3(r,i,s,d);return Y3(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ki(new jr("auth-internal",e=>{const t=Nt(e.getProvider("auth").getImmediate());return(r=>new m9(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(RP,AP,g9(n)),wr(RP,AP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=5*60;SE("authIdTokenMaxAge");function v9(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}M3({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=on("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",v9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y9("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=2e3;async function E9(n,e,t){var r;const{BuildInfo:i}=sl();hi(e.sessionId,"AuthEvent did not contain a session ID");const s=await A9(e.sessionId),l={};return mf()?l.ibi=i.packageName:pf()?l.apn=i.packageName:Rn(n,"operation-not-supported-in-this-environment"),i.displayName&&(l.appDisplayName=i.displayName),l.sessionId=s,Yw(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,l)}async function I9(n){const{BuildInfo:e}=sl(),t={};mf()?t.iosBundleId=e.packageName:pf()?t.androidPackageName=e.packageName:Rn(n,"operation-not-supported-in-this-environment"),await tN(n,t)}function T9(n){const{cordova:e}=sl();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,C3()?"_blank":"_system","location=yes"),t(i)})})}async function S9(n,e,t){const{cordova:r}=sl();let i=()=>{};try{await new Promise((s,l)=>{let u=null;function d(){var g;s();const _=(g=r.plugins.browsertab)===null||g===void 0?void 0:g.close;typeof _=="function"&&_(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function h(){u||(u=window.setTimeout(()=>{l(on(n,"redirect-cancelled-by-user"))},w9))}function m(){(document==null?void 0:document.visibilityState)==="visible"&&h()}e.addPassiveListener(d),document.addEventListener("resume",h,!1),pf()&&document.addEventListener("visibilitychange",m,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",h,!1),document.removeEventListener("visibilitychange",m,!1),u&&window.clearTimeout(u)}})}finally{i()}}function R9(n){var e,t,r,i,s,l,u,d,h,m;const g=sl();de(typeof((e=g==null?void 0:g.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),de(typeof((t=g==null?void 0:g.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),de(typeof((s=(i=(r=g==null?void 0:g.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de(typeof((d=(u=(l=g==null?void 0:g.cordova)===null||l===void 0?void 0:l.plugins)===null||u===void 0?void 0:u.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),de(typeof((m=(h=g==null?void 0:g.cordova)===null||h===void 0?void 0:h.InAppBrowser)===null||m===void 0?void 0:m.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function A9(n){const e=P9(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function P9(n){if(hi(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9=20;class C9 extends ZO{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function k9(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:N9(),postBody:null,tenantId:n.tenantId,error:on(n,"no-auth-event")}}function x9(n,e){return Jw()._set(Xw(n),e)}async function PP(n){const e=await Jw()._get(Xw(n));return e&&await Jw()._remove(Xw(n)),e}function O9(n,e){var t,r;const i=L9(e);if(i.includes("/__/auth/callback")){const s=Rm(i),l=s.firebaseError?D9(decodeURIComponent(s.firebaseError)):null,u=(r=(t=l==null?void 0:l.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],d=u?on(u):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function N9(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<b9;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function Jw(){return vr(oI)}function Xw(n){return qa("authEvent",n.config.apiKey,n.name)}function D9(n){try{return JSON.parse(n)}catch{return null}}function L9(n){const e=Rm(n),t=e.link?decodeURIComponent(e.link):void 0,r=Rm(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Rm(i).link||i||r||t||n}function Rm(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return ui(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=500;class M9{constructor(){this._redirectPersistence=rl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vy,this._overrideRedirectResult=dI}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new C9(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Rn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){R9(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),x6(),await this._originValidation(e);const l=k9(e,r,i);await x9(e,l);const u=await E9(e,l,t),d=await T9(u);return S9(e,s,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=I9(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=sl(),l=setTimeout(async()=>{await PP(e),t.onEvent(bP())},V9),u=async m=>{clearTimeout(l);const g=await PP(e);let _=null;g&&(m!=null&&m.url)&&(_=O9(g,m.url)),t.onEvent(_||bP())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,u);const d=i,h=`${s.packageName.toLowerCase()}://`;sl().handleOpenURL=async m=>{if(m.toLowerCase().startsWith(h)&&u({url:m}),typeof d=="function")try{d(m)}catch(g){console.error(g)}}}}const F9=M9;function bP(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:on("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(n,e){Nt(n)._logFramework(e)}var $9="@firebase/auth-compat",j9="0.5.19";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=1e3;function dh(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function z9(){return dh()==="http:"||dh()==="https:"}function rN(n=We()){return!!((dh()==="file:"||dh()==="ionic:"||dh()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function W9(){return kg()||RE()}function q9(){return PE()&&(document==null?void 0:document.documentMode)===11}function H9(n=We()){return/Edge\/\d+/.test(n)}function K9(n=We()){return q9()||H9(n)}function iN(){try{const n=self.localStorage,e=_f();if(n)return n.setItem(e,"1"),n.removeItem(e),K9()?mh():!0}catch{return fI()&&mh()}return!1}function fI(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Uv(){return(z9()||AE()||rN())&&!W9()&&iN()&&!fI()}function sN(){return rN()&&typeof document<"u"}async function G9(){return sN()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},B9);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function Q9(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr={LOCAL:"local",NONE:"none",SESSION:"session"},Cd=de,oN="persistence";function Y9(n,e){if(Cd(Object.values(yr).includes(e),n,"invalid-persistence-type"),kg()){Cd(e!==yr.SESSION,n,"unsupported-persistence-type");return}if(RE()){Cd(e===yr.NONE,n,"unsupported-persistence-type");return}if(fI()){Cd(e===yr.NONE||e===yr.LOCAL&&mh(),n,"unsupported-persistence-type");return}Cd(e===yr.NONE||iN(),n,"unsupported-persistence-type")}async function Zw(n){await n._initializationPromise;const e=aN(),t=qa(oN,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function J9(n,e){const t=aN();if(!t)return[];const r=qa(oN,n,e);switch(t.getItem(r)){case yr.NONE:return[tc];case yr.LOCAL:return[Fh,rl];case yr.SESSION:return[rl];default:return[]}}function aN(){var n;try{return((n=Q9())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=de;class Ro{constructor(){this.browserResolver=vr(f9),this.cordovaResolver=vr(F9),this.underlyingResolver=null,this._redirectPersistence=rl,this._completeRedirectFn=vy,this._overrideRedirectResult=dI}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return sN()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return X9(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await G9();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(n){return n.unwrap()}function Z9(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eW(n){return uN(n)}function tW(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new nW(n,Hz(n,e))}else if(r){const i=uN(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function uN(n){const{_tokenResponse:e}=n instanceof mn?n.customData:n;if(!e)return null;if(!(n instanceof mn)&&"temporaryProof"in e&&"phoneNumber"in e)return il.credentialFromResult(n);const t=e.providerId;if(!t||t===Pd.PASSWORD)return null;let r;switch(t){case Pd.GOOGLE:r=Ni;break;case Pd.FACEBOOK:r=Oi;break;case Pd.GITHUB:r=Di;break;case Pd.TWITTER:r=Li;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:l,pendingToken:u,nonce:d}=e;return!s&&!l&&!i&&!u?null:u?t.startsWith("saml.")?nc._create(t,u):Ji._fromParams({providerId:t,signInMethod:t,pendingToken:u,idToken:i,accessToken:s}):new ku(t).credential({idToken:i,accessToken:s,rawNonce:d})}return n instanceof mn?r.credentialFromError(n):r.credentialFromResult(n)}function er(n,e){return e.catch(t=>{throw t instanceof mn&&tW(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:eW(t),additionalUserInfo:qz(t),user:As.getOrCreate(i)}})}async function eE(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>er(n,t.confirm(r))}}class nW{constructor(e,t){this.resolver=t,this.auth=Z9(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return er(lN(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this._delegate=e,this.multiFactor=Qz(e)}static getOrCreate(e){return As.USER_MAP.has(e)||As.USER_MAP.set(e,new As(e)),As.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return er(this.auth,FO(this._delegate,e))}async linkWithPhoneNumber(e,t){return eE(this.auth,_6(this._delegate,e,t))}async linkWithPopup(e){return er(this.auth,P6(this._delegate,e,Ro))}async linkWithRedirect(e){return await Zw(Nt(this.auth)),V6(this._delegate,e,Ro)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return er(this.auth,UO(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return eE(this.auth,v6(this._delegate,e,t))}reauthenticateWithPopup(e){return er(this.auth,A6(this._delegate,e,Ro))}async reauthenticateWithRedirect(e){return await Zw(Nt(this.auth)),D6(this._delegate,e,Ro)}sendEmailVerification(e){return Dz(this._delegate,e)}async unlink(e){return await wz(this._delegate,e),this}updateEmail(e){return Fz(this._delegate,e)}updatePassword(e){return Uz(this._delegate,e)}updatePhoneNumber(e){return w6(this._delegate,e)}updateProfile(e){return Mz(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Lz(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}As.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=de;let tE=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;kd(r,"invalid-api-key",{appName:e.name}),kd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Ro:void 0;this._delegate=t.initialize({options:{persistence:rW(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(c3),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?As.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){J3(this._delegate,e,t)}applyActionCode(e){return Rz(this._delegate,e)}checkActionCode(e){return $O(this._delegate,e)}confirmPasswordReset(e,t){return Sz(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return er(this._delegate,Pz(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Nz(this._delegate,e)}isSignInWithEmailLink(e){return kz(this._delegate,e)}async getRedirectResult(){kd(Uv(),this._delegate,"operation-not-supported-in-this-environment");const e=await F6(this._delegate,Ro);return e?er(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){U9(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:s,complete:l}=CP(e,t,r);return this._delegate.onAuthStateChanged(i,s,l)}onIdTokenChanged(e,t,r){const{next:i,error:s,complete:l}=CP(e,t,r);return this._delegate.onIdTokenChanged(i,s,l)}sendSignInLinkToEmail(e,t){return Cz(this._delegate,e,t)}sendPasswordResetEmail(e,t){return Tz(this._delegate,e,t||void 0)}async setPersistence(e){Y9(this._delegate,e);let t;switch(e){case yr.SESSION:t=rl;break;case yr.LOCAL:t=await vr(Fh)._isAvailable()?Fh:oI;break;case yr.NONE:t=tc;break;default:return Rn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return er(this._delegate,vz(this._delegate))}signInWithCredential(e){return er(this._delegate,py(this._delegate,e))}signInWithCustomToken(e){return er(this._delegate,Iz(this._delegate,e))}signInWithEmailAndPassword(e,t){return er(this._delegate,bz(this._delegate,e,t))}signInWithEmailLink(e,t){return er(this._delegate,xz(this._delegate,e,t))}signInWithPhoneNumber(e,t){return eE(this._delegate,y6(this._delegate,e,t))}async signInWithPopup(e){return kd(Uv(),this._delegate,"operation-not-supported-in-this-environment"),er(this._delegate,R6(this._delegate,e,Ro))}async signInWithRedirect(e){return kd(Uv(),this._delegate,"operation-not-supported-in-this-environment"),await Zw(this._delegate),O6(this._delegate,e,Ro)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Az(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};tE.Persistence=yr;function CP(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:l=>i(l&&As.getOrCreate(l)),error:e,complete:t}}function rW(n,e){const t=J9(n,e);if(typeof self<"u"&&!t.includes(Fh)&&t.push(Fh),typeof window<"u")for(const r of[oI,rl])t.includes(r)||t.push(r);return t.includes(tc)||t.push(tc),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{static credential(e,t){return il.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new il(lN(uc.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}pI.PHONE_SIGN_IN_METHOD=il.PHONE_SIGN_IN_METHOD;pI.PROVIDER_ID=il.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW=de;class sW{constructor(e,t,r=uc.app()){var i;iW((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new m6(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oW="auth-compat";function aW(n){n.INTERNAL.registerComponent(new jr(oW,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new tE(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:uu.EMAIL_SIGNIN,PASSWORD_RESET:uu.PASSWORD_RESET,RECOVER_EMAIL:uu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:uu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:uu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:uu.VERIFY_EMAIL}},EmailAuthProvider:ta,FacebookAuthProvider:Oi,GithubAuthProvider:Di,GoogleAuthProvider:Ni,OAuthProvider:ku,SAMLAuthProvider:hg,PhoneAuthProvider:pI,PhoneMultiFactorGenerator:nN,RecaptchaVerifier:sW,TwitterAuthProvider:Li,Auth:tE,AuthCredential:wc,Error:mn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion($9,j9)}aW(uc);const lW={apiKey:"AIzaSyCvxawYY7XTxmPjE-fQ7jTOZhGDxNAi8WA",authDomain:"clone-fbe61.firebaseapp.com",projectId:"clone-fbe61",storageBucket:"clone-fbe61.firebasestorage.app",messagingSenderId:"250385145229",appId:"1:250385145229:web:d7ef684e0175b8e9c371c4"},cN=uc.initializeApp(lW),gg=B$(cN),dN=cN.firestore();function uW(){var i;const[{user:n,basket:e},t]=K.useContext(Ms),r=Array.isArray(e)?e.reduce((s,l)=>s+l.amount,0):0;return $.jsxs("section",{className:vs.fixed,children:[$.jsxs("div",{className:vs.header__container,children:[$.jsx("div",{className:vs.logo__container,children:$.jsx(li,{to:"/",children:$.jsx("img",{src:"https://pngimg.com/uploads/amazon/small/amazon_PNG11.png",alt:"Amazon Logo"})})}),$.jsxs("div",{className:vs.delivery,children:[$.jsx("span",{children:$.jsx(aV,{})}),$.jsxs("div",{children:[$.jsx("p",{children:"Delivered to"}),$.jsx("span",{children:"Kidist Hager Ethiopia"})]})]}),$.jsxs("div",{className:vs.search,children:[$.jsx("select",{name:"",id:"",children:$.jsx("option",{value:"",children:"All"})}),$.jsx("input",{type:"text"}),$.jsx(oV,{size:38})]}),$.jsxs("div",{className:vs.order__container,children:[$.jsxs(li,{to:"/",className:vs.language,children:[$.jsx("img",{src:"https://pngimg.com/uploads/flags/flags_PNG14595.png",alt:"American Flag"}),$.jsx("select",{name:"",id:"",children:$.jsx("option",{value:"",children:"EN"})})]}),$.jsx(li,{to:!n&&"/auth",children:$.jsx("div",{children:n?$.jsxs($.Fragment,{children:[$.jsxs("p",{children:["Hello",(i=n==null?void 0:n.email)==null?void 0:i.split("@")[0]]}),$.jsx("span",{onClick:()=>gg.signOut(),children:"Sign Out"})]}):$.jsxs($.Fragment,{children:[$.jsx("p",{children:"Hello, Sign In"}),$.jsx("span",{children:"Account &Lists"})]})})}),$.jsxs(li,{to:"/orders",children:[$.jsx("p",{children:"Returns"}),$.jsx("span",{children:"& Orders"})]}),$.jsxs(li,{to:"/cart",className:vs.cart,children:[$.jsx(lV,{size:35}),$.jsx("span",{children:r})]})]})]}),$.jsx(vV,{})]})}var $v={},xd={},Jp={},Xp={},jv={exports:{}},Bv,kP;function cW(){if(kP)return Bv;kP=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Bv=n,Bv}var zv,xP;function dW(){if(xP)return zv;xP=1;var n=cW();function e(){}function t(){}return t.resetWarningCache=e,zv=function(){function r(l,u,d,h,m,g){if(g!==n){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},zv}var OP;function hN(){return OP||(OP=1,jv.exports=dW()()),jv.exports}var NP;function hW(){return NP||(NP=1,function(n){(function(e,t){t(n,Ho(),hN())})(Xp,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=I;var i=l(t),s=l(r);function l(L){return L&&L.__esModule?L:{default:L}}var u=Object.assign||function(L){for(var M=1;M<arguments.length;M++){var W=arguments[M];for(var j in W)Object.prototype.hasOwnProperty.call(W,j)&&(L[j]=W[j])}return L};function d(L,M){var W={};for(var j in L)M.indexOf(j)>=0||Object.prototype.hasOwnProperty.call(L,j)&&(W[j]=L[j]);return W}function h(L,M){if(!(L instanceof M))throw new TypeError("Cannot call a class as a function")}var m=function(){function L(M,W){for(var j=0;j<W.length;j++){var q=W[j];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(M,q.key,q)}}return function(M,W,j){return W&&L(M.prototype,W),j&&L(M,j),M}}();function g(L,M){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:L}function _(L,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);L.prototype=Object.create(M&&M.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(L,M):L.__proto__=M)}var T=!1;function I(L){T=L}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){I(!0)}}))}catch{}function R(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return T?L:L.capture}function A(L){if("touches"in L){var M=L.touches[0],W=M.pageX,j=M.pageY;return{x:W,y:j}}var q=L.screenX,D=L.screenY;return{x:q,y:D}}var V=function(L){_(M,L);function M(){var W;h(this,M);for(var j=arguments.length,q=Array(j),D=0;D<j;D++)q[D]=arguments[D];var P=g(this,(W=M.__proto__||Object.getPrototypeOf(M)).call.apply(W,[this].concat(q)));return P._handleSwipeStart=P._handleSwipeStart.bind(P),P._handleSwipeMove=P._handleSwipeMove.bind(P),P._handleSwipeEnd=P._handleSwipeEnd.bind(P),P._onMouseDown=P._onMouseDown.bind(P),P._onMouseMove=P._onMouseMove.bind(P),P._onMouseUp=P._onMouseUp.bind(P),P._setSwiperRef=P._setSwiperRef.bind(P),P}return m(M,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,R({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(j){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(j))}},{key:"_onMouseMove",value:function(j){this.mouseDown&&this._handleSwipeMove(j)}},{key:"_onMouseUp",value:function(j){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(j)}},{key:"_handleSwipeStart",value:function(j){var q=A(j),D=q.x,P=q.y;this.moveStart={x:D,y:P},this.props.onSwipeStart(j)}},{key:"_handleSwipeMove",value:function(j){if(this.moveStart){var q=A(j),D=q.x,P=q.y,C=D-this.moveStart.x,E=P-this.moveStart.y;this.moving=!0;var x=this.props.onSwipeMove({x:C,y:E},j);x&&j.cancelable&&j.preventDefault(),this.movePosition={deltaX:C,deltaY:E}}}},{key:"_handleSwipeEnd",value:function(j){this.props.onSwipeEnd(j);var q=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-q?this.props.onSwipeLeft(1,j):this.movePosition.deltaX>q&&this.props.onSwipeRight(1,j),this.movePosition.deltaY<-q?this.props.onSwipeUp(1,j):this.movePosition.deltaY>q&&this.props.onSwipeDown(1,j)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(j){this.swiper=j,this.props.innerRef(j)}},{key:"render",value:function(){var j=this.props;j.tagName;var q=j.className,D=j.style,P=j.children;j.allowMouseEvents,j.onSwipeUp,j.onSwipeDown,j.onSwipeLeft,j.onSwipeRight,j.onSwipeStart,j.onSwipeMove,j.onSwipeEnd,j.innerRef,j.tolerance;var C=d(j,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,u({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:q,style:D},C),P)}}]),M}(t.Component);V.displayName="ReactSwipe",V.propTypes={tagName:s.default.string,className:s.default.string,style:s.default.object,children:s.default.node,allowMouseEvents:s.default.bool,onSwipeUp:s.default.func,onSwipeDown:s.default.func,onSwipeLeft:s.default.func,onSwipeRight:s.default.func,onSwipeStart:s.default.func,onSwipeMove:s.default.func,onSwipeEnd:s.default.func,innerRef:s.default.func,tolerance:s.default.number.isRequired},V.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=V})}(Xp)),Xp}var DP;function fN(){return DP||(DP=1,function(n){(function(e,t){t(n,hW())})(Jp,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default})}(Jp)),Jp}var Od={},Wv={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var LP;function fW(){return LP||(LP=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",l=0;l<arguments.length;l++){var u=arguments[l];u&&(s=i(s,r(u)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var l="";for(var u in s)e.call(s,u)&&s[u]&&(l=i(l,u));return l}function i(s,l){return l?s?s+" "+l:s+l:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Wv)),Wv.exports}var VP;function pN(){if(VP)return Od;VP=1,Object.defineProperty(Od,"__esModule",{value:!0}),Od.default=void 0;var n=e(fW());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,s,l){return s in i?Object.defineProperty(i,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[s]=l,i}var r={ROOT:function(s){return(0,n.default)(t({"carousel-root":!0},s||"",!!s))},CAROUSEL:function(s){return(0,n.default)({carousel:!0,"carousel-slider":s})},WRAPPER:function(s,l){return(0,n.default)({"thumbs-wrapper":!s,"slider-wrapper":s,"axis-horizontal":l==="horizontal","axis-vertical":l!=="horizontal"})},SLIDER:function(s,l){return(0,n.default)({thumbs:!s,slider:s,animated:!l})},ITEM:function(s,l,u){return(0,n.default)({thumb:!s,slide:s,selected:l,previous:u})},ARROW_PREV:function(s){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":s})},ARROW_NEXT:function(s){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":s})},DOT:function(s){return(0,n.default)({dot:!0,selected:s})}};return Od.default=r,Od}var Nd={},Dd={},MP;function pW(){if(MP)return Dd;MP=1,Object.defineProperty(Dd,"__esModule",{value:!0}),Dd.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return Dd.outerWidth=n,Dd}var Ld={},FP;function mI(){if(FP)return Ld;FP=1,Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.default=void 0;var n=function(t,r,i){var s=t===0?t:t+r,l=i==="horizontal"?[s,0,0]:[0,s,0],u="translate3d",d="("+l.join(",")+")";return u+d};return Ld.default=n,Ld}var Vd={},UP;function mN(){if(UP)return Vd;UP=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.default=void 0;var n=function(){return window};return Vd.default=n,Vd}var $P;function gN(){if($P)return Nd;$P=1,Object.defineProperty(Nd,"__esModule",{value:!0}),Nd.default=void 0;var n=d(Ho()),e=l(pN()),t=pW(),r=l(mI()),i=l(fN()),s=l(mN());function l(P){return P&&P.__esModule?P:{default:P}}function u(){if(typeof WeakMap!="function")return null;var P=new WeakMap;return u=function(){return P},P}function d(P){if(P&&P.__esModule)return P;if(P===null||h(P)!=="object"&&typeof P!="function")return{default:P};var C=u();if(C&&C.has(P))return C.get(P);var E={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in P)if(Object.prototype.hasOwnProperty.call(P,k)){var O=x?Object.getOwnPropertyDescriptor(P,k):null;O&&(O.get||O.set)?Object.defineProperty(E,k,O):E[k]=P[k]}return E.default=P,C&&C.set(P,E),E}function h(P){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(E){return typeof E}:h=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},h(P)}function m(){return m=Object.assign||function(P){for(var C=1;C<arguments.length;C++){var E=arguments[C];for(var x in E)Object.prototype.hasOwnProperty.call(E,x)&&(P[x]=E[x])}return P},m.apply(this,arguments)}function g(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")}function _(P,C){for(var E=0;E<C.length;E++){var x=C[E];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(P,x.key,x)}}function T(P,C,E){return C&&_(P.prototype,C),P}function I(P,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),C&&R(P,C)}function R(P,C){return R=Object.setPrototypeOf||function(x,k){return x.__proto__=k,x},R(P,C)}function A(P){var C=M();return function(){var x=W(P),k;if(C){var O=W(this).constructor;k=Reflect.construct(x,arguments,O)}else k=x.apply(this,arguments);return V(this,k)}}function V(P,C){return C&&(h(C)==="object"||typeof C=="function")?C:L(P)}function L(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function W(P){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)},W(P)}function j(P,C,E){return C in P?Object.defineProperty(P,C,{value:E,enumerable:!0,configurable:!0,writable:!0}):P[C]=E,P}var q=function(C){return C.hasOwnProperty("key")},D=function(P){I(E,P);var C=A(E);function E(x){var k;return g(this,E),k=C.call(this,x),j(L(k),"itemsWrapperRef",void 0),j(L(k),"itemsListRef",void 0),j(L(k),"thumbsRef",void 0),j(L(k),"setItemsWrapperRef",function(O){k.itemsWrapperRef=O}),j(L(k),"setItemsListRef",function(O){k.itemsListRef=O}),j(L(k),"setThumbsRef",function(O,ee){k.thumbsRef||(k.thumbsRef=[]),k.thumbsRef[ee]=O}),j(L(k),"updateSizes",function(){if(!(!k.props.children||!k.itemsWrapperRef||!k.thumbsRef)){var O=n.Children.count(k.props.children),ee=k.itemsWrapperRef.clientWidth,F=k.props.thumbWidth?k.props.thumbWidth:(0,t.outerWidth)(k.thumbsRef[0]),me=Math.floor(ee/F),oe=me<O,X=oe?O-me:0;k.setState(function(pe,he){return{itemSize:F,visibleItems:me,firstItem:oe?k.getFirstItem(he.selectedItem):0,lastPosition:X,showArrows:oe}})}}),j(L(k),"handleClickItem",function(O,ee,F){if(!q(F)||F.key==="Enter"){var me=k.props.onSelectItem;typeof me=="function"&&me(O,ee)}}),j(L(k),"onSwipeStart",function(){k.setState({swiping:!0})}),j(L(k),"onSwipeEnd",function(){k.setState({swiping:!1})}),j(L(k),"onSwipeMove",function(O){var ee=O.x;if(!k.state.itemSize||!k.itemsWrapperRef||!k.state.visibleItems)return!1;var F=0,me=n.Children.count(k.props.children),oe=-(k.state.firstItem*100)/k.state.visibleItems,X=Math.max(me-k.state.visibleItems,0),pe=-X*100/k.state.visibleItems;oe===F&&ee>0&&(ee=0),oe===pe&&ee<0&&(ee=0);var he=k.itemsWrapperRef.clientWidth,z=oe+100/(he/ee);return k.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(ie){k.itemsListRef.style[ie]=(0,r.default)(z,"%",k.props.axis)}),!0}),j(L(k),"slideRight",function(O){k.moveTo(k.state.firstItem-(typeof O=="number"?O:1))}),j(L(k),"slideLeft",function(O){k.moveTo(k.state.firstItem+(typeof O=="number"?O:1))}),j(L(k),"moveTo",function(O){O=O<0?0:O,O=O>=k.state.lastPosition?k.state.lastPosition:O,k.setState({firstItem:O})}),k.state={selectedItem:x.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},k}return T(E,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(k){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==k.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,s.default)().addEventListener("resize",this.updateSizes),(0,s.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,s.default)().removeEventListener("resize",this.updateSizes),(0,s.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(k){var O=k;return k>=this.state.lastPosition&&(O=this.state.lastPosition),k<this.state.firstItem+this.state.visibleItems&&(O=this.state.firstItem),k<this.state.firstItem&&(O=k),O}},{key:"renderItems",value:function(){var k=this;return this.props.children.map(function(O,ee){var F=e.default.ITEM(!1,ee===k.state.selectedItem),me={key:ee,ref:function(X){return k.setThumbsRef(X,ee)},className:F,onClick:k.handleClickItem.bind(k,ee,k.props.children[ee]),onKeyDown:k.handleClickItem.bind(k,ee,k.props.children[ee]),"aria-label":"".concat(k.props.labels.item," ").concat(ee+1),style:{width:k.props.thumbWidth}};return n.default.createElement("li",m({},me,{role:"button",tabIndex:0}),O)})}},{key:"render",value:function(){var k=this;if(!this.props.children)return null;var O=n.Children.count(this.props.children)>1,ee=this.state.showArrows&&this.state.firstItem>0,F=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,me={},oe=-this.state.firstItem*(this.state.itemSize||0),X=(0,r.default)(oe,"px",this.props.axis),pe=this.props.transitionTime+"ms";return me={WebkitTransform:X,MozTransform:X,MsTransform:X,OTransform:X,transform:X,msTransform:X,WebkitTransitionDuration:pe,MozTransitionDuration:pe,MsTransitionDuration:pe,OTransitionDuration:pe,transitionDuration:pe,msTransitionDuration:pe},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!ee),onClick:function(){return k.slideRight()},"aria-label":this.props.labels.leftArrow}),O?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:me,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(z){return k.setItemsListRef(z)},style:me},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!F),onClick:function(){return k.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),E}(n.Component);return Nd.default=D,j(D,"displayName","Thumbs"),j(D,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),Nd}var Md={},jP;function mW(){if(jP)return Md;jP=1,Object.defineProperty(Md,"__esModule",{value:!0}),Md.default=void 0;var n=function(){return document};return Md.default=n,Md}var pr={},BP;function yN(){if(BP)return pr;BP=1,Object.defineProperty(pr,"__esModule",{value:!0}),pr.setPosition=pr.getPosition=pr.isKeyboardEvent=pr.defaultStatusFormatter=pr.noop=void 0;var n=Ho(),e=t(mI());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};pr.noop=r;var i=function(h,m){return"".concat(h," of ").concat(m)};pr.defaultStatusFormatter=i;var s=function(h){return h?h.hasOwnProperty("key"):!1};pr.isKeyboardEvent=s;var l=function(h,m){if(m.infiniteLoop&&++h,h===0)return 0;var g=n.Children.count(m.children);if(m.centerMode&&m.axis==="horizontal"){var _=-h*m.centerSlidePercentage,T=g-1;return h&&(h!==T||m.infiniteLoop)?_+=(100-m.centerSlidePercentage)/2:h===T&&(_+=100-m.centerSlidePercentage),_}return-h*100};pr.getPosition=l;var u=function(h,m){var g={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(_){g[_]=(0,e.default)(h,"%",m)}),g};return pr.setPosition=u,pr}var oi={},zP;function gW(){if(zP)return oi;zP=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.fadeAnimationHandler=oi.slideStopSwipingHandler=oi.slideSwipeAnimationHandler=oi.slideAnimationHandler=void 0;var n=Ho(),e=r(mI()),t=yN();function r(g){return g&&g.__esModule?g:{default:g}}function i(g,_){var T=Object.keys(g);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(g);_&&(I=I.filter(function(R){return Object.getOwnPropertyDescriptor(g,R).enumerable})),T.push.apply(T,I)}return T}function s(g){for(var _=1;_<arguments.length;_++){var T=arguments[_]!=null?arguments[_]:{};_%2?i(Object(T),!0).forEach(function(I){l(g,I,T[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(T)):i(Object(T)).forEach(function(I){Object.defineProperty(g,I,Object.getOwnPropertyDescriptor(T,I))})}return g}function l(g,_,T){return _ in g?Object.defineProperty(g,_,{value:T,enumerable:!0,configurable:!0,writable:!0}):g[_]=T,g}var u=function(_,T){var I={},R=T.selectedItem,A=R,V=n.Children.count(_.children)-1,L=_.infiniteLoop&&(R<0||R>V);if(L)return A<0?_.centerMode&&_.centerSlidePercentage&&_.axis==="horizontal"?I.itemListStyle=(0,t.setPosition)(-(V+2)*_.centerSlidePercentage-(100-_.centerSlidePercentage)/2,_.axis):I.itemListStyle=(0,t.setPosition)(-(V+2)*100,_.axis):A>V&&(I.itemListStyle=(0,t.setPosition)(0,_.axis)),I;var M=(0,t.getPosition)(R,_),W=(0,e.default)(M,"%",_.axis),j=_.transitionTime+"ms";return I.itemListStyle={WebkitTransform:W,msTransform:W,OTransform:W,transform:W},T.swiping||(I.itemListStyle=s(s({},I.itemListStyle),{},{WebkitTransitionDuration:j,MozTransitionDuration:j,OTransitionDuration:j,transitionDuration:j,msTransitionDuration:j})),I};oi.slideAnimationHandler=u;var d=function(_,T,I,R){var A={},V=T.axis==="horizontal",L=n.Children.count(T.children),M=0,W=(0,t.getPosition)(I.selectedItem,T),j=T.infiniteLoop?(0,t.getPosition)(L-1,T)-100:(0,t.getPosition)(L-1,T),q=V?_.x:_.y,D=q;W===M&&q>0&&(D=0),W===j&&q<0&&(D=0);var P=W+100/(I.itemSize/D),C=Math.abs(q)>T.swipeScrollTolerance;return T.infiniteLoop&&C&&(I.selectedItem===0&&P>-100?P-=L*100:I.selectedItem===L-1&&P<-L*100&&(P+=L*100)),(!T.preventMovementUntilSwipeScrollTolerance||C||I.swipeMovementStarted)&&(I.swipeMovementStarted||R({swipeMovementStarted:!0}),A.itemListStyle=(0,t.setPosition)(P,T.axis)),C&&!I.cancelClick&&R({cancelClick:!0}),A};oi.slideSwipeAnimationHandler=d;var h=function(_,T){var I=(0,t.getPosition)(T.selectedItem,_),R=(0,t.setPosition)(I,_.axis);return{itemListStyle:R}};oi.slideStopSwipingHandler=h;var m=function(_,T){var I=_.transitionTime+"ms",R="ease-in-out",A={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:R,msTransitionTimingFunction:R,MozTransitionTimingFunction:R,WebkitTransitionTimingFunction:R,OTransitionTimingFunction:R};return T.swiping||(A=s(s({},A),{},{WebkitTransitionDuration:I,MozTransitionDuration:I,OTransitionDuration:I,transitionDuration:I,msTransitionDuration:I})),{slideStyle:A,selectedStyle:s(s({},A),{},{opacity:1,position:"relative"}),prevStyle:s({},A)}};return oi.fadeAnimationHandler=m,oi}var WP;function yW(){if(WP)return xd;WP=1,Object.defineProperty(xd,"__esModule",{value:!0}),xd.default=void 0;var n=m(Ho()),e=d(fN()),t=d(pN()),r=d(gN()),i=d(mW()),s=d(mN()),l=yN(),u=gW();function d(x){return x&&x.__esModule?x:{default:x}}function h(){if(typeof WeakMap!="function")return null;var x=new WeakMap;return h=function(){return x},x}function m(x){if(x&&x.__esModule)return x;if(x===null||g(x)!=="object"&&typeof x!="function")return{default:x};var k=h();if(k&&k.has(x))return k.get(x);var O={},ee=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in x)if(Object.prototype.hasOwnProperty.call(x,F)){var me=ee?Object.getOwnPropertyDescriptor(x,F):null;me&&(me.get||me.set)?Object.defineProperty(O,F,me):O[F]=x[F]}return O.default=x,k&&k.set(x,O),O}function g(x){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(O){return typeof O}:g=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},g(x)}function _(){return _=Object.assign||function(x){for(var k=1;k<arguments.length;k++){var O=arguments[k];for(var ee in O)Object.prototype.hasOwnProperty.call(O,ee)&&(x[ee]=O[ee])}return x},_.apply(this,arguments)}function T(x,k){var O=Object.keys(x);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(x);k&&(ee=ee.filter(function(F){return Object.getOwnPropertyDescriptor(x,F).enumerable})),O.push.apply(O,ee)}return O}function I(x){for(var k=1;k<arguments.length;k++){var O=arguments[k]!=null?arguments[k]:{};k%2?T(Object(O),!0).forEach(function(ee){C(x,ee,O[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(O)):T(Object(O)).forEach(function(ee){Object.defineProperty(x,ee,Object.getOwnPropertyDescriptor(O,ee))})}return x}function R(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")}function A(x,k){for(var O=0;O<k.length;O++){var ee=k[O];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(x,ee.key,ee)}}function V(x,k,O){return k&&A(x.prototype,k),x}function L(x,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(k&&k.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),k&&M(x,k)}function M(x,k){return M=Object.setPrototypeOf||function(ee,F){return ee.__proto__=F,ee},M(x,k)}function W(x){var k=D();return function(){var ee=P(x),F;if(k){var me=P(this).constructor;F=Reflect.construct(ee,arguments,me)}else F=ee.apply(this,arguments);return j(this,F)}}function j(x,k){return k&&(g(k)==="object"||typeof k=="function")?k:q(x)}function q(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function D(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function P(x){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},P(x)}function C(x,k,O){return k in x?Object.defineProperty(x,k,{value:O,enumerable:!0,configurable:!0,writable:!0}):x[k]=O,x}var E=function(x){L(O,x);var k=W(O);function O(ee){var F;R(this,O),F=k.call(this,ee),C(q(F),"thumbsRef",void 0),C(q(F),"carouselWrapperRef",void 0),C(q(F),"listRef",void 0),C(q(F),"itemsRef",void 0),C(q(F),"timer",void 0),C(q(F),"animationHandler",void 0),C(q(F),"setThumbsRef",function(oe){F.thumbsRef=oe}),C(q(F),"setCarouselWrapperRef",function(oe){F.carouselWrapperRef=oe}),C(q(F),"setListRef",function(oe){F.listRef=oe}),C(q(F),"setItemsRef",function(oe,X){F.itemsRef||(F.itemsRef=[]),F.itemsRef[X]=oe}),C(q(F),"autoPlay",function(){n.Children.count(F.props.children)<=1||(F.clearAutoPlay(),F.props.autoPlay&&(F.timer=setTimeout(function(){F.increment()},F.props.interval)))}),C(q(F),"clearAutoPlay",function(){F.timer&&clearTimeout(F.timer)}),C(q(F),"resetAutoPlay",function(){F.clearAutoPlay(),F.autoPlay()}),C(q(F),"stopOnHover",function(){F.setState({isMouseEntered:!0},F.clearAutoPlay)}),C(q(F),"startOnLeave",function(){F.setState({isMouseEntered:!1},F.autoPlay)}),C(q(F),"isFocusWithinTheCarousel",function(){return F.carouselWrapperRef?!!((0,i.default)().activeElement===F.carouselWrapperRef||F.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),C(q(F),"navigateWithKeyboard",function(oe){if(F.isFocusWithinTheCarousel()){var X=F.props.axis,pe=X==="horizontal",he={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},z=pe?he.ArrowRight:he.ArrowDown,ie=pe?he.ArrowLeft:he.ArrowUp;z===oe.keyCode?F.increment():ie===oe.keyCode&&F.decrement()}}),C(q(F),"updateSizes",function(){if(!(!F.state.initialized||!F.itemsRef||F.itemsRef.length===0)){var oe=F.props.axis==="horizontal",X=F.itemsRef[0];if(X){var pe=oe?X.clientWidth:X.clientHeight;F.setState({itemSize:pe}),F.thumbsRef&&F.thumbsRef.updateSizes()}}}),C(q(F),"setMountState",function(){F.setState({hasMount:!0}),F.updateSizes()}),C(q(F),"handleClickItem",function(oe,X){if(n.Children.count(F.props.children)!==0){if(F.state.cancelClick){F.setState({cancelClick:!1});return}F.props.onClickItem(oe,X),oe!==F.state.selectedItem&&F.setState({selectedItem:oe})}}),C(q(F),"handleOnChange",function(oe,X){n.Children.count(F.props.children)<=1||F.props.onChange(oe,X)}),C(q(F),"handleClickThumb",function(oe,X){F.props.onClickThumb(oe,X),F.moveTo(oe)}),C(q(F),"onSwipeStart",function(oe){F.setState({swiping:!0}),F.props.onSwipeStart(oe)}),C(q(F),"onSwipeEnd",function(oe){F.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),F.props.onSwipeEnd(oe),F.clearAutoPlay(),F.state.autoPlay&&F.autoPlay()}),C(q(F),"onSwipeMove",function(oe,X){F.props.onSwipeMove(X);var pe=F.props.swipeAnimationHandler(oe,F.props,F.state,F.setState.bind(q(F)));return F.setState(I({},pe)),!!Object.keys(pe).length}),C(q(F),"decrement",function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem-(typeof oe=="number"?oe:1))}),C(q(F),"increment",function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem+(typeof oe=="number"?oe:1))}),C(q(F),"moveTo",function(oe){if(typeof oe=="number"){var X=n.Children.count(F.props.children)-1;oe<0&&(oe=F.props.infiniteLoop?X:0),oe>X&&(oe=F.props.infiniteLoop?0:X),F.selectItem({selectedItem:oe}),F.state.autoPlay&&F.state.isMouseEntered===!1&&F.resetAutoPlay()}}),C(q(F),"onClickNext",function(){F.increment(1)}),C(q(F),"onClickPrev",function(){F.decrement(1)}),C(q(F),"onSwipeForward",function(){F.increment(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),C(q(F),"onSwipeBackwards",function(){F.decrement(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),C(q(F),"changeItem",function(oe){return function(X){(!(0,l.isKeyboardEvent)(X)||X.key==="Enter")&&F.moveTo(oe)}}),C(q(F),"selectItem",function(oe){F.setState(I({previousItem:F.state.selectedItem},oe),function(){F.setState(F.animationHandler(F.props,F.state))}),F.handleOnChange(oe.selectedItem,n.Children.toArray(F.props.children)[oe.selectedItem])}),C(q(F),"getInitialImage",function(){var oe=F.props.selectedItem,X=F.itemsRef&&F.itemsRef[oe],pe=X&&X.getElementsByTagName("img")||[];return pe[0]}),C(q(F),"getVariableItemHeight",function(oe){var X=F.itemsRef&&F.itemsRef[oe];if(F.state.hasMount&&X&&X.children.length){var pe=X.children[0].getElementsByTagName("img")||[];if(pe.length>0){var he=pe[0];if(!he.complete){var z=function ke(){F.forceUpdate(),he.removeEventListener("load",ke)};he.addEventListener("load",z)}}var ie=pe[0]||X.children[0],Te=ie.clientHeight;return Te>0?Te:null}return null});var me={initialized:!1,previousItem:ee.selectedItem,selectedItem:ee.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:ee.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return F.animationHandler=typeof ee.animationHandler=="function"&&ee.animationHandler||ee.animationHandler==="fade"&&u.fadeAnimationHandler||u.slideAnimationHandler,F.state=I(I({},me),F.animationHandler(ee,me)),F}return V(O,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(F,me){!F.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!F.autoFocus&&this.props.autoFocus&&this.forceFocus(),me.swiping&&!this.state.swiping&&this.setState(I({},this.props.stopSwipingHandler(this.props,this.state))),(F.selectedItem!==this.props.selectedItem||F.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),F.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var F=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var me=F.getInitialImage();me&&!me.complete?me.addEventListener("load",F.setMountState):F.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.addEventListener("mouseenter",this.stopOnHover),F.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.removeEventListener("mouseenter",this.stopOnHover),F.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,s.default)().addEventListener("resize",this.updateSizes),(0,s.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,s.default)().removeEventListener("resize",this.updateSizes),(0,s.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var F=this.getInitialImage();F&&F.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var F;(F=this.carouselWrapperRef)===null||F===void 0||F.focus()}},{key:"renderItems",value:function(F){var me=this;return this.props.children?n.Children.map(this.props.children,function(oe,X){var pe=X===me.state.selectedItem,he=X===me.state.previousItem,z=pe&&me.state.selectedStyle||he&&me.state.prevStyle||me.state.slideStyle||{};me.props.centerMode&&me.props.axis==="horizontal"&&(z=I(I({},z),{},{minWidth:me.props.centerSlidePercentage+"%"})),me.state.swiping&&me.state.swipeMovementStarted&&(z=I(I({},z),{},{pointerEvents:"none"}));var ie={ref:function(ke){return me.setItemsRef(ke,X)},key:"itemKey"+X+(F?"clone":""),className:t.default.ITEM(!0,X===me.state.selectedItem,X===me.state.previousItem),onClick:me.handleClickItem.bind(me,X,oe),style:z};return n.default.createElement("li",ie,me.props.renderItem(oe,{isSelected:X===me.state.selectedItem,isPrevious:X===me.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var F=this,me=this.props,oe=me.showIndicators,X=me.labels,pe=me.renderIndicator,he=me.children;return oe?n.default.createElement("ul",{className:"control-dots"},n.Children.map(he,function(z,ie){return pe&&pe(F.changeItem(ie),ie===F.state.selectedItem,ie,X.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var F=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var me=this.props.swipeable&&n.Children.count(this.props.children)>1,oe=this.props.axis==="horizontal",X=this.props.showArrows&&n.Children.count(this.props.children)>1,pe=X&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,he=X&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,z=this.renderItems(!0),ie=z.shift(),Te=z.pop(),ke={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},Ve={};if(oe){if(ke.onSwipeLeft=this.onSwipeForward,ke.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var $e=this.getVariableItemHeight(this.state.selectedItem);Ve.height=$e||"auto"}}else ke.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ke.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ke.style=I(I({},ke.style),{},{height:this.state.itemSize}),Ve.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,pe,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:Ve},me?n.default.createElement(e.default,_({tagName:"ul",innerRef:this.setListRef},ke,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&Te,this.renderItems(),this.props.infiniteLoop&&ie):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(qe){return F.setListRef(qe)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&Te,this.renderItems(),this.props.infiniteLoop&&ie)),this.props.renderArrowNext(this.onClickNext,he,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),O}(n.default.Component);return xd.default=E,C(E,"displayName","Carousel"),C(E,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:l.noop,onClickThumb:l.noop,onChange:l.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(k,O,ee){return n.default.createElement("button",{type:"button","aria-label":ee,className:t.default.ARROW_PREV(!O),onClick:k})},renderArrowNext:function(k,O,ee){return n.default.createElement("button",{type:"button","aria-label":ee,className:t.default.ARROW_NEXT(!O),onClick:k})},renderIndicator:function(k,O,ee,F){return n.default.createElement("li",{className:t.default.DOT(O),onClick:k,onKeyDown:k,value:ee,key:ee,role:"button",tabIndex:0,"aria-label":"".concat(F," ").concat(ee+1)})},renderItem:function(k){return k},renderThumbs:function(k){var O=n.Children.map(k,function(ee){var F=ee;if(ee.type!=="img"&&(F=n.Children.toArray(ee.props.children).find(function(me){return me.type==="img"})),!!F)return F});return O.filter(function(ee){return ee}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):O},statusFormatter:l.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:u.slideSwipeAnimationHandler,stopSwipingHandler:u.slideStopSwipingHandler}),xd}var qP={},HP;function _W(){return HP||(HP=1),qP}var KP;function vW(){return KP||(KP=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(yW()),t=_W(),r=i(gN());function i(s){return s&&s.__esModule?s:{default:s}}}($v)),$v}var wW=vW();const EW="/Amazon-Clone/assets/image1-C3XGH-uw.jpg",IW="/Amazon-Clone/assets/image3-Bczp8jz9.jpg",TW="/Amazon-Clone/assets/image8-DFE1QJr1.jpg",SW="/Amazon-Clone/assets/image2-vo94JPuL.jpg",RW=[EW,SW,IW,TW];function _N(){return $.jsxs("div",{children:[$.jsx(wW.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,showStatus:!1,children:RW.map((n,e)=>$.jsx("img",{src:n},e))}),$.jsx("div",{className:_N.carousel__effect})]})}const qv=[{title:"Electronics",name:"electronics",imgLink:"https://fakestoreapi.com/img/81Zt42ioCgL._AC_SX679_.jpg"},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://m.media-amazon.com/images/I/61P3bPmIWAL.AC_SY741.jpg"},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/81Y6r7df7OL.AC_SX569.jpg"},{title:"Jewelery",name:"jewelery",imgLink:"https://m.media-amazon.com/images/I/81YUtidOP5L.AC_SY675.jpg"}],AW="_category_92w0s_3",PW="_category__container_92w0s_73",vN={category:AW,category__container:PW};function bW({data:n}){return $.jsx($.Fragment,{children:$.jsx("div",{className:vN.category,children:$.jsxs(li,{to:`/category/${n.name}`,children:[$.jsx("span",{children:$.jsx("h2",{children:n==null?void 0:n.title})}),$.jsx("img",{src:n==null?void 0:n.imgLink,alt:""}),$.jsx("p",{children:"Shop now"})]})})})}function CW(){return $.jsx("section",{className:vN.category__container,children:qv==null?void 0:qv.map((n,e)=>$.jsx(bW,{data:n},e))})}function Ic({children:n}){return $.jsxs("div",{children:[$.jsx(uW,{}),n]})}function wN(n,e){return function(){return n.apply(e,arguments)}}const{toString:kW}=Object.prototype,{getPrototypeOf:gI}=Object,wy=(n=>e=>{const t=kW.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),pi=n=>(n=n.toLowerCase(),e=>wy(e)===n),Ey=n=>e=>typeof e===n,{isArray:Tc}=Array,Uh=Ey("undefined");function xW(n){return n!==null&&!Uh(n)&&n.constructor!==null&&!Uh(n.constructor)&&Er(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const EN=pi("ArrayBuffer");function OW(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&EN(n.buffer),e}const NW=Ey("string"),Er=Ey("function"),IN=Ey("number"),Iy=n=>n!==null&&typeof n=="object",DW=n=>n===!0||n===!1,Am=n=>{if(wy(n)!=="object")return!1;const e=gI(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},LW=pi("Date"),VW=pi("File"),MW=pi("Blob"),FW=pi("FileList"),UW=n=>Iy(n)&&Er(n.pipe),$W=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Er(n.append)&&((e=wy(n))==="formdata"||e==="object"&&Er(n.toString)&&n.toString()==="[object FormData]"))},jW=pi("URLSearchParams"),[BW,zW,WW,qW]=["ReadableStream","Request","Response","Headers"].map(pi),HW=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wf(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Tc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),l=s.length;let u;for(r=0;r<l;r++)u=s[r],e.call(null,n[u],u,n)}}function TN(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const za=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,SN=n=>!Uh(n)&&n!==za;function nE(){const{caseless:n}=SN(this)&&this||{},e={},t=(r,i)=>{const s=n&&TN(e,i)||i;Am(e[s])&&Am(r)?e[s]=nE(e[s],r):Am(r)?e[s]=nE({},r):Tc(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&wf(arguments[r],t);return e}const KW=(n,e,t,{allOwnKeys:r}={})=>(wf(e,(i,s)=>{t&&Er(i)?n[s]=wN(i,t):n[s]=i},{allOwnKeys:r}),n),GW=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),QW=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},YW=(n,e,t,r)=>{let i,s,l;const u={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)l=i[s],(!r||r(l,n,e))&&!u[l]&&(e[l]=n[l],u[l]=!0);n=t!==!1&&gI(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},JW=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},XW=n=>{if(!n)return null;if(Tc(n))return n;let e=n.length;if(!IN(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},ZW=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&gI(Uint8Array)),eq=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},tq=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},nq=pi("HTMLFormElement"),rq=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),GP=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),iq=pi("RegExp"),RN=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};wf(t,(i,s)=>{let l;(l=e(i,s,n))!==!1&&(r[s]=l||i)}),Object.defineProperties(n,r)},sq=n=>{RN(n,(e,t)=>{if(Er(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Er(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},oq=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return Tc(n)?r(n):r(String(n).split(e)),t},aq=()=>{},lq=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,Hv="abcdefghijklmnopqrstuvwxyz",QP="0123456789",AN={DIGIT:QP,ALPHA:Hv,ALPHA_DIGIT:Hv+Hv.toUpperCase()+QP},uq=(n=16,e=AN.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function cq(n){return!!(n&&Er(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const dq=n=>{const e=new Array(10),t=(r,i)=>{if(Iy(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Tc(r)?[]:{};return wf(r,(l,u)=>{const d=t(l,i+1);!Uh(d)&&(s[u]=d)}),e[i]=void 0,s}}return r};return t(n,0)},hq=pi("AsyncFunction"),fq=n=>n&&(Iy(n)||Er(n))&&Er(n.then)&&Er(n.catch),PN=((n,e)=>n?setImmediate:e?((t,r)=>(za.addEventListener("message",({source:i,data:s})=>{i===za&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),za.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Er(za.postMessage)),pq=typeof queueMicrotask<"u"?queueMicrotask.bind(za):typeof process<"u"&&process.nextTick||PN,re={isArray:Tc,isArrayBuffer:EN,isBuffer:xW,isFormData:$W,isArrayBufferView:OW,isString:NW,isNumber:IN,isBoolean:DW,isObject:Iy,isPlainObject:Am,isReadableStream:BW,isRequest:zW,isResponse:WW,isHeaders:qW,isUndefined:Uh,isDate:LW,isFile:VW,isBlob:MW,isRegExp:iq,isFunction:Er,isStream:UW,isURLSearchParams:jW,isTypedArray:ZW,isFileList:FW,forEach:wf,merge:nE,extend:KW,trim:HW,stripBOM:GW,inherits:QW,toFlatObject:YW,kindOf:wy,kindOfTest:pi,endsWith:JW,toArray:XW,forEachEntry:eq,matchAll:tq,isHTMLForm:nq,hasOwnProperty:GP,hasOwnProp:GP,reduceDescriptors:RN,freezeMethods:sq,toObjectSet:oq,toCamelCase:rq,noop:aq,toFiniteNumber:lq,findKey:TN,global:za,isContextDefined:SN,ALPHABET:AN,generateString:uq,isSpecCompliantForm:cq,toJSONObject:dq,isAsyncFn:hq,isThenable:fq,setImmediate:PN,asap:pq};function Me(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}re.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:re.toJSONObject(this.config),code:this.code,status:this.status}}});const bN=Me.prototype,CN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{CN[n]={value:n}});Object.defineProperties(Me,CN);Object.defineProperty(bN,"isAxiosError",{value:!0});Me.from=(n,e,t,r,i,s)=>{const l=Object.create(bN);return re.toFlatObject(n,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),Me.call(l,n.message,e,t,r,i),l.cause=n,l.name=n.name,s&&Object.assign(l,s),l};const mq=null;function rE(n){return re.isPlainObject(n)||re.isArray(n)}function kN(n){return re.endsWith(n,"[]")?n.slice(0,-2):n}function YP(n,e,t){return n?n.concat(e).map(function(i,s){return i=kN(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function gq(n){return re.isArray(n)&&!n.some(rE)}const yq=re.toFlatObject(re,{},null,function(e){return/^is[A-Z]/.test(e)});function Ty(n,e,t){if(!re.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=re.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,A){return!re.isUndefined(A[R])});const r=t.metaTokens,i=t.visitor||m,s=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&re.isSpecCompliantForm(e);if(!re.isFunction(i))throw new TypeError("visitor must be a function");function h(I){if(I===null)return"";if(re.isDate(I))return I.toISOString();if(!d&&re.isBlob(I))throw new Me("Blob is not supported. Use a Buffer instead.");return re.isArrayBuffer(I)||re.isTypedArray(I)?d&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function m(I,R,A){let V=I;if(I&&!A&&typeof I=="object"){if(re.endsWith(R,"{}"))R=r?R:R.slice(0,-2),I=JSON.stringify(I);else if(re.isArray(I)&&gq(I)||(re.isFileList(I)||re.endsWith(R,"[]"))&&(V=re.toArray(I)))return R=kN(R),V.forEach(function(M,W){!(re.isUndefined(M)||M===null)&&e.append(l===!0?YP([R],W,s):l===null?R:R+"[]",h(M))}),!1}return rE(I)?!0:(e.append(YP(A,R,s),h(I)),!1)}const g=[],_=Object.assign(yq,{defaultVisitor:m,convertValue:h,isVisitable:rE});function T(I,R){if(!re.isUndefined(I)){if(g.indexOf(I)!==-1)throw Error("Circular reference detected in "+R.join("."));g.push(I),re.forEach(I,function(V,L){(!(re.isUndefined(V)||V===null)&&i.call(e,V,re.isString(L)?L.trim():L,R,_))===!0&&T(V,R?R.concat(L):[L])}),g.pop()}}if(!re.isObject(n))throw new TypeError("data must be an object");return T(n),e}function JP(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function yI(n,e){this._pairs=[],n&&Ty(n,this,e)}const xN=yI.prototype;xN.append=function(e,t){this._pairs.push([e,t])};xN.toString=function(e){const t=e?function(r){return e.call(this,r,JP)}:JP;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function _q(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ON(n,e,t){if(!e)return n;const r=t&&t.encode||_q;re.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=re.isURLSearchParams(e)?e.toString():new yI(e,t).toString(r),s){const l=n.indexOf("#");l!==-1&&(n=n.slice(0,l)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class XP{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){re.forEach(this.handlers,function(r){r!==null&&e(r)})}}const NN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vq=typeof URLSearchParams<"u"?URLSearchParams:yI,wq=typeof FormData<"u"?FormData:null,Eq=typeof Blob<"u"?Blob:null,Iq={isBrowser:!0,classes:{URLSearchParams:vq,FormData:wq,Blob:Eq},protocols:["http","https","file","blob","url","data"]},_I=typeof window<"u"&&typeof document<"u",iE=typeof navigator=="object"&&navigator||void 0,Tq=_I&&(!iE||["ReactNative","NativeScript","NS"].indexOf(iE.product)<0),Sq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Rq=_I&&window.location.href||"http://localhost",Aq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:_I,hasStandardBrowserEnv:Tq,hasStandardBrowserWebWorkerEnv:Sq,navigator:iE,origin:Rq},Symbol.toStringTag,{value:"Module"})),Nn={...Aq,...Iq};function Pq(n,e){return Ty(n,new Nn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return Nn.isNode&&re.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function bq(n){return re.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Cq(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function DN(n){function e(t,r,i,s){let l=t[s++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=s>=t.length;return l=!l&&re.isArray(i)?i.length:l,d?(re.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!u):((!i[l]||!re.isObject(i[l]))&&(i[l]=[]),e(t,r,i[l],s)&&re.isArray(i[l])&&(i[l]=Cq(i[l])),!u)}if(re.isFormData(n)&&re.isFunction(n.entries)){const t={};return re.forEachEntry(n,(r,i)=>{e(bq(r),i,t,0)}),t}return null}function kq(n,e,t){if(re.isString(n))try{return(e||JSON.parse)(n),re.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Ef={transitional:NN,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=re.isObject(e);if(s&&re.isHTMLForm(e)&&(e=new FormData(e)),re.isFormData(e))return i?JSON.stringify(DN(e)):e;if(re.isArrayBuffer(e)||re.isBuffer(e)||re.isStream(e)||re.isFile(e)||re.isBlob(e)||re.isReadableStream(e))return e;if(re.isArrayBufferView(e))return e.buffer;if(re.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Pq(e,this.formSerializer).toString();if((u=re.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Ty(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),kq(e)):e}],transformResponse:[function(e){const t=this.transitional||Ef.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(re.isResponse(e)||re.isReadableStream(e))return e;if(e&&re.isString(e)&&(r&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?Me.from(u,Me.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nn.classes.FormData,Blob:Nn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};re.forEach(["delete","get","head","post","put","patch"],n=>{Ef.headers[n]={}});const xq=re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Oq=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!t||e[t]&&xq[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},ZP=Symbol("internals");function Fd(n){return n&&String(n).trim().toLowerCase()}function Pm(n){return n===!1||n==null?n:re.isArray(n)?n.map(Pm):String(n)}function Nq(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const Dq=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Kv(n,e,t,r,i){if(re.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!re.isString(e)){if(re.isString(r))return e.indexOf(r)!==-1;if(re.isRegExp(r))return r.test(e)}}function Lq(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Vq(n,e){const t=re.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,l){return this[r].call(this,e,i,s,l)},configurable:!0})})}let ir=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(u,d,h){const m=Fd(d);if(!m)throw new Error("header name must be a non-empty string");const g=re.findKey(i,m);(!g||i[g]===void 0||h===!0||h===void 0&&i[g]!==!1)&&(i[g||d]=Pm(u))}const l=(u,d)=>re.forEach(u,(h,m)=>s(h,m,d));if(re.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(re.isString(e)&&(e=e.trim())&&!Dq(e))l(Oq(e),t);else if(re.isHeaders(e))for(const[u,d]of e.entries())s(d,u,r);else e!=null&&s(t,e,r);return this}get(e,t){if(e=Fd(e),e){const r=re.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return Nq(i);if(re.isFunction(t))return t.call(this,i,r);if(re.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Fd(e),e){const r=re.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Kv(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(l){if(l=Fd(l),l){const u=re.findKey(r,l);u&&(!t||Kv(r,r[u],u,t))&&(delete r[u],i=!0)}}return re.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||Kv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return re.forEach(this,(i,s)=>{const l=re.findKey(r,s);if(l){t[l]=Pm(i),delete t[s];return}const u=e?Lq(s):String(s).trim();u!==s&&delete t[s],t[u]=Pm(i),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return re.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&re.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[ZP]=this[ZP]={accessors:{}}).accessors,i=this.prototype;function s(l){const u=Fd(l);r[u]||(Vq(i,l),r[u]=!0)}return re.isArray(e)?e.forEach(s):s(e),this}};ir.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);re.reduceDescriptors(ir.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});re.freezeMethods(ir);function Gv(n,e){const t=this||Ef,r=e||t,i=ir.from(r.headers);let s=r.data;return re.forEach(n,function(u){s=u.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function LN(n){return!!(n&&n.__CANCEL__)}function Sc(n,e,t){Me.call(this,n??"canceled",Me.ERR_CANCELED,e,t),this.name="CanceledError"}re.inherits(Sc,Me,{__CANCEL__:!0});function VN(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Me("Request failed with status code "+t.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Mq(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Fq(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,l;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=r[s];l||(l=h),t[i]=d,r[i]=h;let g=s,_=0;for(;g!==i;)_+=t[g++],g=g%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),h-l<e)return;const T=m&&h-m;return T?Math.round(_*1e3/T):void 0}}function Uq(n,e){let t=0,r=1e3/e,i,s;const l=(h,m=Date.now())=>{t=m,i=null,s&&(clearTimeout(s),s=null),n.apply(null,h)};return[(...h)=>{const m=Date.now(),g=m-t;g>=r?l(h,m):(i=h,s||(s=setTimeout(()=>{s=null,l(i)},r-g)))},()=>i&&l(i)]}const yg=(n,e,t=3)=>{let r=0;const i=Fq(50,250);return Uq(s=>{const l=s.loaded,u=s.lengthComputable?s.total:void 0,d=l-r,h=i(d),m=l<=u;r=l;const g={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:h||void 0,estimated:h&&u&&m?(u-l)/h:void 0,event:s,lengthComputable:u!=null,[e?"download":"upload"]:!0};n(g)},t)},eb=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},tb=n=>(...e)=>re.asap(()=>n(...e)),$q=Nn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Nn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Nn.origin),Nn.navigator&&/(msie|trident)/i.test(Nn.navigator.userAgent)):()=>!0,jq=Nn.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const l=[n+"="+encodeURIComponent(e)];re.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),re.isString(r)&&l.push("path="+r),re.isString(i)&&l.push("domain="+i),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Bq(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function zq(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function MN(n,e){return n&&!Bq(e)?zq(n,e):e}const nb=n=>n instanceof ir?{...n}:n;function ol(n,e){e=e||{};const t={};function r(h,m,g,_){return re.isPlainObject(h)&&re.isPlainObject(m)?re.merge.call({caseless:_},h,m):re.isPlainObject(m)?re.merge({},m):re.isArray(m)?m.slice():m}function i(h,m,g,_){if(re.isUndefined(m)){if(!re.isUndefined(h))return r(void 0,h,g,_)}else return r(h,m,g,_)}function s(h,m){if(!re.isUndefined(m))return r(void 0,m)}function l(h,m){if(re.isUndefined(m)){if(!re.isUndefined(h))return r(void 0,h)}else return r(void 0,m)}function u(h,m,g){if(g in e)return r(h,m);if(g in n)return r(void 0,h)}const d={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(h,m,g)=>i(nb(h),nb(m),g,!0)};return re.forEach(Object.keys(Object.assign({},n,e)),function(m){const g=d[m]||i,_=g(n[m],e[m],m);re.isUndefined(_)&&g!==u||(t[m]=_)}),t}const FN=n=>{const e=ol({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:l,auth:u}=e;e.headers=l=ir.from(l),e.url=ON(MN(e.baseURL,e.url),n.params,n.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(re.isFormData(t)){if(Nn.hasStandardBrowserEnv||Nn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[h,...m]=d?d.split(";").map(g=>g.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...m].join("; "))}}if(Nn.hasStandardBrowserEnv&&(r&&re.isFunction(r)&&(r=r(e)),r||r!==!1&&$q(e.url))){const h=i&&s&&jq.read(s);h&&l.set(i,h)}return e},Wq=typeof XMLHttpRequest<"u",qq=Wq&&function(n){return new Promise(function(t,r){const i=FN(n);let s=i.data;const l=ir.from(i.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:h}=i,m,g,_,T,I;function R(){T&&T(),I&&I(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function V(){if(!A)return;const M=ir.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),j={data:!u||u==="text"||u==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:M,config:n,request:A};VN(function(D){t(D),R()},function(D){r(D),R()},j),A=null}"onloadend"in A?A.onloadend=V:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(V)},A.onabort=function(){A&&(r(new Me("Request aborted",Me.ECONNABORTED,n,A)),A=null)},A.onerror=function(){r(new Me("Network Error",Me.ERR_NETWORK,n,A)),A=null},A.ontimeout=function(){let W=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||NN;i.timeoutErrorMessage&&(W=i.timeoutErrorMessage),r(new Me(W,j.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,n,A)),A=null},s===void 0&&l.setContentType(null),"setRequestHeader"in A&&re.forEach(l.toJSON(),function(W,j){A.setRequestHeader(j,W)}),re.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),u&&u!=="json"&&(A.responseType=i.responseType),h&&([_,I]=yg(h,!0),A.addEventListener("progress",_)),d&&A.upload&&([g,T]=yg(d),A.upload.addEventListener("progress",g),A.upload.addEventListener("loadend",T)),(i.cancelToken||i.signal)&&(m=M=>{A&&(r(!M||M.type?new Sc(null,n,A):M),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const L=Mq(i.url);if(L&&Nn.protocols.indexOf(L)===-1){r(new Me("Unsupported protocol "+L+":",Me.ERR_BAD_REQUEST,n));return}A.send(s||null)})},Hq=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(h){if(!i){i=!0,u();const m=h instanceof Error?h:this.reason;r.abort(m instanceof Me?m:new Sc(m instanceof Error?m.message:m))}};let l=e&&setTimeout(()=>{l=null,s(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const u=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(s):h.removeEventListener("abort",s)}),n=null)};n.forEach(h=>h.addEventListener("abort",s));const{signal:d}=r;return d.unsubscribe=()=>re.asap(u),d}},Kq=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},Gq=async function*(n,e){for await(const t of Qq(n))yield*Kq(t,e)},Qq=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},rb=(n,e,t,r)=>{const i=Gq(n,e);let s=0,l,u=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await i.next();if(h){u(),d.close();return}let g=m.byteLength;if(t){let _=s+=g;t(_)}d.enqueue(new Uint8Array(m))}catch(h){throw u(h),h}},cancel(d){return u(d),i.return()}},{highWaterMark:2})},Sy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",UN=Sy&&typeof ReadableStream=="function",Yq=Sy&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),$N=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Jq=UN&&$N(()=>{let n=!1;const e=new Request(Nn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),ib=64*1024,sE=UN&&$N(()=>re.isReadableStream(new Response("").body)),_g={stream:sE&&(n=>n.body)};Sy&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!_g[e]&&(_g[e]=re.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Me(`Response type '${e}' is not supported`,Me.ERR_NOT_SUPPORT,r)})})})(new Response);const Xq=async n=>{if(n==null)return 0;if(re.isBlob(n))return n.size;if(re.isSpecCompliantForm(n))return(await new Request(Nn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(re.isArrayBufferView(n)||re.isArrayBuffer(n))return n.byteLength;if(re.isURLSearchParams(n)&&(n=n+""),re.isString(n))return(await Yq(n)).byteLength},Zq=async(n,e)=>{const t=re.toFiniteNumber(n.getContentLength());return t??Xq(e)},eH=Sy&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:h,headers:m,withCredentials:g="same-origin",fetchOptions:_}=FN(n);h=h?(h+"").toLowerCase():"text";let T=Hq([i,s&&s.toAbortSignal()],l),I;const R=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let A;try{if(d&&Jq&&t!=="get"&&t!=="head"&&(A=await Zq(m,r))!==0){let j=new Request(e,{method:"POST",body:r,duplex:"half"}),q;if(re.isFormData(r)&&(q=j.headers.get("content-type"))&&m.setContentType(q),j.body){const[D,P]=eb(A,yg(tb(d)));r=rb(j.body,ib,D,P)}}re.isString(g)||(g=g?"include":"omit");const V="credentials"in Request.prototype;I=new Request(e,{..._,signal:T,method:t.toUpperCase(),headers:m.normalize().toJSON(),body:r,duplex:"half",credentials:V?g:void 0});let L=await fetch(I);const M=sE&&(h==="stream"||h==="response");if(sE&&(u||M&&R)){const j={};["status","statusText","headers"].forEach(C=>{j[C]=L[C]});const q=re.toFiniteNumber(L.headers.get("content-length")),[D,P]=u&&eb(q,yg(tb(u),!0))||[];L=new Response(rb(L.body,ib,D,()=>{P&&P(),R&&R()}),j)}h=h||"text";let W=await _g[re.findKey(_g,h)||"text"](L,n);return!M&&R&&R(),await new Promise((j,q)=>{VN(j,q,{data:W,headers:ir.from(L.headers),status:L.status,statusText:L.statusText,config:n,request:I})})}catch(V){throw R&&R(),V&&V.name==="TypeError"&&/fetch/i.test(V.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,n,I),{cause:V.cause||V}):Me.from(V,V&&V.code,n,I)}}),oE={http:mq,xhr:qq,fetch:eH};re.forEach(oE,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const sb=n=>`- ${n}`,tH=n=>re.isFunction(n)||n===null||n===!1,jN={getAdapter:n=>{n=re.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let l;if(r=t,!tH(t)&&(r=oE[(l=String(t)).toLowerCase()],r===void 0))throw new Me(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+s]=r}if(!r){const s=Object.entries(i).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?s.length>1?`since :
`+s.map(sb).join(`
`):" "+sb(s[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:oE};function Qv(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Sc(null,n)}function ob(n){return Qv(n),n.headers=ir.from(n.headers),n.data=Gv.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),jN.getAdapter(n.adapter||Ef.adapter)(n).then(function(r){return Qv(n),r.data=Gv.call(n,n.transformResponse,r),r.headers=ir.from(r.headers),r},function(r){return LN(r)||(Qv(n),r&&r.response&&(r.response.data=Gv.call(n,n.transformResponse,r.response),r.response.headers=ir.from(r.response.headers))),Promise.reject(r)})}const BN="1.7.9",Ry={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Ry[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const ab={};Ry.transitional=function(e,t,r){function i(s,l){return"[Axios v"+BN+"] Transitional option '"+s+"'"+l+(r?". "+r:"")}return(s,l,u)=>{if(e===!1)throw new Me(i(l," has been removed"+(t?" in "+t:"")),Me.ERR_DEPRECATED);return t&&!ab[l]&&(ab[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,l,u):!0}};Ry.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function nH(n,e,t){if(typeof n!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],l=e[s];if(l){const u=n[s],d=u===void 0||l(u,s,n);if(d!==!0)throw new Me("option "+s+" must be "+d,Me.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Me("Unknown option "+s,Me.ERR_BAD_OPTION)}}const bm={assertOptions:nH,validators:Ry},Ai=bm.validators;let Ka=class{constructor(e){this.defaults=e,this.interceptors={request:new XP,response:new XP}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ol(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&bm.assertOptions(r,{silentJSONParsing:Ai.transitional(Ai.boolean),forcedJSONParsing:Ai.transitional(Ai.boolean),clarifyTimeoutError:Ai.transitional(Ai.boolean)},!1),i!=null&&(re.isFunction(i)?t.paramsSerializer={serialize:i}:bm.assertOptions(i,{encode:Ai.function,serialize:Ai.function},!0)),bm.assertOptions(t,{baseUrl:Ai.spelling("baseURL"),withXsrfToken:Ai.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=s&&re.merge(s.common,s[t.method]);s&&re.forEach(["delete","get","head","post","put","patch","common"],I=>{delete s[I]}),t.headers=ir.concat(l,s);const u=[];let d=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(t)===!1||(d=d&&R.synchronous,u.unshift(R.fulfilled,R.rejected))});const h=[];this.interceptors.response.forEach(function(R){h.push(R.fulfilled,R.rejected)});let m,g=0,_;if(!d){const I=[ob.bind(this),void 0];for(I.unshift.apply(I,u),I.push.apply(I,h),_=I.length,m=Promise.resolve(t);g<_;)m=m.then(I[g++],I[g++]);return m}_=u.length;let T=t;for(g=0;g<_;){const I=u[g++],R=u[g++];try{T=I(T)}catch(A){R.call(this,A);break}}try{m=ob.call(this,T)}catch(I){return Promise.reject(I)}for(g=0,_=h.length;g<_;)m=m.then(h[g++],h[g++]);return m}getUri(e){e=ol(this.defaults,e);const t=MN(e.baseURL,e.url);return ON(t,e.params,e.paramsSerializer)}};re.forEach(["delete","get","head","options"],function(e){Ka.prototype[e]=function(t,r){return this.request(ol(r||{},{method:e,url:t,data:(r||{}).data}))}});re.forEach(["post","put","patch"],function(e){function t(r){return function(s,l,u){return this.request(ol(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}Ka.prototype[e]=t(),Ka.prototype[e+"Form"]=t(!0)});let rH=class zN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const l=new Promise(u=>{r.subscribe(u),s=u}).then(i);return l.cancel=function(){r.unsubscribe(s)},l},e(function(s,l,u){r.reason||(r.reason=new Sc(s,l,u),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new zN(function(i){e=i}),cancel:e}}};function iH(n){return function(t){return n.apply(null,t)}}function sH(n){return re.isObject(n)&&n.isAxiosError===!0}const aE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(aE).forEach(([n,e])=>{aE[e]=n});function WN(n){const e=new Ka(n),t=wN(Ka.prototype.request,e);return re.extend(t,Ka.prototype,e,{allOwnKeys:!0}),re.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return WN(ol(n,i))},t}const Pt=WN(Ef);Pt.Axios=Ka;Pt.CanceledError=Sc;Pt.CancelToken=rH;Pt.isCancel=LN;Pt.VERSION=BN;Pt.toFormData=Ty;Pt.AxiosError=Me;Pt.Cancel=Pt.CanceledError;Pt.all=function(e){return Promise.all(e)};Pt.spread=iH;Pt.isAxiosError=sH;Pt.mergeConfig=ol;Pt.AxiosHeaders=ir;Pt.formToJSON=n=>DN(re.isHTMLForm(n)?new FormData(n):n);Pt.getAdapter=jN.getAdapter;Pt.HttpStatusCode=aE;Pt.default=Pt;const{Axios:eY,AxiosError:tY,CanceledError:nY,isCancel:rY,CancelToken:iY,VERSION:sY,all:oY,Cancel:aY,isAxiosError:lY,spread:uY,toFormData:cY,AxiosHeaders:dY,HttpStatusCode:hY,formToJSON:fY,getAdapter:pY,mergeConfig:mY}=Pt;var oH=hN();const kt=_E(oH);function qN(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=qN(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function hh(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=qN(n))&&(r&&(r+=" "),r+=e);return r}function HN(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const aH={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function KN(n,e,t=void 0){const r={};for(const i in n){const s=n[i];let l="",u=!0;for(let d=0;d<s.length;d+=1){const h=s[d];h&&(l+=(u===!0?"":" ")+e(h),u=!1,t&&t[h]&&(l+=" "+t[h]))}r[i]=l}return r}const lH=K.createContext(),uH=()=>K.useContext(lH)??!1;function lb(n){try{return n.matches(":focus-visible")}catch{}return!1}var Yv={exports:{}},lt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub;function cH(){if(ub)return lt;ub=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),T=Symbol.for("react.client.reference");function I(R){if(typeof R=="object"&&R!==null){var A=R.$$typeof;switch(A){case n:switch(R=R.type,R){case t:case i:case r:case d:case h:return R;default:switch(R=R&&R.$$typeof,R){case l:case u:case g:case m:return R;case s:return R;default:return A}}case e:return A}}}return lt.ContextConsumer=s,lt.ContextProvider=l,lt.Element=n,lt.ForwardRef=u,lt.Fragment=t,lt.Lazy=g,lt.Memo=m,lt.Portal=e,lt.Profiler=i,lt.StrictMode=r,lt.Suspense=d,lt.SuspenseList=h,lt.isContextConsumer=function(R){return I(R)===s},lt.isContextProvider=function(R){return I(R)===l},lt.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===n},lt.isForwardRef=function(R){return I(R)===u},lt.isFragment=function(R){return I(R)===t},lt.isLazy=function(R){return I(R)===g},lt.isMemo=function(R){return I(R)===m},lt.isPortal=function(R){return I(R)===e},lt.isProfiler=function(R){return I(R)===i},lt.isStrictMode=function(R){return I(R)===r},lt.isSuspense=function(R){return I(R)===d},lt.isSuspenseList=function(R){return I(R)===h},lt.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===t||R===i||R===r||R===d||R===h||R===_||typeof R=="object"&&R!==null&&(R.$$typeof===g||R.$$typeof===m||R.$$typeof===l||R.$$typeof===s||R.$$typeof===u||R.$$typeof===T||R.getModuleId!==void 0)},lt.typeOf=I,lt}var cb;function dH(){return cb||(cb=1,Yv.exports=cH()),Yv.exports}var GN=dH();function ws(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function QN(n){if(K.isValidElement(n)||GN.isValidElementType(n)||!ws(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=QN(n[t])}),e}function Ir(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return ws(n)&&ws(e)&&Object.keys(e).forEach(i=>{K.isValidElement(e[i])||GN.isValidElementType(e[i])?r[i]=e[i]:ws(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&ws(n[i])?r[i]=Ir(n[i],e[i],t):t.clone?r[i]=ws(e[i])?QN(e[i]):e[i]:r[i]=e[i]}),r}function al(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function Wo(n){if(typeof n!="string")throw new Error(al(7));return n.charAt(0).toUpperCase()+n.slice(1)}function hH(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let db=0;function fH(n){const[e,t]=K.useState(n),r=n||e;return K.useEffect(()=>{e==null&&(db+=1,t(`mui-${db}`))},[e]),r}const pH={...rw},hb=pH.useId;function YN(n){if(hb!==void 0){const e=hb();return n??e}return fH(n)}function mH({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=K.useRef(n!==void 0),[s,l]=K.useState(e),u=i?n:s,d=K.useCallback(h=>{i||l(h)},[]);return[u,d]}function gH(...n){return K.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{hH(t,e)})},n)}function lE(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const s=n[i],l=e[i];if(!l)t[i]=s||{};else if(!s)t[i]=l;else{t[i]={...l};for(const u in s)if(Object.prototype.hasOwnProperty.call(s,u)){const d=u;t[i][d]=lE(s[d],l[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}const fb=n=>n,yH=()=>{let n=fb;return{configure(e){n=e},generate(e){return n(e)},reset(){n=fb}}},_H=yH(),vH={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function vI(n,e,t="Mui"){const r=vH[e];return r?`${t}-${r}`:`${_H.generate(n)}-${e}`}function JN(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=vI(n,i,t)}),r}function fh(n,e){return e?Ir(n,e,{clone:!1}):n}function wH(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var l,u;const s=/min-width:\s*([0-9.]+)/;return+(((l=r.match(s))==null?void 0:l[1])||0)-+(((u=i.match(s))==null?void 0:u[1])||0)});return t.length?t.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function EH(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function IH(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,s=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(s)}function TH(n){const e=(s,l)=>s.replace("@media",l?`@container ${l}`:"@container");function t(s,l){s.up=(...u)=>e(n.breakpoints.up(...u),l),s.down=(...u)=>e(n.breakpoints.down(...u),l),s.between=(...u)=>e(n.breakpoints.between(...u),l),s.only=(...u)=>e(n.breakpoints.only(...u),l),s.not=(...u)=>{const d=e(n.breakpoints.not(...u),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=s=>(t(r,s),r);return t(i),{...n,containerQueries:i}}const Ay={xs:0,sm:600,md:900,lg:1200,xl:1536},pb={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${Ay[n]}px)`},SH={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:Ay[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Vs(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||pb;return e.reduce((l,u,d)=>(l[s.up(s.keys[d])]=t(e[d]),l),{})}if(typeof e=="object"){const s=r.breakpoints||pb;return Object.keys(e).reduce((l,u)=>{if(EH(s.keys,u)){const d=IH(r.containerQueries?r:SH,u);d&&(l[d]=t(e[u],u))}else if(Object.keys(s.values||Ay).includes(u)){const d=s.up(u);l[d]=t(e[u],u)}else{const d=u;l[d]=e[d]}return l},{})}return t(e)}function RH(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const s=n.up(i);return r[s]={},r},{}))||{}}function AH(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function Py(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function vg(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Py(n,t)||r,e&&(i=e(i,r,n)),i}function qt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=l=>{if(l[e]==null)return null;const u=l[e],d=l.theme,h=Py(d,r)||{};return Vs(l,u,g=>{let _=vg(h,i,g);return g===_&&typeof g=="string"&&(_=vg(h,i,`${e}${g==="default"?"":Wo(g)}`,g)),t===!1?_:{[t]:_}})};return s.propTypes={},s.filterProps=[e],s}function PH(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const bH={m:"margin",p:"padding"},CH={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},mb={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},kH=PH(n=>{if(n.length>2)if(mb[n])n=mb[n];else return[n];const[e,t]=n.split(""),r=bH[e],i=CH[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),wI=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],EI=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...wI,...EI];function If(n,e,t,r){const i=Py(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const l=Math.abs(s),u=i[l];return s>=0?u:typeof u=="number"?-u:`-${u}`}:typeof i=="function"?i:()=>{}}function II(n){return If(n,"spacing",8)}function Tf(n,e){return typeof e=="string"||e==null?e:n(e)}function xH(n,e){return t=>n.reduce((r,i)=>(r[i]=Tf(e,t),r),{})}function OH(n,e,t,r){if(!e.includes(t))return null;const i=kH(t),s=xH(i,r),l=n[t];return Vs(n,l,s)}function XN(n,e){const t=II(n.theme);return Object.keys(n).map(r=>OH(n,e,r,t)).reduce(fh,{})}function Lt(n){return XN(n,wI)}Lt.propTypes={};Lt.filterProps=wI;function Vt(n){return XN(n,EI)}Vt.propTypes={};Vt.filterProps=EI;function by(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?fh(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Fr(n){return typeof n!="number"?n:`${n}px solid`}function zr(n,e){return qt({prop:n,themeKey:"borders",transform:e})}const NH=zr("border",Fr),DH=zr("borderTop",Fr),LH=zr("borderRight",Fr),VH=zr("borderBottom",Fr),MH=zr("borderLeft",Fr),FH=zr("borderColor"),UH=zr("borderTopColor"),$H=zr("borderRightColor"),jH=zr("borderBottomColor"),BH=zr("borderLeftColor"),zH=zr("outline",Fr),WH=zr("outlineColor"),Cy=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=If(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Tf(e,r)});return Vs(n,n.borderRadius,t)}return null};Cy.propTypes={};Cy.filterProps=["borderRadius"];by(NH,DH,LH,VH,MH,FH,UH,$H,jH,BH,Cy,zH,WH);const ky=n=>{if(n.gap!==void 0&&n.gap!==null){const e=If(n.theme,"spacing",8),t=r=>({gap:Tf(e,r)});return Vs(n,n.gap,t)}return null};ky.propTypes={};ky.filterProps=["gap"];const xy=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=If(n.theme,"spacing",8),t=r=>({columnGap:Tf(e,r)});return Vs(n,n.columnGap,t)}return null};xy.propTypes={};xy.filterProps=["columnGap"];const Oy=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=If(n.theme,"spacing",8),t=r=>({rowGap:Tf(e,r)});return Vs(n,n.rowGap,t)}return null};Oy.propTypes={};Oy.filterProps=["rowGap"];const qH=qt({prop:"gridColumn"}),HH=qt({prop:"gridRow"}),KH=qt({prop:"gridAutoFlow"}),GH=qt({prop:"gridAutoColumns"}),QH=qt({prop:"gridAutoRows"}),YH=qt({prop:"gridTemplateColumns"}),JH=qt({prop:"gridTemplateRows"}),XH=qt({prop:"gridTemplateAreas"}),ZH=qt({prop:"gridArea"});by(ky,xy,Oy,qH,HH,KH,GH,QH,YH,JH,XH,ZH);function Ou(n,e){return e==="grey"?e:n}const e8=qt({prop:"color",themeKey:"palette",transform:Ou}),t8=qt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ou}),n8=qt({prop:"backgroundColor",themeKey:"palette",transform:Ou});by(e8,t8,n8);function _r(n){return n<=1&&n!==0?`${n*100}%`:n}const r8=qt({prop:"width",transform:_r}),TI=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,s,l,u,d;const r=((l=(s=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:l[t])||Ay[t];return r?((d=(u=n.theme)==null?void 0:u.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:_r(t)}};return Vs(n,n.maxWidth,e)}return null};TI.filterProps=["maxWidth"];const i8=qt({prop:"minWidth",transform:_r}),s8=qt({prop:"height",transform:_r}),o8=qt({prop:"maxHeight",transform:_r}),a8=qt({prop:"minHeight",transform:_r});qt({prop:"size",cssProperty:"width",transform:_r});qt({prop:"size",cssProperty:"height",transform:_r});const l8=qt({prop:"boxSizing"});by(r8,TI,i8,s8,o8,a8,l8);const Ny={border:{themeKey:"borders",transform:Fr},borderTop:{themeKey:"borders",transform:Fr},borderRight:{themeKey:"borders",transform:Fr},borderBottom:{themeKey:"borders",transform:Fr},borderLeft:{themeKey:"borders",transform:Fr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Fr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Cy},color:{themeKey:"palette",transform:Ou},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ou},backgroundColor:{themeKey:"palette",transform:Ou},p:{style:Vt},pt:{style:Vt},pr:{style:Vt},pb:{style:Vt},pl:{style:Vt},px:{style:Vt},py:{style:Vt},padding:{style:Vt},paddingTop:{style:Vt},paddingRight:{style:Vt},paddingBottom:{style:Vt},paddingLeft:{style:Vt},paddingX:{style:Vt},paddingY:{style:Vt},paddingInline:{style:Vt},paddingInlineStart:{style:Vt},paddingInlineEnd:{style:Vt},paddingBlock:{style:Vt},paddingBlockStart:{style:Vt},paddingBlockEnd:{style:Vt},m:{style:Lt},mt:{style:Lt},mr:{style:Lt},mb:{style:Lt},ml:{style:Lt},mx:{style:Lt},my:{style:Lt},margin:{style:Lt},marginTop:{style:Lt},marginRight:{style:Lt},marginBottom:{style:Lt},marginLeft:{style:Lt},marginX:{style:Lt},marginY:{style:Lt},marginInline:{style:Lt},marginInlineStart:{style:Lt},marginInlineEnd:{style:Lt},marginBlock:{style:Lt},marginBlockStart:{style:Lt},marginBlockEnd:{style:Lt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ky},rowGap:{style:Oy},columnGap:{style:xy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:_r},maxWidth:{style:TI},minWidth:{transform:_r},height:{transform:_r},maxHeight:{transform:_r},minHeight:{transform:_r},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function u8(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function c8(n,e){return typeof n=="function"?n(e):n}function d8(){function n(t,r,i,s){const l={[t]:r,theme:i},u=s[t];if(!u)return{[t]:r};const{cssProperty:d=t,themeKey:h,transform:m,style:g}=u;if(r==null)return null;if(h==="typography"&&r==="inherit")return{[t]:r};const _=Py(i,h)||{};return g?g(l):Vs(l,r,I=>{let R=vg(_,m,I);return I===R&&typeof I=="string"&&(R=vg(_,m,`${t}${I==="default"?"":Wo(I)}`,I)),d===!1?R:{[d]:R}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const s=i.unstable_sxConfig??Ny;function l(u){let d=u;if(typeof u=="function")d=u(i);else if(typeof u!="object")return u;if(!d)return null;const h=RH(i.breakpoints),m=Object.keys(h);let g=h;return Object.keys(d).forEach(_=>{const T=c8(d[_],i);if(T!=null)if(typeof T=="object")if(s[_])g=fh(g,n(_,T,i,s));else{const I=Vs({theme:i},T,R=>({[_]:R}));u8(I,T)?g[_]=e({sx:T,theme:i}):g=fh(g,I)}else g=fh(g,n(_,T,i,s))}),wH(i,AH(m,g))}return Array.isArray(r)?r.map(l):l(r)}return e}const rc=d8();rc.filterProps=["sx"];function uE(){return uE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},uE.apply(null,arguments)}function h8(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function f8(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var p8=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(f8(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=h8(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),xn="-ms-",wg="-moz-",tt="-webkit-",ZN="comm",SI="rule",RI="decl",m8="@import",eD="@keyframes",g8="@layer",y8=Math.abs,Dy=String.fromCharCode,_8=Object.assign;function v8(n,e){return In(n,0)^45?(((e<<2^In(n,0))<<2^In(n,1))<<2^In(n,2))<<2^In(n,3):0}function tD(n){return n.trim()}function w8(n,e){return(n=e.exec(n))?n[0]:n}function nt(n,e,t){return n.replace(e,t)}function cE(n,e){return n.indexOf(e)}function In(n,e){return n.charCodeAt(e)|0}function $h(n,e,t){return n.slice(e,t)}function ki(n){return n.length}function AI(n){return n.length}function Zp(n,e){return e.push(n),n}function E8(n,e){return n.map(e).join("")}var Ly=1,ic=1,nD=0,sr=0,Yt=0,Rc="";function Vy(n,e,t,r,i,s,l){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:Ly,column:ic,length:l,return:""}}function Ud(n,e){return _8(Vy("",null,null,"",null,null,0),n,{length:-n.length},e)}function I8(){return Yt}function T8(){return Yt=sr>0?In(Rc,--sr):0,ic--,Yt===10&&(ic=1,Ly--),Yt}function Tr(){return Yt=sr<nD?In(Rc,sr++):0,ic++,Yt===10&&(ic=1,Ly++),Yt}function qi(){return In(Rc,sr)}function Cm(){return sr}function Sf(n,e){return $h(Rc,n,e)}function jh(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rD(n){return Ly=ic=1,nD=ki(Rc=n),sr=0,[]}function iD(n){return Rc="",n}function km(n){return tD(Sf(sr-1,dE(n===91?n+2:n===40?n+1:n)))}function S8(n){for(;(Yt=qi())&&Yt<33;)Tr();return jh(n)>2||jh(Yt)>3?"":" "}function R8(n,e){for(;--e&&Tr()&&!(Yt<48||Yt>102||Yt>57&&Yt<65||Yt>70&&Yt<97););return Sf(n,Cm()+(e<6&&qi()==32&&Tr()==32))}function dE(n){for(;Tr();)switch(Yt){case n:return sr;case 34:case 39:n!==34&&n!==39&&dE(Yt);break;case 40:n===41&&dE(n);break;case 92:Tr();break}return sr}function A8(n,e){for(;Tr()&&n+Yt!==57;)if(n+Yt===84&&qi()===47)break;return"/*"+Sf(e,sr-1)+"*"+Dy(n===47?n:Tr())}function P8(n){for(;!jh(qi());)Tr();return Sf(n,sr)}function b8(n){return iD(xm("",null,null,null,[""],n=rD(n),0,[0],n))}function xm(n,e,t,r,i,s,l,u,d){for(var h=0,m=0,g=l,_=0,T=0,I=0,R=1,A=1,V=1,L=0,M="",W=i,j=s,q=r,D=M;A;)switch(I=L,L=Tr()){case 40:if(I!=108&&In(D,g-1)==58){cE(D+=nt(km(L),"&","&\f"),"&\f")!=-1&&(V=-1);break}case 34:case 39:case 91:D+=km(L);break;case 9:case 10:case 13:case 32:D+=S8(I);break;case 92:D+=R8(Cm()-1,7);continue;case 47:switch(qi()){case 42:case 47:Zp(C8(A8(Tr(),Cm()),e,t),d);break;default:D+="/"}break;case 123*R:u[h++]=ki(D)*V;case 125*R:case 59:case 0:switch(L){case 0:case 125:A=0;case 59+m:V==-1&&(D=nt(D,/\f/g,"")),T>0&&ki(D)-g&&Zp(T>32?yb(D+";",r,t,g-1):yb(nt(D," ","")+";",r,t,g-2),d);break;case 59:D+=";";default:if(Zp(q=gb(D,e,t,h,m,i,u,M,W=[],j=[],g),s),L===123)if(m===0)xm(D,e,q,q,W,s,g,u,j);else switch(_===99&&In(D,3)===110?100:_){case 100:case 108:case 109:case 115:xm(n,q,q,r&&Zp(gb(n,q,q,0,0,i,u,M,i,W=[],g),j),i,j,g,u,r?W:j);break;default:xm(D,q,q,q,[""],j,0,u,j)}}h=m=T=0,R=V=1,M=D="",g=l;break;case 58:g=1+ki(D),T=I;default:if(R<1){if(L==123)--R;else if(L==125&&R++==0&&T8()==125)continue}switch(D+=Dy(L),L*R){case 38:V=m>0?1:(D+="\f",-1);break;case 44:u[h++]=(ki(D)-1)*V,V=1;break;case 64:qi()===45&&(D+=km(Tr())),_=qi(),m=g=ki(M=D+=P8(Cm())),L++;break;case 45:I===45&&ki(D)==2&&(R=0)}}return s}function gb(n,e,t,r,i,s,l,u,d,h,m){for(var g=i-1,_=i===0?s:[""],T=AI(_),I=0,R=0,A=0;I<r;++I)for(var V=0,L=$h(n,g+1,g=y8(R=l[I])),M=n;V<T;++V)(M=tD(R>0?_[V]+" "+L:nt(L,/&\f/g,_[V])))&&(d[A++]=M);return Vy(n,e,t,i===0?SI:u,d,h,m)}function C8(n,e,t){return Vy(n,e,t,ZN,Dy(I8()),$h(n,2,-2),0)}function yb(n,e,t,r){return Vy(n,e,t,RI,$h(n,0,r),$h(n,r+1,-1),r)}function Nu(n,e){for(var t="",r=AI(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function k8(n,e,t,r){switch(n.type){case g8:if(n.children.length)break;case m8:case RI:return n.return=n.return||n.value;case ZN:return"";case eD:return n.return=n.value+"{"+Nu(n.children,r)+"}";case SI:n.value=n.props.join(",")}return ki(t=Nu(n.children,r))?n.return=n.value+"{"+t+"}":""}function x8(n){var e=AI(n);return function(t,r,i,s){for(var l="",u=0;u<e;u++)l+=n[u](t,r,i,s)||"";return l}}function O8(n){return function(e){e.root||(e=e.return)&&n(e)}}function PI(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var N8=function(e,t,r){for(var i=0,s=0;i=s,s=qi(),i===38&&s===12&&(t[r]=1),!jh(s);)Tr();return Sf(e,sr)},D8=function(e,t){var r=-1,i=44;do switch(jh(i)){case 0:i===38&&qi()===12&&(t[r]=1),e[r]+=N8(sr-1,t,r);break;case 2:e[r]+=km(i);break;case 4:if(i===44){e[++r]=qi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Dy(i)}while(i=Tr());return e},L8=function(e,t){return iD(D8(rD(e),t))},_b=new WeakMap,V8=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!_b.get(r))&&!i){_b.set(e,!0);for(var s=[],l=L8(t,s),u=r.props,d=0,h=0;d<l.length;d++)for(var m=0;m<u.length;m++,h++)e.props[h]=s[d]?l[d].replace(/&\f/g,u[m]):u[m]+" "+l[d]}}},M8=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function sD(n,e){switch(v8(n,e)){case 5103:return tt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+n+wg+n+xn+n+n;case 6828:case 4268:return tt+n+xn+n+n;case 6165:return tt+n+xn+"flex-"+n+n;case 5187:return tt+n+nt(n,/(\w+).+(:[^]+)/,tt+"box-$1$2"+xn+"flex-$1$2")+n;case 5443:return tt+n+xn+"flex-item-"+nt(n,/flex-|-self/,"")+n;case 4675:return tt+n+xn+"flex-line-pack"+nt(n,/align-content|flex-|-self/,"")+n;case 5548:return tt+n+xn+nt(n,"shrink","negative")+n;case 5292:return tt+n+xn+nt(n,"basis","preferred-size")+n;case 6060:return tt+"box-"+nt(n,"-grow","")+tt+n+xn+nt(n,"grow","positive")+n;case 4554:return tt+nt(n,/([^-])(transform)/g,"$1"+tt+"$2")+n;case 6187:return nt(nt(nt(n,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),n,"")+n;case 5495:case 3959:return nt(n,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return nt(nt(n,/(.+:)(flex-)?(.*)/,tt+"box-pack:$3"+xn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+n+n;case 4095:case 3583:case 4068:case 2532:return nt(n,/(.+)-inline(.+)/,tt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ki(n)-1-e>6)switch(In(n,e+1)){case 109:if(In(n,e+4)!==45)break;case 102:return nt(n,/(.+:)(.+)-([^]+)/,"$1"+tt+"$2-$3$1"+wg+(In(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~cE(n,"stretch")?sD(nt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(In(n,e+1)!==115)break;case 6444:switch(In(n,ki(n)-3-(~cE(n,"!important")&&10))){case 107:return nt(n,":",":"+tt)+n;case 101:return nt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+tt+(In(n,14)===45?"inline-":"")+"box$3$1"+tt+"$2$3$1"+xn+"$2box$3")+n}break;case 5936:switch(In(n,e+11)){case 114:return tt+n+xn+nt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return tt+n+xn+nt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return tt+n+xn+nt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return tt+n+xn+n+n}return n}var F8=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case RI:e.return=sD(e.value,e.length);break;case eD:return Nu([Ud(e,{value:nt(e.value,"@","@"+tt)})],i);case SI:if(e.length)return E8(e.props,function(s){switch(w8(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Nu([Ud(e,{props:[nt(s,/:(read-\w+)/,":"+wg+"$1")]})],i);case"::placeholder":return Nu([Ud(e,{props:[nt(s,/:(plac\w+)/,":"+tt+"input-$1")]}),Ud(e,{props:[nt(s,/:(plac\w+)/,":"+wg+"$1")]}),Ud(e,{props:[nt(s,/:(plac\w+)/,xn+"input-$1")]})],i)}return""})}},U8=[F8],$8=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(R){var A=R.getAttribute("data-emotion");A.indexOf(" ")!==-1&&(document.head.appendChild(R),R.setAttribute("data-s",""))})}var i=e.stylisPlugins||U8,s={},l,u=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(R){for(var A=R.getAttribute("data-emotion").split(" "),V=1;V<A.length;V++)s[A[V]]=!0;u.push(R)});var d,h=[V8,M8];{var m,g=[k8,O8(function(R){m.insert(R)})],_=x8(h.concat(i,g)),T=function(A){return Nu(b8(A),_)};d=function(A,V,L,M){m=L,T(A?A+"{"+V.styles+"}":V.styles),M&&(I.inserted[V.name]=!0)}}var I={key:t,sheet:new p8({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:d};return I.sheet.hydrate(u),I};function oD(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var j8=function(e){return e()},B8=rw.useInsertionEffect?rw.useInsertionEffect:!1,z8=B8||j8,aD=K.createContext(typeof HTMLElement<"u"?$8({key:"css"}):null);aD.Provider;var W8=function(e){return K.forwardRef(function(t,r){var i=K.useContext(aD);return e(t,i,r)})},q8=K.createContext({}),H8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},K8=/[A-Z]|^ms/g,G8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,lD=function(e){return e.charCodeAt(1)===45},vb=function(e){return e!=null&&typeof e!="boolean"},Jv=PI(function(n){return lD(n)?n:n.replace(K8,"-$&").toLowerCase()}),wb=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(G8,function(r,i,s){return xi={name:i,styles:s,next:xi},i})}return H8[e]!==1&&!lD(e)&&typeof t=="number"&&t!==0?t+"px":t};function Bh(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return xi={name:i.name,styles:i.styles,next:xi},i.name;var s=t;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)xi={name:l.name,styles:l.styles,next:xi},l=l.next;var u=s.styles+";";return u}return Q8(n,e,t)}case"function":{if(n!==void 0){var d=xi,h=t(n);return xi=d,Bh(n,e,h)}break}}var m=t;if(e==null)return m;var g=e[m];return g!==void 0?g:m}function Q8(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Bh(n,e,t[i])+";";else for(var s in t){var l=t[s];if(typeof l!="object"){var u=l;e!=null&&e[u]!==void 0?r+=s+"{"+e[u]+"}":vb(u)&&(r+=Jv(s)+":"+wb(s,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(e==null||e[l[0]]===void 0))for(var d=0;d<l.length;d++)vb(l[d])&&(r+=Jv(s)+":"+wb(s,l[d])+";");else{var h=Bh(n,e,l);switch(s){case"animation":case"animationName":{r+=Jv(s)+":"+h+";";break}default:r+=s+"{"+h+"}"}}}return r}var Eb=/label:\s*([^\s;{]+)\s*(;|$)/g,xi;function Y8(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";xi=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=Bh(t,e,s);else{var l=s;i+=l[0]}for(var u=1;u<n.length;u++)if(i+=Bh(t,e,n[u]),r){var d=s;i+=d[u]}Eb.lastIndex=0;for(var h="",m;(m=Eb.exec(i))!==null;)h+="-"+m[1];var g=oD(i)+h;return{name:g,styles:i,next:xi}}var J8=!0;function X8(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var uD=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||J8===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},Z8=function(e,t,r){uD(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}},eK=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,tK=PI(function(n){return eK.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),nK=tK,rK=function(e){return e!=="theme"},Ib=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?nK:rK},Tb=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(l){return e.__emotion_forwardProp(l)&&s(l)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},iK=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return uD(t,r,i),z8(function(){return Z8(t,r,i)}),null},sK=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,l;t!==void 0&&(s=t.label,l=t.target);var u=Tb(e,t,r),d=u||Ib(i),h=!d("as");return function(){var m=arguments,g=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&g.push("label:"+s+";"),m[0]==null||m[0].raw===void 0)g.push.apply(g,m);else{var _=m[0];g.push(_[0]);for(var T=m.length,I=1;I<T;I++)g.push(m[I],_[I])}var R=W8(function(A,V,L){var M=h&&A.as||i,W="",j=[],q=A;if(A.theme==null){q={};for(var D in A)q[D]=A[D];q.theme=K.useContext(q8)}typeof A.className=="string"?W=X8(V.registered,j,A.className):A.className!=null&&(W=A.className+" ");var P=Y8(g.concat(j),V.registered,q);W+=V.key+"-"+P.name,l!==void 0&&(W+=" "+l);var C=h&&u===void 0?Ib(M):d,E={};for(var x in A)h&&x==="as"||C(x)&&(E[x]=A[x]);return E.className=W,L&&(E.ref=L),K.createElement(K.Fragment,null,K.createElement(iK,{cache:V,serialized:P,isStringTag:typeof M=="string"}),K.createElement(M,E))});return R.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",R.defaultProps=e.defaultProps,R.__emotion_real=R,R.__emotion_base=i,R.__emotion_styles=g,R.__emotion_forwardProp=u,Object.defineProperty(R,"toString",{value:function(){return"."+l}}),R.withComponent=function(A,V){var L=n(A,uE({},t,V,{shouldForwardProp:Tb(R,V,!0)}));return L.apply(void 0,g)},R}},oK=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],hE=sK.bind(null);oK.forEach(function(n){hE[n]=hE(n)});var aK={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},lK=/[A-Z]|^ms/g,uK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,cD=function(e){return e.charCodeAt(1)===45},Sb=function(e){return e!=null&&typeof e!="boolean"},Xv=PI(function(n){return cD(n)?n:n.replace(lK,"-$&").toLowerCase()}),Rb=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(uK,function(r,i,s){return Ao={name:i,styles:s,next:Ao},i})}return aK[e]!==1&&!cD(e)&&typeof t=="number"&&t!==0?t+"px":t};function Eg(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Ao={name:i.name,styles:i.styles,next:Ao},i.name;var s=t;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)Ao={name:l.name,styles:l.styles,next:Ao},l=l.next;var u=s.styles+";";return u}return cK(n,e,t)}}var d=t;return d}function cK(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Eg(n,e,t[i])+";";else for(var s in t){var l=t[s];if(typeof l!="object"){var u=l;Sb(u)&&(r+=Xv(s)+":"+Rb(s,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&e==null)for(var d=0;d<l.length;d++)Sb(l[d])&&(r+=Xv(s)+":"+Rb(s,l[d])+";");else{var h=Eg(n,e,l);switch(s){case"animation":case"animationName":{r+=Xv(s)+":"+h+";";break}default:r+=s+"{"+h+"}"}}}return r}var Ab=/label:\s*([^\s;{]+)\s*(;|$)/g,Ao;function dK(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Ao=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=Eg(t,e,s);else{var l=s;i+=l[0]}for(var u=1;u<n.length;u++)if(i+=Eg(t,e,n[u]),r){var d=s;i+=d[u]}Ab.lastIndex=0;for(var h="",m;(m=Ab.exec(i))!==null;)h+="-"+m[1];var g=oD(i)+h;return{name:g,styles:i,next:Ao}}/**
 * @mui/styled-engine v6.4.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function hK(n,e){return hE(n,e)}function fK(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const Pb=[];function bb(n){return Pb[0]=n,dK(Pb)}const pK=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function mK(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,s=pK(e),l=Object.keys(s);function u(_){return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${t})`}function d(_){return`@media (max-width:${(typeof e[_]=="number"?e[_]:_)-r/100}${t})`}function h(_,T){const I=l.indexOf(T);return`@media (min-width:${typeof e[_]=="number"?e[_]:_}${t}) and (max-width:${(I!==-1&&typeof e[l[I]]=="number"?e[l[I]]:T)-r/100}${t})`}function m(_){return l.indexOf(_)+1<l.length?h(_,l[l.indexOf(_)+1]):u(_)}function g(_){const T=l.indexOf(_);return T===0?u(l[1]):T===l.length-1?d(l[T]):h(_,l[l.indexOf(_)+1]).replace("@media","@media not all and")}return{keys:l,values:s,up:u,down:d,between:h,only:m,not:g,unit:t,...i}}const gK={borderRadius:4};function dD(n=8,e=II({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(s=>{const l=e(s);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function yK(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function hD(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={},...l}=n,u=mK(t),d=dD(i);let h=Ir({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...gK,...s}},l);return h=TH(h),h.applyStyles=yK,h=e.reduce((m,g)=>Ir(m,g),h),h.unstable_sxConfig={...Ny,...l==null?void 0:l.unstable_sxConfig},h.unstable_sx=function(g){return rc({sx:g,theme:this})},h}function fD(n){const{variants:e,...t}=n,r={variants:e,style:bb(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=bb(i.style))}),r}const _K=hD();function Zv(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function vK(n){return n?(e,t)=>t[n]:null}function wK(n,e,t){n.theme=TK(n.theme)?t:n.theme[e]||n.theme}function Om(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>Om(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...s}=t;r=s}return pD(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function pD(n,e,t=[]){var i;let r;e:for(let s=0;s<e.length;s+=1){const l=e[s];if(typeof l.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!l.props(r))continue}else for(const u in l.props)if(n[u]!==l.props[u]&&((i=n.ownerState)==null?void 0:i[u])!==l.props[u])continue e;typeof l.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(l.style(r))):t.push(l.style)}return t}function EK(n={}){const{themeId:e,defaultTheme:t=_K,rootShouldForwardProp:r=Zv,slotShouldForwardProp:i=Zv}=n;function s(u){wK(u,e,t)}return(u,d={})=>{fK(u,j=>j.filter(q=>q!==rc));const{name:h,slot:m,skipVariantsResolver:g,skipSx:_,overridesResolver:T=vK(RK(m)),...I}=d,R=g!==void 0?g:m&&m!=="Root"&&m!=="root"||!1,A=_||!1;let V=Zv;m==="Root"||m==="root"?V=r:m?V=i:SK(u)&&(V=void 0);const L=hK(u,{shouldForwardProp:V,label:IK(),...I}),M=j=>{if(typeof j=="function"&&j.__emotion_real!==j)return function(D){return Om(D,j)};if(ws(j)){const q=fD(j);return q.variants?function(P){return Om(P,q)}:q.style}return j},W=(...j)=>{const q=[],D=j.map(M),P=[];if(q.push(s),h&&T&&P.push(function(k){var me,oe;const ee=(oe=(me=k.theme.components)==null?void 0:me[h])==null?void 0:oe.styleOverrides;if(!ee)return null;const F={};for(const X in ee)F[X]=Om(k,ee[X]);return T(k,F)}),h&&!R&&P.push(function(k){var F,me;const O=k.theme,ee=(me=(F=O==null?void 0:O.components)==null?void 0:F[h])==null?void 0:me.variants;return ee?pD(k,ee):null}),A||P.push(rc),Array.isArray(D[0])){const x=D.shift(),k=new Array(q.length).fill(""),O=new Array(P.length).fill("");let ee;ee=[...k,...x,...O],ee.raw=[...k,...x.raw,...O],q.unshift(ee)}const C=[...q,...D,...P],E=L(...C);return u.muiName&&(E.muiName=u.muiName),E};return L.withConfig&&(W.withConfig=L.withConfig),W}}function IK(n,e){return void 0}function TK(n){for(const e in n)return!1;return!0}function SK(n){return typeof n=="string"&&n.charCodeAt(0)>96}function RK(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function bI(n,e=0,t=1){return HN(n,e,t)}function AK(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function qo(n){if(n.type)return n;if(n.charAt(0)==="#")return qo(AK(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(al(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(al(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}const PK=n=>{const e=qo(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Jd=(n,e)=>{try{return PK(n)}catch{return n}};function My(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function mD(n){n=qo(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),l=(h,m=(h+t/30)%12)=>i-s*Math.max(Math.min(m-3,9-m,1),-1);let u="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return n.type==="hsla"&&(u+="a",d.push(e[3])),My({type:u,values:d})}function fE(n){n=qo(n);let e=n.type==="hsl"||n.type==="hsla"?qo(mD(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function bK(n,e){const t=fE(n),r=fE(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function CK(n,e){return n=qo(n),e=bI(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,My(n)}function em(n,e,t){try{return CK(n,e)}catch{return n}}function CI(n,e){if(n=qo(n),e=bI(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return My(n)}function ct(n,e,t){try{return CI(n,e)}catch{return n}}function kI(n,e){if(n=qo(n),e=bI(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return My(n)}function dt(n,e,t){try{return kI(n,e)}catch{return n}}function kK(n,e=.15){return fE(n)>.5?CI(n,e):kI(n,e)}function tm(n,e,t){try{return kK(n,e)}catch{return n}}const xK=K.createContext(void 0);function OK(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?lE(i.defaultProps,r):!i.styleOverrides&&!i.variants?lE(i,r):r}function NK({props:n,name:e}){const t=K.useContext(xK);return OK({props:n,name:e,theme:{components:t}})}const Cb={theme:void 0};function DK(n){let e,t;return function(i){let s=e;return(s===void 0||i.theme!==t)&&(Cb.theme=i.theme,s=fD(n(Cb)),e=s,t=i.theme),s}}function LK(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const kb=(n,e,t,r=[])=>{let i=n;e.forEach((s,l)=>{l===e.length-1?Array.isArray(i)?i[Number(s)]=t:i&&typeof i=="object"&&(i[s]=t):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},VK=(n,e,t)=>{function r(i,s=[],l=[]){Object.entries(i).forEach(([u,d])=>{(!t||t&&!t([...s,u]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...s,u],Array.isArray(d)?[...l,u]:l):e([...s,u],d,l))})}r(n)},MK=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function ew(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},s={},l={};return VK(n,(u,d,h)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(u,d))){const m=`--${t?`${t}-`:""}${u.join("-")}`,g=MK(u,d);Object.assign(i,{[m]:g}),kb(s,u,`var(${m})`,h),kb(l,u,`var(${m}, ${g})`,h)}},u=>u[0]==="vars"),{css:i,vars:s,varsWithDefaults:l}}function FK(n,e={}){const{getSelector:t=A,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:l,defaultColorScheme:u="light",...d}=n,{vars:h,css:m,varsWithDefaults:g}=ew(d,e);let _=g;const T={},{[u]:I,...R}=s;if(Object.entries(R||{}).forEach(([M,W])=>{const{vars:j,css:q,varsWithDefaults:D}=ew(W,e);_=Ir(_,D),T[M]={css:q,vars:j}}),I){const{css:M,vars:W,varsWithDefaults:j}=ew(I,e);_=Ir(_,j),T[u]={css:M,vars:W}}function A(M,W){var q,D;let j=i;if(i==="class"&&(j=".%s"),i==="data"&&(j="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(j=`[${i}="%s"]`),M){if(j==="media")return n.defaultColorScheme===M?":root":{[`@media (prefers-color-scheme: ${((D=(q=s[M])==null?void 0:q.palette)==null?void 0:D.mode)||M})`]:{":root":W}};if(j)return n.defaultColorScheme===M?`:root, ${j.replace("%s",String(M))}`:j.replace("%s",String(M))}return":root"}return{vars:_,generateThemeVars:()=>{let M={...h};return Object.entries(T).forEach(([,{vars:W}])=>{M=Ir(M,W)}),M},generateStyleSheets:()=>{var P,C;const M=[],W=n.defaultColorScheme||"light";function j(E,x){Object.keys(x).length&&M.push(typeof E=="string"?{[E]:{...x}}:E)}j(t(void 0,{...m}),m);const{[W]:q,...D}=T;if(q){const{css:E}=q,x=(C=(P=s[W])==null?void 0:P.palette)==null?void 0:C.mode,k=!r&&x?{colorScheme:x,...E}:{...E};j(t(W,{...k}),k)}return Object.entries(D).forEach(([E,{css:x}])=>{var ee,F;const k=(F=(ee=s[E])==null?void 0:ee.palette)==null?void 0:F.mode,O=!r&&k?{colorScheme:k,...x}:{...x};j(t(E,{...O}),O)}),M}}}function UK(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const zh={black:"#000",white:"#fff"},$K={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},cu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},du={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},$d={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},hu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},fu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},pu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function gD(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:zh.white,default:zh.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const jK=gD();function yD(){return{text:{primary:zh.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:zh.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const xb=yD();function Ob(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=kI(n.main,i):e==="dark"&&(n.dark=CI(n.main,s)))}function BK(n="light"){return n==="dark"?{main:hu[200],light:hu[50],dark:hu[400]}:{main:hu[700],light:hu[400],dark:hu[800]}}function zK(n="light"){return n==="dark"?{main:cu[200],light:cu[50],dark:cu[400]}:{main:cu[500],light:cu[300],dark:cu[700]}}function WK(n="light"){return n==="dark"?{main:du[500],light:du[300],dark:du[700]}:{main:du[700],light:du[400],dark:du[800]}}function qK(n="light"){return n==="dark"?{main:fu[400],light:fu[300],dark:fu[700]}:{main:fu[700],light:fu[500],dark:fu[900]}}function HK(n="light"){return n==="dark"?{main:pu[400],light:pu[300],dark:pu[700]}:{main:pu[800],light:pu[500],dark:pu[900]}}function KK(n="light"){return n==="dark"?{main:$d[400],light:$d[300],dark:$d[700]}:{main:"#ed6c02",light:$d[500],dark:$d[900]}}function xI(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,s=n.primary||BK(e),l=n.secondary||zK(e),u=n.error||WK(e),d=n.info||qK(e),h=n.success||HK(e),m=n.warning||KK(e);function g(R){return bK(R,xb.text.primary)>=t?xb.text.primary:jK.text.primary}const _=({color:R,name:A,mainShade:V=500,lightShade:L=300,darkShade:M=700})=>{if(R={...R},!R.main&&R[V]&&(R.main=R[V]),!R.hasOwnProperty("main"))throw new Error(al(11,A?` (${A})`:"",V));if(typeof R.main!="string")throw new Error(al(12,A?` (${A})`:"",JSON.stringify(R.main)));return Ob(R,"light",L,r),Ob(R,"dark",M,r),R.contrastText||(R.contrastText=g(R.main)),R};let T;return e==="light"?T=gD():e==="dark"&&(T=yD()),Ir({common:{...zh},mode:e,primary:_({color:s,name:"primary"}),secondary:_({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:_({color:u,name:"error"}),warning:_({color:m,name:"warning"}),info:_({color:d,name:"info"}),success:_({color:h,name:"success"}),grey:$K,contrastThreshold:t,getContrastText:g,augmentColor:_,tonalOffset:r,...T},i)}function GK(n){const e={};return Object.entries(n).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function QK(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function YK(n){return Math.round(n*1e5)/1e5}const Nb={textTransform:"uppercase"},Db='"Roboto", "Helvetica", "Arial", sans-serif';function JK(n,e){const{fontFamily:t=Db,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:h,pxToRem:m,...g}=typeof e=="function"?e(n):e,_=r/14,T=m||(A=>`${A/d*_}rem`),I=(A,V,L,M,W)=>({fontFamily:t,fontWeight:A,fontSize:T(V),lineHeight:L,...t===Db?{letterSpacing:`${YK(M/V)}em`}:{},...W,...h}),R={h1:I(i,96,1.167,-1.5),h2:I(i,60,1.2,-.5),h3:I(s,48,1.167,0),h4:I(s,34,1.235,.25),h5:I(s,24,1.334,0),h6:I(l,20,1.6,.15),subtitle1:I(s,16,1.75,.15),subtitle2:I(l,14,1.57,.1),body1:I(s,16,1.5,.15),body2:I(s,14,1.43,.15),button:I(l,14,1.75,.4,Nb),caption:I(s,12,1.66,.4),overline:I(s,12,2.66,1,Nb),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ir({htmlFontSize:d,pxToRem:T,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:u,...R},g,{clone:!1})}const XK=.2,ZK=.14,eG=.12;function It(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${XK})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${ZK})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${eG})`].join(",")}const tG=["none",It(0,2,1,-1,0,1,1,0,0,1,3,0),It(0,3,1,-2,0,2,2,0,0,1,5,0),It(0,3,3,-2,0,3,4,0,0,1,8,0),It(0,2,4,-1,0,4,5,0,0,1,10,0),It(0,3,5,-1,0,5,8,0,0,1,14,0),It(0,3,5,-1,0,6,10,0,0,1,18,0),It(0,4,5,-2,0,7,10,1,0,2,16,1),It(0,5,5,-3,0,8,10,1,0,3,14,2),It(0,5,6,-3,0,9,12,1,0,3,16,2),It(0,6,6,-3,0,10,14,1,0,4,18,3),It(0,6,7,-4,0,11,15,1,0,4,20,3),It(0,7,8,-4,0,12,17,2,0,5,22,4),It(0,7,8,-4,0,13,19,2,0,5,24,4),It(0,7,9,-4,0,14,21,2,0,5,26,4),It(0,8,9,-5,0,15,22,2,0,6,28,5),It(0,8,10,-5,0,16,24,2,0,6,30,5),It(0,8,11,-5,0,17,26,2,0,6,32,5),It(0,9,11,-5,0,18,28,2,0,7,34,6),It(0,9,12,-6,0,19,29,2,0,7,36,6),It(0,10,13,-6,0,20,31,3,0,8,38,7),It(0,10,13,-6,0,21,33,3,0,8,40,7),It(0,10,14,-6,0,22,35,3,0,8,42,7),It(0,11,14,-7,0,23,36,3,0,9,44,8),It(0,11,15,-7,0,24,38,3,0,9,46,8)],nG={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},rG={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Lb(n){return`${Math.round(n)}ms`}function iG(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function sG(n){const e={...nG,...n.easing},t={...rG,...n.duration};return{getAutoHeightDuration:iG,create:(i=["all"],s={})=>{const{duration:l=t.standard,easing:u=e.easeInOut,delay:d=0,...h}=s;return(Array.isArray(i)?i:[i]).map(m=>`${m} ${typeof l=="string"?l:Lb(l)} ${u} ${typeof d=="string"?d:Lb(d)}`).join(",")},...n,easing:e,duration:t}}const oG={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function aG(n){return ws(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function _D(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[l,u]=i[s];!aG(u)||l.startsWith("unstable_")?delete r[l]:ws(u)&&(r[l]={...u},t(r[l]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function pE(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:s={},transitions:l={},typography:u={},shape:d,...h}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(al(20));const m=xI(s),g=hD(n);let _=Ir(g,{mixins:QK(g.breakpoints,r),palette:m,shadows:tG.slice(),typography:JK(m,u),transitions:sG(l),zIndex:{...oG}});return _=Ir(_,h),_=e.reduce((T,I)=>Ir(T,I),_),_.unstable_sxConfig={...Ny,...h==null?void 0:h.unstable_sxConfig},_.unstable_sx=function(I){return rc({sx:I,theme:this})},_.toRuntimeSource=_D,_}function lG(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const uG=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=lG(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function vD(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function wD(n){return n==="dark"?uG:[]}function cG(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,s=xI(e);return{palette:s,opacity:{...vD(s.mode),...t},overlays:r||wD(s.mode),...i}}function dG(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const hG=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],fG=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const l={};return hG(n.cssVarPrefix).forEach(u=>{l[u]=t[u],delete t[u]}),s==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:l}}:s?{[s.replace("%s",e)]:l,[`${r}, ${s.replace("%s",e)}`]:t}:{[r]:{...t,...l}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(s)return s.replace("%s",String(e))}return r};function pG(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function se(n,e,t){!n[e]&&t&&(n[e]=t)}function Xd(n){return typeof n!="string"||!n.startsWith("hsl")?n:mD(n)}function ys(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Jd(Xd(n[e])))}function mG(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Pi=n=>{try{return n()}catch{}},gG=(n="mui")=>LK(n);function tw(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=cG({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:s,...l}=pE({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:s,opacity:{...vD(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||wD(i)},l}function yG(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:l=dG,colorSchemeSelector:u=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...h}=n,m=Object.keys(t)[0],g=r||(t.light&&m!=="light"?"light":m),_=gG(s),{[g]:T,light:I,dark:R,...A}=t,V={...A};let L=T;if((g==="dark"&&!("dark"in t)||g==="light"&&!("light"in t))&&(L=!0),!L)throw new Error(al(21,g));const M=tw(V,L,h,g);I&&!V.light&&tw(V,I,void 0,"light"),R&&!V.dark&&tw(V,R,void 0,"dark");let W={defaultColorScheme:g,...M,cssVarPrefix:s,colorSchemeSelector:u,rootSelector:d,getCssVar:_,colorSchemes:V,font:{...GK(M.typography),...M.font},spacing:mG(h.spacing)};Object.keys(W.colorSchemes).forEach(C=>{const E=W.colorSchemes[C].palette,x=k=>{const O=k.split("-"),ee=O[1],F=O[2];return _(k,E[ee][F])};if(E.mode==="light"&&(se(E.common,"background","#fff"),se(E.common,"onBackground","#000")),E.mode==="dark"&&(se(E.common,"background","#000"),se(E.common,"onBackground","#fff")),pG(E,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),E.mode==="light"){se(E.Alert,"errorColor",ct(E.error.light,.6)),se(E.Alert,"infoColor",ct(E.info.light,.6)),se(E.Alert,"successColor",ct(E.success.light,.6)),se(E.Alert,"warningColor",ct(E.warning.light,.6)),se(E.Alert,"errorFilledBg",x("palette-error-main")),se(E.Alert,"infoFilledBg",x("palette-info-main")),se(E.Alert,"successFilledBg",x("palette-success-main")),se(E.Alert,"warningFilledBg",x("palette-warning-main")),se(E.Alert,"errorFilledColor",Pi(()=>E.getContrastText(E.error.main))),se(E.Alert,"infoFilledColor",Pi(()=>E.getContrastText(E.info.main))),se(E.Alert,"successFilledColor",Pi(()=>E.getContrastText(E.success.main))),se(E.Alert,"warningFilledColor",Pi(()=>E.getContrastText(E.warning.main))),se(E.Alert,"errorStandardBg",dt(E.error.light,.9)),se(E.Alert,"infoStandardBg",dt(E.info.light,.9)),se(E.Alert,"successStandardBg",dt(E.success.light,.9)),se(E.Alert,"warningStandardBg",dt(E.warning.light,.9)),se(E.Alert,"errorIconColor",x("palette-error-main")),se(E.Alert,"infoIconColor",x("palette-info-main")),se(E.Alert,"successIconColor",x("palette-success-main")),se(E.Alert,"warningIconColor",x("palette-warning-main")),se(E.AppBar,"defaultBg",x("palette-grey-100")),se(E.Avatar,"defaultBg",x("palette-grey-400")),se(E.Button,"inheritContainedBg",x("palette-grey-300")),se(E.Button,"inheritContainedHoverBg",x("palette-grey-A100")),se(E.Chip,"defaultBorder",x("palette-grey-400")),se(E.Chip,"defaultAvatarColor",x("palette-grey-700")),se(E.Chip,"defaultIconColor",x("palette-grey-700")),se(E.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),se(E.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),se(E.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),se(E.LinearProgress,"primaryBg",dt(E.primary.main,.62)),se(E.LinearProgress,"secondaryBg",dt(E.secondary.main,.62)),se(E.LinearProgress,"errorBg",dt(E.error.main,.62)),se(E.LinearProgress,"infoBg",dt(E.info.main,.62)),se(E.LinearProgress,"successBg",dt(E.success.main,.62)),se(E.LinearProgress,"warningBg",dt(E.warning.main,.62)),se(E.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.11)`),se(E.Slider,"primaryTrack",dt(E.primary.main,.62)),se(E.Slider,"secondaryTrack",dt(E.secondary.main,.62)),se(E.Slider,"errorTrack",dt(E.error.main,.62)),se(E.Slider,"infoTrack",dt(E.info.main,.62)),se(E.Slider,"successTrack",dt(E.success.main,.62)),se(E.Slider,"warningTrack",dt(E.warning.main,.62));const k=tm(E.background.default,.8);se(E.SnackbarContent,"bg",k),se(E.SnackbarContent,"color",Pi(()=>E.getContrastText(k))),se(E.SpeedDialAction,"fabHoverBg",tm(E.background.paper,.15)),se(E.StepConnector,"border",x("palette-grey-400")),se(E.StepContent,"border",x("palette-grey-400")),se(E.Switch,"defaultColor",x("palette-common-white")),se(E.Switch,"defaultDisabledColor",x("palette-grey-100")),se(E.Switch,"primaryDisabledColor",dt(E.primary.main,.62)),se(E.Switch,"secondaryDisabledColor",dt(E.secondary.main,.62)),se(E.Switch,"errorDisabledColor",dt(E.error.main,.62)),se(E.Switch,"infoDisabledColor",dt(E.info.main,.62)),se(E.Switch,"successDisabledColor",dt(E.success.main,.62)),se(E.Switch,"warningDisabledColor",dt(E.warning.main,.62)),se(E.TableCell,"border",dt(em(E.divider,1),.88)),se(E.Tooltip,"bg",em(E.grey[700],.92))}if(E.mode==="dark"){se(E.Alert,"errorColor",dt(E.error.light,.6)),se(E.Alert,"infoColor",dt(E.info.light,.6)),se(E.Alert,"successColor",dt(E.success.light,.6)),se(E.Alert,"warningColor",dt(E.warning.light,.6)),se(E.Alert,"errorFilledBg",x("palette-error-dark")),se(E.Alert,"infoFilledBg",x("palette-info-dark")),se(E.Alert,"successFilledBg",x("palette-success-dark")),se(E.Alert,"warningFilledBg",x("palette-warning-dark")),se(E.Alert,"errorFilledColor",Pi(()=>E.getContrastText(E.error.dark))),se(E.Alert,"infoFilledColor",Pi(()=>E.getContrastText(E.info.dark))),se(E.Alert,"successFilledColor",Pi(()=>E.getContrastText(E.success.dark))),se(E.Alert,"warningFilledColor",Pi(()=>E.getContrastText(E.warning.dark))),se(E.Alert,"errorStandardBg",ct(E.error.light,.9)),se(E.Alert,"infoStandardBg",ct(E.info.light,.9)),se(E.Alert,"successStandardBg",ct(E.success.light,.9)),se(E.Alert,"warningStandardBg",ct(E.warning.light,.9)),se(E.Alert,"errorIconColor",x("palette-error-main")),se(E.Alert,"infoIconColor",x("palette-info-main")),se(E.Alert,"successIconColor",x("palette-success-main")),se(E.Alert,"warningIconColor",x("palette-warning-main")),se(E.AppBar,"defaultBg",x("palette-grey-900")),se(E.AppBar,"darkBg",x("palette-background-paper")),se(E.AppBar,"darkColor",x("palette-text-primary")),se(E.Avatar,"defaultBg",x("palette-grey-600")),se(E.Button,"inheritContainedBg",x("palette-grey-800")),se(E.Button,"inheritContainedHoverBg",x("palette-grey-700")),se(E.Chip,"defaultBorder",x("palette-grey-700")),se(E.Chip,"defaultAvatarColor",x("palette-grey-300")),se(E.Chip,"defaultIconColor",x("palette-grey-300")),se(E.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),se(E.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),se(E.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),se(E.LinearProgress,"primaryBg",ct(E.primary.main,.5)),se(E.LinearProgress,"secondaryBg",ct(E.secondary.main,.5)),se(E.LinearProgress,"errorBg",ct(E.error.main,.5)),se(E.LinearProgress,"infoBg",ct(E.info.main,.5)),se(E.LinearProgress,"successBg",ct(E.success.main,.5)),se(E.LinearProgress,"warningBg",ct(E.warning.main,.5)),se(E.Skeleton,"bg",`rgba(${x("palette-text-primaryChannel")} / 0.13)`),se(E.Slider,"primaryTrack",ct(E.primary.main,.5)),se(E.Slider,"secondaryTrack",ct(E.secondary.main,.5)),se(E.Slider,"errorTrack",ct(E.error.main,.5)),se(E.Slider,"infoTrack",ct(E.info.main,.5)),se(E.Slider,"successTrack",ct(E.success.main,.5)),se(E.Slider,"warningTrack",ct(E.warning.main,.5));const k=tm(E.background.default,.98);se(E.SnackbarContent,"bg",k),se(E.SnackbarContent,"color",Pi(()=>E.getContrastText(k))),se(E.SpeedDialAction,"fabHoverBg",tm(E.background.paper,.15)),se(E.StepConnector,"border",x("palette-grey-600")),se(E.StepContent,"border",x("palette-grey-600")),se(E.Switch,"defaultColor",x("palette-grey-300")),se(E.Switch,"defaultDisabledColor",x("palette-grey-600")),se(E.Switch,"primaryDisabledColor",ct(E.primary.main,.55)),se(E.Switch,"secondaryDisabledColor",ct(E.secondary.main,.55)),se(E.Switch,"errorDisabledColor",ct(E.error.main,.55)),se(E.Switch,"infoDisabledColor",ct(E.info.main,.55)),se(E.Switch,"successDisabledColor",ct(E.success.main,.55)),se(E.Switch,"warningDisabledColor",ct(E.warning.main,.55)),se(E.TableCell,"border",ct(em(E.divider,1),.68)),se(E.Tooltip,"bg",em(E.grey[700],.92))}ys(E.background,"default"),ys(E.background,"paper"),ys(E.common,"background"),ys(E.common,"onBackground"),ys(E,"divider"),Object.keys(E).forEach(k=>{const O=E[k];k!=="tonalOffset"&&O&&typeof O=="object"&&(O.main&&se(E[k],"mainChannel",Jd(Xd(O.main))),O.light&&se(E[k],"lightChannel",Jd(Xd(O.light))),O.dark&&se(E[k],"darkChannel",Jd(Xd(O.dark))),O.contrastText&&se(E[k],"contrastTextChannel",Jd(Xd(O.contrastText))),k==="text"&&(ys(E[k],"primary"),ys(E[k],"secondary")),k==="action"&&(O.active&&ys(E[k],"active"),O.selected&&ys(E[k],"selected")))})}),W=e.reduce((C,E)=>Ir(C,E),W);const j={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:l,getSelector:fG(W)},{vars:q,generateThemeVars:D,generateStyleSheets:P}=FK(W,j);return W.vars=q,Object.entries(W.colorSchemes[W.defaultColorScheme]).forEach(([C,E])=>{W[C]=E}),W.generateThemeVars=D,W.generateStyleSheets=P,W.generateSpacing=function(){return dD(h.spacing,II(this))},W.getColorSchemeSelector=UK(u),W.spacing=W.generateSpacing(),W.shouldSkipGeneratingVar=l,W.unstable_sxConfig={...Ny,...h==null?void 0:h.unstable_sxConfig},W.unstable_sx=function(E){return rc({sx:E,theme:this})},W.toRuntimeSource=_D,W}function Vb(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:xI({...t===!0?{}:t.palette,mode:e})})}function _G(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:s=t==null?void 0:t.mode,...l}=n,u=s||"light",d=i==null?void 0:i[u],h={...i,...t?{[u]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return pE(n,...e);let m=t;"palette"in n||h[u]&&(h[u]!==!0?m=h[u].palette:u==="dark"&&(m={mode:"dark"}));const g=pE({...n,palette:m},...e);return g.defaultColorScheme=u,g.colorSchemes=h,g.palette.mode==="light"&&(g.colorSchemes.light={...h.light!==!0&&h.light,palette:g.palette},Vb(g,"dark",h.dark)),g.palette.mode==="dark"&&(g.colorSchemes.dark={...h.dark!==!0&&h.dark,palette:g.palette},Vb(g,"light",h.light)),g}return!t&&!("light"in h)&&u==="light"&&(h.light=!0),yG({...l,colorSchemes:h,defaultColorScheme:u,...typeof r!="boolean"&&r},...e)}const vG=_G(),wG="$$material";function ED(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const EG=n=>ED(n)&&n!=="classes",Rf=EK({themeId:wG,defaultTheme:vG,rootShouldForwardProp:EG}),OI=DK;function ID(n){return NK(n)}function IG(n){return vI("MuiSvgIcon",n)}JN("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const TG=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${Wo(e)}`,`fontSize${Wo(t)}`]};return KN(i,IG,r)},SG=Rf("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Wo(t.color)}`],e[`fontSize${Wo(t.fontSize)}`]]}})(OI(({theme:n})=>{var e,t,r,i,s,l,u,d,h,m,g,_,T,I;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:R=>!R.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(s=n.typography)==null?void 0:s.pxToRem)==null?void 0:l.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(u=n.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((m=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:m.call(h,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,R])=>R&&R.main).map(([R])=>{var A,V;return{props:{color:R},style:{color:(V=(A=(n.vars??n).palette)==null?void 0:A[R])==null?void 0:V.main}}}),{props:{color:"action"},style:{color:(_=(g=(n.vars??n).palette)==null?void 0:g.action)==null?void 0:_.active}},{props:{color:"disabled"},style:{color:(I=(T=(n.vars??n).palette)==null?void 0:T.action)==null?void 0:I.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),mE=K.forwardRef(function(e,t){const r=ID({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:l="inherit",component:u="svg",fontSize:d="medium",htmlColor:h,inheritViewBox:m=!1,titleAccess:g,viewBox:_="0 0 24 24",...T}=r,I=K.isValidElement(i)&&i.type==="svg",R={...r,color:l,component:u,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:_,hasSvgAsChild:I},A={};m||(A.viewBox=_);const V=TG(R);return $.jsxs(SG,{as:u,className:hh(V.root,s),focusable:"false",color:h,"aria-hidden":g?void 0:!0,role:g?"img":void 0,ref:t,...A,...T,...I&&i.props,ownerState:R,children:[I?i.props.children:i,g?$.jsx("title",{children:g}):null]})});mE.muiName="SvgIcon";function TD(n,e){function t(r,i){return $.jsx(mE,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=mE.muiName,K.memo(K.forwardRef(t))}const RG=TD($.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),AG=TD($.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function PG(n){return vI("MuiRating",n)}const jd=JN("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function bG(n){const e=n.toString().split(".")[1];return e?e.length:0}function nw(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(bG(e)))}const CG=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:l}=n,u={root:["root",`size${Wo(t)}`,i&&"disabled",l&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return KN(u,PG,e)},kG=Rf("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${jd.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${Wo(t.size)}`],t.readOnly&&e.readOnly]}})(OI(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${jd.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${jd.focusVisible} .${jd.iconActive}`]:{outline:"1px solid #999"},[`& .${jd.visuallyHidden}`]:aH,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),SD=Rf("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),xG=Rf("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(OI(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),OG=Rf("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>ED(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function NG(n){const{value:e,...t}=n;return $.jsx("span",{...t})}function Mb(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:l,hover:u,icon:d,IconContainerComponent:h,isActive:m,itemValue:g,labelProps:_,name:T,onBlur:I,onChange:R,onClick:A,onFocus:V,readOnly:L,ownerState:M,ratingValue:W,ratingValueRounded:j}=n,q=l?g===W:g<=W,D=g<=u,P=g<=i,C=g===j,E=`${T}-${YN()}`,x=$.jsx(xG,{as:h,value:g,className:hh(e.icon,q?e.iconFilled:e.iconEmpty,D&&e.iconHover,P&&e.iconFocus,m&&e.iconActive),ownerState:{...M,iconEmpty:!q,iconFilled:q,iconHover:D,iconFocus:P,iconActive:m},children:r&&!q?r:d});return L?$.jsx("span",{..._,children:x}):$.jsxs(K.Fragment,{children:[$.jsxs(SD,{ownerState:{...M,emptyValueFocused:void 0},htmlFor:E,..._,children:[x,$.jsx("span",{className:e.visuallyHidden,children:s(g)})]}),$.jsx("input",{className:e.visuallyHidden,onFocus:V,onBlur:I,onChange:R,onClick:A,disabled:t,value:g,id:E,type:"radio",name:T,checked:C})]})}const DG=$.jsx(RG,{fontSize:"inherit"}),LG=$.jsx(AG,{fontSize:"inherit"});function VG(n){return`${n||"0"} Star${n!==1?"s":""}`}const MG=K.forwardRef(function(e,t){const r=ID({name:"MuiRating",props:e}),{component:i="span",className:s,defaultValue:l=null,disabled:u=!1,emptyIcon:d=LG,emptyLabelText:h="Empty",getLabelText:m=VG,highlightSelectedOnly:g=!1,icon:_=DG,IconContainerComponent:T=NG,max:I=5,name:R,onChange:A,onChangeActive:V,onMouseLeave:L,onMouseMove:M,precision:W=1,readOnly:j=!1,size:q="medium",value:D,...P}=r,C=YN(R),[E,x]=mH({controlled:D,default:l,name:"Rating"}),k=nw(E,W),O=uH(),[{hover:ee,focus:F},me]=K.useState({hover:-1,focus:-1});let oe=k;ee!==-1&&(oe=ee),F!==-1&&(oe=F);const[X,pe]=K.useState(!1),he=K.useRef(),z=gH(he,t),ie=it=>{M&&M(it);const mt=he.current,{right:Zt,left:Wr,width:Ar}=mt.getBoundingClientRect();let Pr;O?Pr=(Zt-it.clientX)/Ar:Pr=(it.clientX-Wr)/Ar;let Wn=nw(I*Pr+W/2,W);Wn=HN(Wn,W,I),me(qn=>qn.hover===Wn&&qn.focus===Wn?qn:{hover:Wn,focus:Wn}),pe(!1),V&&ee!==Wn&&V(it,Wn)},Te=it=>{L&&L(it);const mt=-1;me({hover:mt,focus:mt}),V&&ee!==mt&&V(it,mt)},ke=it=>{let mt=it.target.value===""?null:parseFloat(it.target.value);ee!==-1&&(mt=ee),x(mt),A&&A(it,mt)},Ve=it=>{it.clientX===0&&it.clientY===0||(me({hover:-1,focus:-1}),x(null),A&&parseFloat(it.target.value)===k&&A(it,null))},$e=it=>{lb(it.target)&&pe(!0);const mt=parseFloat(it.target.value);me(Zt=>({hover:Zt.hover,focus:mt}))},Qe=it=>{if(ee!==-1)return;lb(it.target)||pe(!1);const mt=-1;me(Zt=>({hover:Zt.hover,focus:mt}))},[qe,rt]=K.useState(!1),vt={...r,component:i,defaultValue:l,disabled:u,emptyIcon:d,emptyLabelText:h,emptyValueFocused:qe,focusVisible:X,getLabelText:m,icon:_,IconContainerComponent:T,max:I,precision:W,readOnly:j,size:q},ln=CG(vt);return $.jsxs(kG,{as:i,ref:z,onMouseMove:ie,onMouseLeave:Te,className:hh(ln.root,s,j&&"MuiRating-readOnly"),ownerState:vt,role:j?"img":null,"aria-label":j?m(oe):null,...P,children:[Array.from(new Array(I)).map((it,mt)=>{const Zt=mt+1,Wr={classes:ln,disabled:u,emptyIcon:d,focus:F,getLabelText:m,highlightSelectedOnly:g,hover:ee,icon:_,IconContainerComponent:T,name:C,onBlur:Qe,onChange:ke,onClick:Ve,onFocus:$e,ratingValue:oe,ratingValueRounded:k,readOnly:j,ownerState:vt},Ar=Zt===Math.ceil(oe)&&(ee!==-1||F!==-1);if(W<1){const Pr=Array.from(new Array(1/W));return $.jsx(OG,{className:hh(ln.decimal,Ar&&ln.iconActive),ownerState:vt,iconActive:Ar,children:Pr.map((Wn,qn)=>{const or=nw(Zt-1+(qn+1)*W,W);return $.jsx(Mb,{...Wr,isActive:!1,itemValue:or,labelProps:{style:Pr.length-1===qn?{}:{width:or===oe?`${(qn+1)*W*100}%`:"0%",overflow:"hidden",position:"absolute"}}},or)})},Zt)}return $.jsx(Mb,{...Wr,isActive:Ar,itemValue:Zt},Zt)}),!j&&!u&&$.jsxs(SD,{className:hh(ln.label,ln.labelEmptyValue),ownerState:vt,children:[$.jsx("input",{className:ln.visuallyHidden,value:"",id:`${C}-empty`,type:"radio",name:C,checked:k==null,onFocus:()=>rt(!0),onBlur:()=>rt(!1),onChange:ke}),$.jsx("span",{className:ln.visuallyHidden,children:h})]})]})}),FG="_card__container_1rsv8_1",UG="_button_1rsv8_17",$G="_rating_1rsv8_71",jG="_products__container_1rsv8_81",BG="_product__flexed_1rsv8_109",Su={card__container:FG,button:UG,rating:$G,products__container:jG,product__flexed:BG};var Nm={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var zG=Nm.exports,Fb;function WG(){return Fb||(Fb=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(zG,function(){var e,t,r="2.0.6",i={},s={},l={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:l.currentLocale,zeroFormat:l.zeroFormat,nullFormat:l.nullFormat,defaultFormat:l.defaultFormat,scalePercentBy100:l.scalePercentBy100};function d(h,m){this._input=h,this._value=m}return e=function(h){var m,g,_,T;if(e.isNumeral(h))m=h.value();else if(h===0||typeof h>"u")m=0;else if(h===null||t.isNaN(h))m=null;else if(typeof h=="string")if(u.zeroFormat&&h===u.zeroFormat)m=0;else if(u.nullFormat&&h===u.nullFormat||!h.replace(/[^0-9]+/g,"").length)m=null;else{for(g in i)if(T=typeof i[g].regexps.unformat=="function"?i[g].regexps.unformat():i[g].regexps.unformat,T&&h.match(T)){_=i[g].unformat;break}_=_||e._.stringToNumber,m=_(h)}else m=Number(h)||null;return new d(h,m)},e.version=r,e.isNumeral=function(h){return h instanceof d},e._=t={numberToFormat:function(h,m,g){var _=s[e.options.currentLocale],T=!1,I=!1,R=0,A="",V=1e12,L=1e9,M=1e6,W=1e3,j="",q=!1,D,P,C,E,x,k,O;if(h=h||0,P=Math.abs(h),e._.includes(m,"(")?(T=!0,m=m.replace(/[\(|\)]/g,"")):(e._.includes(m,"+")||e._.includes(m,"-"))&&(x=e._.includes(m,"+")?m.indexOf("+"):h<0?m.indexOf("-"):-1,m=m.replace(/[\+|\-]/g,"")),e._.includes(m,"a")&&(D=m.match(/a(k|m|b|t)?/),D=D?D[1]:!1,e._.includes(m," a")&&(A=" "),m=m.replace(new RegExp(A+"a[kmbt]?"),""),P>=V&&!D||D==="t"?(A+=_.abbreviations.trillion,h=h/V):P<V&&P>=L&&!D||D==="b"?(A+=_.abbreviations.billion,h=h/L):P<L&&P>=M&&!D||D==="m"?(A+=_.abbreviations.million,h=h/M):(P<M&&P>=W&&!D||D==="k")&&(A+=_.abbreviations.thousand,h=h/W)),e._.includes(m,"[.]")&&(I=!0,m=m.replace("[.]",".")),C=h.toString().split(".")[0],E=m.split(".")[1],k=m.indexOf(","),R=(m.split(".")[0].split(",")[0].match(/0/g)||[]).length,E?(e._.includes(E,"[")?(E=E.replace("]",""),E=E.split("["),j=e._.toFixed(h,E[0].length+E[1].length,g,E[1].length)):j=e._.toFixed(h,E.length,g),C=j.split(".")[0],e._.includes(j,".")?j=_.delimiters.decimal+j.split(".")[1]:j="",I&&Number(j.slice(1))===0&&(j="")):C=e._.toFixed(h,0,g),A&&!D&&Number(C)>=1e3&&A!==_.abbreviations.trillion)switch(C=String(Number(C)/1e3),A){case _.abbreviations.thousand:A=_.abbreviations.million;break;case _.abbreviations.million:A=_.abbreviations.billion;break;case _.abbreviations.billion:A=_.abbreviations.trillion;break}if(e._.includes(C,"-")&&(C=C.slice(1),q=!0),C.length<R)for(var ee=R-C.length;ee>0;ee--)C="0"+C;return k>-1&&(C=C.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+_.delimiters.thousands)),m.indexOf(".")===0&&(C=""),O=C+j+(A||""),T?O=(T&&q?"(":"")+O+(T&&q?")":""):x>=0?O=x===0?(q?"-":"+")+O:O+(q?"-":"+"):q&&(O="-"+O),O},stringToNumber:function(h){var m=s[u.currentLocale],g=h,_={thousand:3,million:6,billion:9,trillion:12},T,I,R;if(u.zeroFormat&&h===u.zeroFormat)I=0;else if(u.nullFormat&&h===u.nullFormat||!h.replace(/[^0-9]+/g,"").length)I=null;else{I=1,m.delimiters.decimal!=="."&&(h=h.replace(/\./g,"").replace(m.delimiters.decimal,"."));for(T in _)if(R=new RegExp("[^a-zA-Z]"+m.abbreviations[T]+"(?:\\)|(\\"+m.currency.symbol+")?(?:\\))?)?$"),g.match(R)){I*=Math.pow(10,_[T]);break}I*=(h.split("-").length+Math.min(h.split("(").length-1,h.split(")").length-1))%2?1:-1,h=h.replace(/[^0-9\.]+/g,""),I*=Number(h)}return I},isNaN:function(h){return typeof h=="number"&&isNaN(h)},includes:function(h,m){return h.indexOf(m)!==-1},insert:function(h,m,g){return h.slice(0,g)+m+h.slice(g)},reduce:function(h,m){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof m!="function")throw new TypeError(m+" is not a function");var g=Object(h),_=g.length>>>0,T=0,I;if(arguments.length===3)I=arguments[2];else{for(;T<_&&!(T in g);)T++;if(T>=_)throw new TypeError("Reduce of empty array with no initial value");I=g[T++]}for(;T<_;T++)T in g&&(I=m(I,g[T],T,g));return I},multiplier:function(h){var m=h.toString().split(".");return m.length<2?1:Math.pow(10,m[1].length)},correctionFactor:function(){var h=Array.prototype.slice.call(arguments);return h.reduce(function(m,g){var _=t.multiplier(g);return m>_?m:_},1)},toFixed:function(h,m,g,_){var T=h.toString().split("."),I=m-(_||0),R,A,V,L;return T.length===2?R=Math.min(Math.max(T[1].length,I),m):R=I,V=Math.pow(10,R),L=(g(h+"e+"+R)/V).toFixed(R),_>m-R&&(A=new RegExp("\\.?0{1,"+(_-(m-R))+"}$"),L=L.replace(A,"")),L}},e.options=u,e.formats=i,e.locales=s,e.locale=function(h){return h&&(u.currentLocale=h.toLowerCase()),u.currentLocale},e.localeData=function(h){if(!h)return s[u.currentLocale];if(h=h.toLowerCase(),!s[h])throw new Error("Unknown locale : "+h);return s[h]},e.reset=function(){for(var h in l)u[h]=l[h]},e.zeroFormat=function(h){u.zeroFormat=typeof h=="string"?h:null},e.nullFormat=function(h){u.nullFormat=typeof h=="string"?h:null},e.defaultFormat=function(h){u.defaultFormat=typeof h=="string"?h:"0.0"},e.register=function(h,m,g){if(m=m.toLowerCase(),this[h+"s"][m])throw new TypeError(m+" "+h+" already registered.");return this[h+"s"][m]=g,g},e.validate=function(h,m){var g,_,T,I,R,A,V,L;if(typeof h!="string"&&(h+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",h)),h=h.trim(),h.match(/^\d+$/))return!0;if(h==="")return!1;try{V=e.localeData(m)}catch{V=e.localeData(e.locale())}return T=V.currency.symbol,R=V.abbreviations,g=V.delimiters.decimal,V.delimiters.thousands==="."?_="\\.":_=V.delimiters.thousands,L=h.match(/^[^\d]+/),L!==null&&(h=h.substr(1),L[0]!==T)||(L=h.match(/[^\d]+$/),L!==null&&(h=h.slice(0,-1),L[0]!==R.thousand&&L[0]!==R.million&&L[0]!==R.billion&&L[0]!==R.trillion))?!1:(A=new RegExp(_+"{2}"),h.match(/[^\d.,]/g)?!1:(I=h.split(g),I.length>2?!1:I.length<2?!!I[0].match(/^\d+.*\d$/)&&!I[0].match(A):I[0].length===1?!!I[0].match(/^\d+$/)&&!I[0].match(A)&&!!I[1].match(/^\d+$/):!!I[0].match(/^\d+.*\d$/)&&!I[0].match(A)&&!!I[1].match(/^\d+$/)))},e.fn=d.prototype={clone:function(){return e(this)},format:function(h,m){var g=this._value,_=h||u.defaultFormat,T,I,R;if(m=m||Math.round,g===0&&u.zeroFormat!==null)I=u.zeroFormat;else if(g===null&&u.nullFormat!==null)I=u.nullFormat;else{for(T in i)if(_.match(i[T].regexps.format)){R=i[T].format;break}R=R||e._.numberToFormat,I=R(g,_,m)}return I},value:function(){return this._value},input:function(){return this._input},set:function(h){return this._value=Number(h),this},add:function(h){var m=t.correctionFactor.call(null,this._value,h);function g(_,T,I,R){return _+Math.round(m*T)}return this._value=t.reduce([this._value,h],g,0)/m,this},subtract:function(h){var m=t.correctionFactor.call(null,this._value,h);function g(_,T,I,R){return _-Math.round(m*T)}return this._value=t.reduce([h],g,Math.round(this._value*m))/m,this},multiply:function(h){function m(g,_,T,I){var R=t.correctionFactor(g,_);return Math.round(g*R)*Math.round(_*R)/Math.round(R*R)}return this._value=t.reduce([this._value,h],m,1),this},divide:function(h){function m(g,_,T,I){var R=t.correctionFactor(g,_);return Math.round(g*R)/Math.round(_*R)}return this._value=t.reduce([this._value,h],m),this},difference:function(h){return Math.abs(e(this._value).subtract(h).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(h){var m=h%10;return~~(h%100/10)===1?"th":m===1?"st":m===2?"nd":m===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(h,m,g){var _=e._.includes(m," BPS")?" ":"",T;return h=h*1e4,m=m.replace(/\s?BPS/,""),T=e._.numberToFormat(h,m,g),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,_+"BPS"),T=T.join("")):T=T+_+"BPS",T},unformat:function(h){return+(e._.stringToNumber(h)*1e-4).toFixed(15)}})}(),function(){var h={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},m={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},g=h.suffixes.concat(m.suffixes.filter(function(T){return h.suffixes.indexOf(T)<0})),_=g.join("|");_="("+_.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(_)},format:function(T,I,R){var A,V=e._.includes(I,"ib")?m:h,L=e._.includes(I," b")||e._.includes(I," ib")?" ":"",M,W,j;for(I=I.replace(/\s?i?b/,""),M=0;M<=V.suffixes.length;M++)if(W=Math.pow(V.base,M),j=Math.pow(V.base,M+1),T===null||T===0||T>=W&&T<j){L+=V.suffixes[M],W>0&&(T=T/W);break}return A=e._.numberToFormat(T,I,R),A+L},unformat:function(T){var I=e._.stringToNumber(T),R,A;if(I){for(R=h.suffixes.length-1;R>=0;R--){if(e._.includes(T,h.suffixes[R])){A=Math.pow(h.base,R);break}if(e._.includes(T,m.suffixes[R])){A=Math.pow(m.base,R);break}}I*=A||1}return I}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(h,m,g){var _=e.locales[e.options.currentLocale],T={before:m.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:m.match(/([\+|\-|\)|\s|\$]*)$/)[0]},I,R,A;for(m=m.replace(/\s?\$\s?/,""),I=e._.numberToFormat(h,m,g),h>=0?(T.before=T.before.replace(/[\-\(]/,""),T.after=T.after.replace(/[\-\)]/,"")):h<0&&!e._.includes(T.before,"-")&&!e._.includes(T.before,"(")&&(T.before="-"+T.before),A=0;A<T.before.length;A++)switch(R=T.before[A],R){case"$":I=e._.insert(I,_.currency.symbol,A);break;case" ":I=e._.insert(I," ",A+_.currency.symbol.length-1);break}for(A=T.after.length-1;A>=0;A--)switch(R=T.after[A],R){case"$":I=A===T.after.length-1?I+_.currency.symbol:e._.insert(I,_.currency.symbol,-(T.after.length-(1+A)));break;case" ":I=A===T.after.length-1?I+" ":e._.insert(I," ",-(T.after.length-(1+A)+_.currency.symbol.length-1));break}return I}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(h,m,g){var _,T=typeof h=="number"&&!e._.isNaN(h)?h.toExponential():"0e+0",I=T.split("e");return m=m.replace(/e[\+|\-]{1}0/,""),_=e._.numberToFormat(Number(I[0]),m,g),_+"e"+I[1]},unformat:function(h){var m=e._.includes(h,"e+")?h.split("e+"):h.split("e-"),g=Number(m[0]),_=Number(m[1]);_=e._.includes(h,"e-")?_*=-1:_;function T(I,R,A,V){var L=e._.correctionFactor(I,R),M=I*L*(R*L)/(L*L);return M}return e._.reduce([g,Math.pow(10,_)],T,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(h,m,g){var _=e.locales[e.options.currentLocale],T,I=e._.includes(m," o")?" ":"";return m=m.replace(/\s?o/,""),I+=_.ordinal(h),T=e._.numberToFormat(h,m,g),T+I}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(h,m,g){var _=e._.includes(m," %")?" ":"",T;return e.options.scalePercentBy100&&(h=h*100),m=m.replace(/\s?\%/,""),T=e._.numberToFormat(h,m,g),e._.includes(T,")")?(T=T.split(""),T.splice(-1,0,_+"%"),T=T.join("")):T=T+_+"%",T},unformat:function(h){var m=e._.stringToNumber(h);return e.options.scalePercentBy100?m*.01:m}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(h,m,g){var _=Math.floor(h/60/60),T=Math.floor((h-_*60*60)/60),I=Math.round(h-_*60*60-T*60);return _+":"+(T<10?"0"+T:T)+":"+(I<10?"0"+I:I)},unformat:function(h){var m=h.split(":"),g=0;return m.length===3?(g=g+Number(m[0])*60*60,g=g+Number(m[1])*60,g=g+Number(m[2])):m.length===2&&(g=g+Number(m[0])*60,g=g+Number(m[1])),Number(g)}})}(),e})}(Nm)),Nm.exports}var qG=WG();const HG=_E(qG);function NI({amount:n}){const e=HG(n).format("$0,0.00");return $.jsx("div",{children:e})}const $i={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"};function Ac({product:n,flex:e,renderDesc:t,renderAdd:r}){const{image:i,title:s,rating:l,id:u,price:d,description:h}=n,m={image:i,title:s,rating:l,id:u,price:d,description:h},[g,_]=K.useContext(Ms),T=()=>{_({type:$i.ADD_TO_BASKET,item:m})};return $.jsxs("div",{className:`${Su.card__container} ${e?Su.product__flexed:""}`,children:[$.jsx(li,{to:`products/${u}`,children:$.jsx("img",{src:i,alt:"",className:Su.img__container})}),$.jsxs("div",{children:[$.jsx("h3",{children:s}),t&&$.jsx("div",{style:{maxWidth:"750px"},children:h}),$.jsxs("div",{className:Su.rating,children:[$.jsx(MG,{name:"read-only",value:l==null?void 0:l.rate,precision:.2,readOnly:!0}),$.jsx("small",{children:l==null?void 0:l.count})]}),$.jsx("div",{children:$.jsx(NI,{amount:d})}),r&&$.jsx("button",{className:Su.button,onClick:T,children:"add to cart"})]})]})}var KG={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function RD(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return KG[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Ig(n){var e=RD(n);return"".concat(e.value).concat(e.unit)}var AD=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,l=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return s&&s.insertRule(l,0),r},Tg=function(){return Tg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Tg.apply(this,arguments)},GG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},QG=AD("CircleLoader","0% {transform: rotate(0deg)} 50% {transform: rotate(180deg)} 100% {transform: rotate(360deg)}","circle");function Ub(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,s=n.speedMultiplier,l=s===void 0?1:s,u=n.cssOverride,d=u===void 0?{}:u,h=n.size,m=h===void 0?50:h,g=GG(n,["loading","color","speedMultiplier","cssOverride","size"]),_=Tg({display:"inherit",position:"relative",width:Ig(m),height:Ig(m)},d),T=function(I){var R=RD(m),A=R.value,V=R.unit;return{position:"absolute",height:"".concat(A*(1-I/10)).concat(V),width:"".concat(A*(1-I/10)).concat(V),borderTop:"1px solid ".concat(i),borderBottom:"none",borderLeft:"1px solid ".concat(i),borderRight:"none",borderRadius:"100%",transition:"2s",top:"".concat(I*.7*2.5,"%"),left:"".concat(I*.35*2.5,"%"),animation:"".concat(QG," ").concat(1/l,"s ").concat(I*.2/l,"s infinite linear")}};return t?K.createElement("span",Tg({style:_},g),K.createElement("span",{style:T(0)}),K.createElement("span",{style:T(1)}),K.createElement("span",{style:T(2)}),K.createElement("span",{style:T(3)}),K.createElement("span",{style:T(4)})):null}var Sg=function(){return Sg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Sg.apply(this,arguments)},YG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},JG=AD("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function PD(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,s=n.speedMultiplier,l=s===void 0?1:s,u=n.cssOverride,d=u===void 0?{}:u,h=n.size,m=h===void 0?35:h,g=YG(n,["loading","color","speedMultiplier","cssOverride","size"]),_=Sg({background:"transparent !important",width:Ig(m),height:Ig(m),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(JG," ").concat(.75/l,"s 0s infinite linear"),animationFillMode:"both"},d);return t?K.createElement("span",Sg({style:_},g)):null}function bD(){return $.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:$.jsx(PD,{color:"orange"})})}function XG(){const[n,e]=K.useState([]),[t,r]=K.useState(!1);return K.useEffect(()=>{Pt.get("https://fakestoreapi.com/products").then(i=>{const s=i.data;e(s),r(!1)}).catch(i=>{r(!1)})},[]),$.jsx($.Fragment,{children:t?$.jsx(bD,{}):$.jsx("section",{className:Su.products__container,children:n==null?void 0:n.map((i,s)=>$.jsx(Ac,{product:i,renderAdd:!0},s))})})}function ZG(){return $.jsxs(Ic,{children:[$.jsx(_N,{}),$.jsx(CW,{}),$.jsx(XG,{})]})}const e7="_container_oa3q6_1",t7="_cart__product_oa3q6_21",n7="_btn_container_oa3q6_31",r7="_btn_oa3q6_31",i7="_subtotal_oa3q6_75",s7="_cart__container_oa3q6_81",ka={container:e7,cart__product:t7,btn_container:n7,btn:r7,subtotal:i7,cart__container:s7};function o7(n){return oc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function a7(n){return oc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}function l7(){const[{basket:n},e]=K.useContext(Ms),t=n.reduce((s,l)=>l.price*l.amount+s,0),r=s=>{e({type:Type.ADD_TO_BASKET,item:s})},i=s=>{e({type:Type.REMOVE_FROM_BASKET,id:s})};return $.jsx(Ic,{children:$.jsxs("section",{className:ka.container,children:[$.jsxs("div",{className:ka.cart__container,children:[$.jsx("h2",{children:"Hello Genet "}),$.jsx("h3",{children:"Your Shopping Basket"}),$.jsx("hr",{}),(n==null?void 0:n.length)===0?$.jsx("h3",{children:"No item in your cart"}):n==null?void 0:n.map((s,l)=>$.jsxs("section",{className:ka.cart__product,children:[$.jsx(Ac,{product:s,renderAdd:!1,renderDesc:!0,flex:!0},l),$.jsxs("div",{className:ka.btn_container,children:[$.jsx("button",{className:ka.btn,type:"",onClick:()=>r(s),children:$.jsx(a7,{size:20})}),$.jsx("span",{children:s.amount}),$.jsx("button",{className:ka.btn,type:"",onClick:()=>i(s.id),children:$.jsx(o7,{size:20})})]})]}))]}),(n==null?void 0:n.length)!==0&&$.jsxs("div",{className:ka.subtotal,children:[$.jsxs("div",{children:[$.jsxs("p",{children:["Subtotal(",n==null?void 0:n.length,"items):"]}),$.jsx(NI,{amount:t})]}),$.jsxs("span",{children:[$.jsx("input",{type:"checkbox"}),$.jsx("small",{children:"This order contains a gift"})]}),$.jsx(li,{to:"/payment",children:"continue to check out"})]})]})})}const u7="_container_smcz1_1",c7="_orders__container_smcz1_9",$b={container:u7,orders__container:c7};function d7(){const[{user:n},e]=K.useContext(Ms),[t,r]=K.useState([]);return K.useEffect(()=>{n?dN.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(i=>{var s;console.log(i),r((s=i==null?void 0:i.docs)==null?void 0:s.map(l=>({id:l.id,data:l.data()})))}):r([])},[]),$.jsx(Ic,{children:$.jsx("section",{className:$b.container,children:$.jsxs("div",{className:$b.orders__container,children:[$.jsx("h2",{children:"Your Orders"}),t.length==0&&$.jsx("p",{style:{padding:"20px"},children:"You don't have orders yet."}),$.jsx("div",{children:t==null?void 0:t.map((i,s)=>{var l,u;return $.jsxs("div",{children:[$.jsx("hr",{}),$.jsxs("p",{children:["Order ID: ",i==null?void 0:i.id]}),(u=(l=i==null?void 0:i.data)==null?void 0:l.basket)==null?void 0:u.map(d=>$.jsx(Ac,{flex:!0,product:d},d.id))]},s)})})]})})})}const h7="_payment__header_1taw5_1",f7="_payment_1taw5_1",p7="_flex_1taw5_19",m7="_payment__card__container_1taw5_47",g7="_payment__details_1taw5_55",y7="_payment__price_1taw5_61",_s={payment__header:h7,payment:f7,flex:p7,payment__card__container:m7,payment__details:g7,payment__price:y7};function jb(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Bb(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jb(Object(t),!0).forEach(function(r){CD(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jb(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Dm(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dm=function(e){return typeof e}:Dm=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dm(n)}function CD(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kD(n,e){return _7(n)||v7(n,e)||w7(n,e)||E7()}function _7(n){if(Array.isArray(n))return n}function v7(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,s=!1,l,u;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(d){s=!0,u=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw u}}return r}}function w7(n,e){if(n){if(typeof n=="string")return zb(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zb(n,e)}}function zb(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function E7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var mr=function(e,t,r){var i=!!r,s=Ke.useRef(r);Ke.useEffect(function(){s.current=r},[r]),Ke.useEffect(function(){if(!i||!e)return function(){};var l=function(){s.current&&s.current.apply(s,arguments)};return e.on(t,l),function(){e.off(t,l)}},[i,t,e,s])},gE=function(e){var t=Ke.useRef(e);return Ke.useEffect(function(){t.current=e},[e]),t.current},sc=function(e){return e!==null&&Dm(e)==="object"},I7=function(e){return sc(e)&&typeof e.then=="function"},T7=function(e){return sc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},Wb="[object Object]",S7=function n(e,t){if(!sc(e)||!sc(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var s=Object.prototype.toString.call(e)===Wb,l=Object.prototype.toString.call(t)===Wb;if(s!==l)return!1;if(!s&&!r)return e===t;var u=Object.keys(e),d=Object.keys(t);if(u.length!==d.length)return!1;for(var h={},m=0;m<u.length;m+=1)h[u[m]]=!0;for(var g=0;g<d.length;g+=1)h[d[g]]=!0;var _=Object.keys(h);if(_.length!==u.length)return!1;var T=e,I=t,R=function(V){return n(T[V],I[V])};return _.every(R)},xD=function(e,t,r){return sc(e)?Object.keys(e).reduce(function(i,s){var l=!sc(t)||!S7(e[s],t[s]);return r.includes(s)?(l&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):l?Bb(Bb({},i||{}),{},CD({},s,e[s])):i},null):null},OD="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",qb=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:OD;if(e===null||T7(e))return e;throw new Error(t)},R7=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:OD;if(I7(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return qb(i,t)})};var r=qb(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},A7=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.3.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.3.0",url:"https://stripe.com/docs/stripe-js/react"}))},Fy=Ke.createContext(null);Fy.displayName="ElementsContext";var ND=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},DD=function(e){var t=e.stripe,r=e.options,i=e.children,s=Ke.useMemo(function(){return R7(t)},[t]),l=Ke.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),u=kD(l,2),d=u[0],h=u[1];Ke.useEffect(function(){var _=!0,T=function(R){h(function(A){return A.stripe?A:{stripe:R,elements:R.elements(r)}})};return s.tag==="async"&&!d.stripe?s.stripePromise.then(function(I){I&&_&&T(I)}):s.tag==="sync"&&!d.stripe&&T(s.stripe),function(){_=!1}},[s,d,r]);var m=gE(t);Ke.useEffect(function(){m!==null&&m!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,t]);var g=gE(r);return Ke.useEffect(function(){if(d.elements){var _=xD(r,g,["clientSecret","fonts"]);_&&d.elements.update(_)}},[r,g,d.elements]),Ke.useEffect(function(){A7(d.stripe)},[d.stripe]),Ke.createElement(Fy.Provider,{value:d},i)};DD.propTypes={stripe:kt.any,options:kt.object};var P7=function(e){var t=Ke.useContext(Fy);return ND(t,e)},b7=function(){var e=P7("calls useElements()"),t=e.elements;return t};kt.func.isRequired;var LD=Ke.createContext(null);LD.displayName="CheckoutSdkContext";var C7=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},k7=Ke.createContext(null);k7.displayName="CheckoutContext";kt.any,kt.shape({clientSecret:kt.string.isRequired,elementsOptions:kt.object}).isRequired;var yE=function(e){var t=Ke.useContext(LD),r=Ke.useContext(Fy);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?C7(t,e):ND(r,e)},x7=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Jt=function(e,t){var r="".concat(x7(e),"Element"),i=function(d){var h=d.id,m=d.className,g=d.options,_=g===void 0?{}:g,T=d.onBlur,I=d.onFocus,R=d.onReady,A=d.onChange,V=d.onEscape,L=d.onClick,M=d.onLoadError,W=d.onLoaderStart,j=d.onNetworksChange,q=d.onConfirm,D=d.onCancel,P=d.onShippingAddressChange,C=d.onShippingRateChange,E=yE("mounts <".concat(r,">")),x="elements"in E?E.elements:null,k="checkoutSdk"in E?E.checkoutSdk:null,O=Ke.useState(null),ee=kD(O,2),F=ee[0],me=ee[1],oe=Ke.useRef(null),X=Ke.useRef(null);mr(F,"blur",T),mr(F,"focus",I),mr(F,"escape",V),mr(F,"click",L),mr(F,"loaderror",M),mr(F,"loaderstart",W),mr(F,"networkschange",j),mr(F,"confirm",q),mr(F,"cancel",D),mr(F,"shippingaddresschange",P),mr(F,"shippingratechange",C),mr(F,"change",A);var pe;R&&(e==="expressCheckout"?pe=R:pe=function(){R(F)}),mr(F,"ready",pe),Ke.useLayoutEffect(function(){if(oe.current===null&&X.current!==null&&(x||k)){var z=null;k?z=k.createElement(e,_):x&&(z=x.create(e,_)),oe.current=z,me(z),z&&z.mount(X.current)}},[x,k,_]);var he=gE(_);return Ke.useEffect(function(){if(oe.current){var z=xD(_,he,["paymentRequest"]);z&&"update"in oe.current&&oe.current.update(z)}},[_,he]),Ke.useLayoutEffect(function(){return function(){if(oe.current&&typeof oe.current.destroy=="function")try{oe.current.destroy(),oe.current=null}catch{}}},[]),Ke.createElement("div",{id:h,className:m,ref:X})},s=function(d){yE("mounts <".concat(r,">"));var h=d.id,m=d.className;return Ke.createElement("div",{id:h,className:m})},l=t?s:i;return l.propTypes={id:kt.string,className:kt.string,onChange:kt.func,onBlur:kt.func,onFocus:kt.func,onReady:kt.func,onEscape:kt.func,onClick:kt.func,onLoadError:kt.func,onLoaderStart:kt.func,onNetworksChange:kt.func,onConfirm:kt.func,onCancel:kt.func,onShippingAddressChange:kt.func,onShippingRateChange:kt.func,options:kt.object},l.displayName=r,l.__elementType=e,l},Xt=typeof window>"u",O7=Ke.createContext(null);O7.displayName="EmbeddedCheckoutProviderContext";var N7=function(){var e=yE("calls useStripe()"),t=e.stripe;return t};Jt("auBankAccount",Xt);var Hb=Jt("card",Xt);Jt("cardNumber",Xt);Jt("cardExpiry",Xt);Jt("cardCvc",Xt);Jt("fpxBank",Xt);Jt("iban",Xt);Jt("idealBank",Xt);Jt("p24Bank",Xt);Jt("epsBank",Xt);Jt("payment",Xt);Jt("expressCheckout",Xt);Jt("currencySelector",Xt);Jt("paymentRequestButton",Xt);Jt("linkAuthentication",Xt);Jt("address",Xt);Jt("shippingAddress",Xt);Jt("paymentMethodMessaging",Xt);Jt("affirmMessage",Xt);Jt("afterpayClearpayMessage",Xt);const D7=Pt.create({baseURL:" https://api-6g6w7cmseq-uc.a.run.app/api"});function L7(){const[{basket:n,user:e},t]=K.useContext(Ms),r=n==null?void 0:n.reduce((I,R)=>R.amount+I,0),i=n.reduce((I,R)=>R.price*R.amount+I,0),[s,l]=K.useState(null),[u,d]=K.useState(!1),h=N7(),m=b7(),g=Ag(),_=I=>{var R,A;console.log(I),(R=I==null?void 0:I.error)!=null&&R.message?l((A=I==null?void 0:I.error)==null?void 0:A.message):l(null)},T=async I=>{var R;I.preventDefault();try{d(!0);const V=(R=(await D7({method:"POST",url:`/payment/create?total=${i*100}`})).data)==null?void 0:R.clientSecret,{paymentIntent:L}=await h.confirmCardPayment(V,{payment_method:{card:m.getElement(Hb)}});await dN.collection("users").doc(e.uid).collection("orders").doc(L.id).set({basket:n,amount:L.amount,created:L.created}),t({type:$i.EMPTY_BASKET}),d(!1),g("/orders",{state:{msg:"you have placed new orders"}})}catch(A){console.log(A),d(!1)}};return $.jsxs(Ic,{children:[$.jsxs("div",{className:_s.payment__header,children:["Checkout (",r," )items"]}),$.jsxs("section",{className:_s.payment,children:[$.jsxs("div",{className:_s.flex,children:[$.jsx("h3",{children:"Delivery Address"}),$.jsxs("div",{children:[$.jsx("div",{children:e==null?void 0:e.email}),$.jsx("div",{children:"1116 GetReed Ct"}),$.jsx("div",{children:"Rockville, MD"})]})]}),$.jsx("hr",{}),$.jsxs("div",{className:_s.flex,children:[$.jsx("h3",{children:"Review item and deliver info. "}),$.jsx("div",{children:n==null?void 0:n.map((I,R)=>$.jsx(Ac,{product:I,flex:!0},R))})]}),$.jsx("hr",{}),$.jsxs("div",{className:_s.flex,children:[$.jsx("h3",{children:"payment methods"}),$.jsx("div",{className:_s.payment__card__container,children:$.jsx("div",{className:_s.payment__details,children:$.jsxs("form",{onSubmit:T,children:[s&&$.jsx("small",{style:{color:"red"},children:s}),$.jsx(Hb,{onChange:_}),$.jsxs("div",{className:_s.payment__price,children:[$.jsx("div",{children:$.jsxs("span",{style:{display:"flex",gap:"10px"},children:[$.jsx("p",{children:"Total Order |"}),$.jsx(NI,{amount:i})]})}),$.jsx("button",{type:"submit",children:u?$.jsxs("div",{className:_s.loading,children:[$.jsx(PD,{color:"gray",size:35}),$.jsx("p",{children:"please wait ..."})]}):"Pay Now"})]})]})})})]})]})]})}const V7="_products__container_1lp3k_1",M7={products__container:V7},VD="https://fakestoreapi.com";function F7(){const[n,e]=K.useState([]),[t,r]=K.useState(!1),{categoryName:i}=oC();return console.log(i),K.useEffect(()=>{(async()=>{r(!0);try{let s=await Pt.get(`${VD}/products/category/${i}`);console.log(s),e(s.data),r(!1)}catch(s){console.error(s),r(!1)}})()},[i]),$.jsx(Ic,{children:$.jsxs("div",{children:[$.jsx("h1",{style:{padding:"2rem"},children:"Results"}),$.jsxs("p",{style:{padding:"2rem"},children:["Category/",i]}),$.jsx("hr",{}),t?$.jsx(bD,{}):$.jsx("div",{className:M7.products__container,children:n==null?void 0:n.map((s,l)=>$.jsx(Ac,{product:s,renderAdd:!0},l))})]})})}const U7="_login_1pni7_1",$7="_login__container_1pni7_23",j7="_login__signInButton_1pni7_93",B7="_login__registerButton_1pni7_125",nm={login:U7,login__container:$7,login__signInButton:j7,login__registerButton:B7};function z7(){var T,I;const[n,e]=K.useState(""),[t,r]=K.useState(""),[i,s]=K.useState(""),[l,u]=K.useState({signin:!1,signup:!1}),[d,h]=K.useContext(Ms);console.log(d);const m=Ag(),g=Ko();console.log(g);const _=async R=>{R.preventDefault(),console.log(R.target.name),R.target.name=="signin"?(u({...l,signin:!0}),bU(gg,n,t).then(A=>{var V;h({type:$i.SET_USER,user:A.user}),u({...l,signin:!1}),m(((V=g==null?void 0:g.state)==null?void 0:V.redirect)||"/")}).catch(A=>{s(A.message),u({...l,signin:!1})})):(u({...l,signup:!0}),PU(gg,n,t).then(A=>{h({type:$i.SET_USER,user:A.user}),u({...l,signup:!1}),m((g==null?void 0:g.state.redirect)||"/")}).catch(A=>{console.log(A),u({...l,signup:!1})}))};return $.jsxs("section",{className:nm.login,children:[$.jsx(li,{to:"/",children:$.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/62/Amazon.com-Logo.svg/1920px-Amazon.com-Logo.svg.png",alt:""})}),$.jsxs("div",{className:nm.login__container,children:[$.jsx("h1",{children:"Sing In"}),((T=g==null?void 0:g.state)==null?void 0:T.msg)&&$.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:(I=g==null?void 0:g.state)==null?void 0:I.msg}),$.jsxs("form",{action:"",children:[$.jsxs("div",{children:[$.jsx("label",{htmlFor:"email",children:"Email"}),$.jsx("input",{value:n,onChange:R=>e(R.target.value),type:"email",id:"email"})]}),$.jsxs("div",{children:[$.jsx("label",{htmlFor:"password",children:"Password"}),$.jsx("input",{value:t,onChange:R=>r(R.target.value),type:"password",id:"password"})]}),$.jsx("button",{type:"submit",onClick:_,name:"signin",className:nm.login__signInButton,children:l.signin?$.jsx(Ub,{color:"#000",size:15}):"Sign In"})]}),$.jsx("p",{children:"By signing-in you agree to the AMAZON FAKE CLONE conditions of use & sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),$.jsx("button",{type:"submit",name:"signup",onClick:_,className:nm.login__registerButton,children:l.signup?$.jsx(Ub,{color:"#000",size:15}):"Create your Amazon Account"}),i&&$.jsx("small",{style:{paddingTop:"5px",color:"red"},children:i})]})]})}function W7(){const{productId:n}=oC();console.log(n);const[e,t]=K.useState([]);return K.useEffect(()=>{Pt.get(`${VD}/products/${n}`).then(r=>{console.log(r),t(r.data),setIsLoading(!1)}).catch(r=>{console.log(r),setIsLoading(!1)})},[]),$.jsx(Ic,{children:$.jsx("div",{children:isLoading?$.jsx(Loader,{}):$.jsx(Ac,{product:e,flex:!0,renderDesc:!0,renderAdd:!0})})})}var q7="v3",H7=function(e){return e===3?"v3":e},MD="https://js.stripe.com",K7="".concat(MD,"/v3"),G7=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Q7=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var Y7=function(e){return G7.test(e)||Q7.test(e)},J7=function(){for(var e=document.querySelectorAll('script[src^="'.concat(MD,'"]')),t=0;t<e.length;t++){var r=e[t];if(Y7(r.src))return r}return null},Kb=function(e){var t="",r=document.createElement("script");r.src="".concat(K7).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},X7=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.10.0",startTime:t})},Bd=null,rm=null,im=null,Z7=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},eQ=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},tQ=function(e){return Bd!==null?Bd:(Bd=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=J7();if(!(i&&e)){if(!i)i=Kb(e);else if(i&&im!==null&&rm!==null){var s;i.removeEventListener("load",im),i.removeEventListener("error",rm),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=Kb(e)}}im=eQ(t,r),rm=Z7(r),i.addEventListener("load",im),i.addEventListener("error",rm)}catch(l){r(l);return}}),Bd.catch(function(t){return Bd=null,Promise.reject(t)}))},nQ=function(e,t,r){if(e===null)return null;var i=t[0],s=i.match(/^pk_test/),l=H7(e.version),u=q7;s&&l!==u&&console.warn("Stripe.js@".concat(l," was loaded on the page, but @stripe/stripe-js@").concat("5.10.0"," expected Stripe.js@").concat(u,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var d=e.apply(void 0,t);return X7(d,r),d},zd,FD=!1,UD=function(){return zd||(zd=tQ(null).catch(function(e){return zd=null,Promise.reject(e)}),zd)};Promise.resolve().then(function(){return UD()}).catch(function(n){FD||console.warn(n)});var rQ=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];FD=!0;var i=Date.now();return UD().then(function(s){return nQ(s,t,i)})};const Gb=({children:n,msg:e,redirect:t})=>{const r=Ag(),[{user:i},s]=K.useContext(Ms);return K.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:t}})},[i]),n},iQ=rQ("pk_test_51R03VMC5hoVAHMdnOTsq3T41ogQolckYZuUQxQRN19MXpKSk7Q70Pblz74Cs1quYK3A7S98nl1mqUKnAcre0hSTx00VwZ9OWea");function sQ(){return $.jsx("div",{children:$.jsx(NM,{basename:"/Amazon-Clone",children:$.jsxs(uM,{children:[$.jsx(Eo,{path:"/",element:$.jsx(ZG,{})}),$.jsx(Eo,{path:"/auth",element:$.jsx(z7,{})}),$.jsx(Eo,{path:"/cart",element:$.jsx(l7,{})}),$.jsx(Eo,{path:"/orders",element:$.jsx(Gb,{msg:"you must log in to access your orders",redirect:"/orders",children:$.jsx(d7,{})})}),$.jsx(Eo,{path:"/category/:categoryName",element:$.jsx(F7,{})}),$.jsx(Eo,{path:"/product/:productId",element:$.jsx(W7,{})}),$.jsx(Eo,{path:"/payment",element:$.jsx(Gb,{msg:"you must log in to pay",redirect:"/payment",children:$.jsx(DD,{stripe:iQ,children:$.jsx(L7,{})})})})]})})})}function oQ(){const[{user:n},e]=K.useContext(Ms);return K.useEffect(()=>{gg.onAuthStateChanged(t=>{e(t?{type:$i.SET_USER,user:t}:{type:$i.SET_USER,user:null})})},[]),$.jsx($.Fragment,{children:$.jsx(sQ,{})})}const aQ={basket:[],user:null},lQ=(n,e)=>{switch(e.type){case $i.ADD_TO_BASKET:if(n.basket.find(s=>s.id===e.item.id)){const s=n.basket.map(l=>l.id===e.item.id?{...l,amount:l.amount+1}:l);return{...n,basket:s}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case $i.REMOVE_FROM_BASKET:const r=n.basket.findIndex(s=>s.id===e.id);let i=[...n.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...n,basket:i};case $i.EMPTY_BASKET:return{...n,basket:{}};case $i.SET_USER:return{...n,user:e.user};default:return n}};XL.createRoot(document.getElementById("root")).render($.jsx(K.StrictMode,{children:$.jsx(zM,{reducer:lQ,initialState:aQ,children:$.jsx(oQ,{})})}));
